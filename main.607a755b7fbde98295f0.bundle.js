webpackJsonp([1],{"/Aon":function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},0:function(t,e){},1:function(t,e,n){t.exports=n("cDNt")},"1Rb4":function(t,e,n){"use strict";(function(e){t.exports=!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}:e.nextTick}).call(e,n("1WNV"))},"1WNV":function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){g&&d&&(g=!1,d.length?p=d.concat(p):v=-1,p.length&&a())}function a(){if(!g){var t=i(s);g=!0;for(var e=p.length;e;){for(d=p,p=[];++v<e;)d&&d[v].run();v=-1,e=p.length}d=null,g=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,f=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var d,p=[],g=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||g||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},"1j/l":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},"1wxl":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("QBTG");e.Angular2FontawesomeModule=r.Angular2FontawesomeModule},2:function(t,e){},"2kLc":function(t,e,n){"use strict";var r=n("AP4T"),i=n("Oryw"),o=n("bywS"),s=n("3iOE");n.d(e,"a",function(){return a});var a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,u=t[t.length-1];return Object(s.a)(u)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===a&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(n)(new i.a(t,a))}},3:function(t,e){},"37wT":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("LMZF"),i=(n("LMZF"),n("LMZF"));e.FaComponent=function(){function t(t){this.classList=["fa"]}return t.prototype.ngOnChanges=function(e){for(var n in e){var r=e[n].previousValue,i=e[n].currentValue;switch(n){case"name":this.removeFaClass("fa-"+r),this.addFaClass("fa-"+i);break;case"alt":break;case"size":t.sizeValidator.test(i)&&(this.removeFaClass(1===r?"fa-lg":"fa-"+r+"x"),this.classList.push(1===i?"fa-lg":"fa-"+i+"x"));break;case"stack":t.sizeValidator.test(i)&&(this.removeFaClass("fa-stack-"+r+"x"),this.addFaClass("fa-stack-"+i+"x"));break;case"flip":t.flipValidator.test(i)&&(this.removeFaClass("fa-flip-"+r),this.addFaClass("fa-flip-"+i));break;case"pull":t.pullValidator.test(i)&&(this.removeFaClass("fa-pull-"+r),this.addFaClass("fa-pull-"+i));break;case"rotate":t.rotateValidator.test(i)&&(this.removeFaClass("fa-rotate-"+r),this.addFaClass("fa-rotate-"+i));break;case"border":i?this.addFaClass("fa-border"):this.removeFaClass("fa-border");break;case"spin":i?this.addFaClass("fa-spin"):this.removeFaClass("fa-spin");break;case"fw":i?this.addFaClass("fa-fw"):this.removeFaClass("fa-fw");break;case"inverse":i?this.addFaClass("fa-inverse"):this.removeFaClass("fa-inverse")}}},t.prototype.addFaClass=function(t){this.classList.push(t)},t.prototype.removeFaClass=function(t){var e;(e=this.classList.indexOf(t))>=0&&this.classList.splice(e,1)},t.sizeValidator=/[1-5]/,t.flipValidator=/['horizontal'|'vertical']/,t.pullValidator=/['right'|'left']/,t.rotateValidator=/[90|180|270]/,t.decorators=[{type:r.Component,args:[{selector:"fa",template:'\n  <i [ngClass]="classList"></i>\n'}]}],t.propDecorators={name:[{type:i.Input}],alt:[{type:i.Input}],size:[{type:i.Input}],stack:[{type:i.Input}],flip:[{type:i.Input}],pull:[{type:i.Input}],rotate:[{type:i.Input}],border:[{type:i.Input}],spin:[{type:i.Input}],fw:[{type:i.Input}],inverse:[{type:i.Input}]},t}()},"3iOE":function(t,e,n){"use strict";e.a=function(t){return t&&"function"==typeof t.schedule}},"3v+G":function(t,e,n){(function(t,r){var i;!function(r){function o(t){throw new RangeError(k[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function a(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+s((t=t.replace(E,".")).split("."),e).join(".")}function u(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function c(t){return s(t,function(t){var e="";return t>65535&&(e+=j((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=j(t)}).join("")}function l(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:y}function h(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function f(t,e,n){var r=0;for(t=n?A(t/w):t>>1,t+=A(t/e);t>P*b>>1;r+=y)t=A(t/P);return A(r+(P+1)*t/(t+_))}function d(t){var e,n,r,i,s,a,u,h,d,p,g=[],_=t.length,w=0,O=x,T=C;for((n=t.lastIndexOf(S))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&o("not-basic"),g.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<_;){for(s=w,a=1,u=y;i>=_&&o("invalid-input"),((h=l(t.charCodeAt(i++)))>=y||h>A((v-w)/a))&&o("overflow"),w+=h*a,d=u<=T?m:u>=T+b?b:u-T,!(h<d);u+=y)a>A(v/(p=y-d))&&o("overflow"),a*=p;T=f(w-s,e=g.length+1,0==s),A(w/e)>v-O&&o("overflow"),O+=A(w/e),w%=e,g.splice(w++,0,O)}return c(g)}function p(t){var e,n,r,i,s,a,c,l,d,p,g,_,w,O,T,E=[];for(_=(t=u(t)).length,e=x,n=0,s=C,a=0;a<_;++a)(g=t[a])<128&&E.push(j(g));for(r=i=E.length,i&&E.push(S);r<_;){for(c=v,a=0;a<_;++a)(g=t[a])>=e&&g<c&&(c=g);for(c-e>A((v-n)/(w=r+1))&&o("overflow"),n+=(c-e)*w,e=c,a=0;a<_;++a)if((g=t[a])<e&&++n>v&&o("overflow"),g==e){for(l=n,d=y;p=d<=s?m:d>=s+b?b:d-s,!(l<p);d+=y)E.push(j(h(p+(T=l-p)%(O=y-p),0))),l=A(T/O);E.push(j(h(l,0))),s=f(n,w,r==i),n=0,++r}++n,++e}return E.join("")}var g,v=2147483647,y=36,m=1,b=26,_=38,w=700,C=72,x=128,S="-",O=/^xn--/,T=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=y-m,A=Math.floor,j=String.fromCharCode;g={version:"1.4.1",ucs2:{decode:u,encode:c},decode:d,encode:p,toASCII:function(t){return a(t,function(t){return T.test(t)?"xn--"+p(t):t})},toUnicode:function(t){return a(t,function(t){return O.test(t)?d(t.slice(4).toLowerCase()):t})}},void 0!==(i=function(){return g}.call(e,n,e,t))&&(t.exports=i)}()}).call(e,n("ZwkM")(t),n("fRUx"))},4:function(t,e){},"4HLy":function(t,e,n){var r=n("v0OU").Buffer;t.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(r.isBuffer(t)){for(var e=new Uint8Array(t.length),n=t.length,i=0;i<n;i++)e[i]=t[i];return e.buffer}throw new Error("Argument must be a Buffer")}},5:function(t,e){},"5E84":function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}t.exports=r;var i=n("C7jF"),o=n("VIKU");o.inherits=n("lDCR"),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},"5HzR":function(t,e,n){var r=n("jgl2"),i=t.exports;for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);i.request=function(t,e){return t||(t={}),t.scheme="https",t.protocol="https:",r.request.call(this,t,e)}},"6QZ3":function(t,e,n){"use strict";(function(e,r){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){T(e,t)}}function o(t){return M.from(t)}function s(t){return M.isBuffer(t)||t instanceof I}function a(){}function u(t,e){k=k||n("dJzE"),this.objectMode=!!(t=t||{}).objectMode,e instanceof k&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark;this.highWaterMark=r||0===r?r:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){y(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function c(t){if(k=k||n("dJzE"),!(L.call(c,this)||this instanceof k))return new c(t);this._writableState=new u(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),R.call(this)}function l(t,e){var n=new Error("write after end");t.emit("error",n),E(e,n)}function h(t,e,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),E(r,o),i=!1),i}function f(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=M.from(e,n)),e}function d(t,e,n,r,i,o){if(!n){var s=f(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else p(t,e,!1,a,r,i,o);return u}function p(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function g(t,e,n,r,i){--e.pendingcb,n?(E(i,r),E(S,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),S(t,e))}function v(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function y(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(v(n),e)g(t,n,r,e,i);else{var o=w(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||_(t,n),r?P(m,t,n,o,i):m(t,n,o,i)}}function m(t,e,n,r){n||b(t,e),e.pendingcb--,r(),S(t,e)}function b(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function _(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,u=!0;n;)o[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;o.allBuffers=u,p(t,e,!0,e.length,o,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new i(e)}else{for(;n;){var c=n.chunk;if(p(t,e,!1,e.objectMode?1:c.length,c,n.encoding,n.callback),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function C(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),S(t,e)})}function x(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,E(C,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function S(t,e){var n=w(e);return n&&(x(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}function O(t,e,n){e.ending=!0,S(t,e),n&&(e.finished?E(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function T(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}var E=n("1Rb4");t.exports=c;var k,P=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?setImmediate:E;c.WritableState=u;var A=n("VIKU");A.inherits=n("lDCR");var j={deprecate:n("7RTT")},R=n("wHgO"),M=n("zOKz").Buffer,I=r.Uint8Array||function(){},D=n("iAGO");A.inherits(c,R),u.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(u.prototype,"buffer",{get:j.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var L;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(t){return!!L.call(this,t)||t&&t._writableState instanceof u}})):L=function(t){return t instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(t,e,n){var r=this._writableState,i=!1,u=s(t)&&!r.objectMode;return u&&!M.isBuffer(t)&&(t=o(t)),"function"==typeof e&&(n=e,e=null),u?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=a),r.ended?l(this,n):(u||h(this,r,t,n))&&(r.pendingcb++,i=d(this,r,u,t,e,n)),i},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},c.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},c.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||O(this,r,n)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),c.prototype.destroy=D.destroy,c.prototype._undestroy=D.undestroy,c.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,n("1WNV"),n("fRUx"))},"6Xbx":function(t,e,n){"use strict";e.c=function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"a",function(){return i}),e.b=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},e.d=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},"7RTT":function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(e,n("fRUx"))},"7UKz":function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&s.isObject(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}var o=n("3v+G"),s=n("/Aon");e.parse=i,e.resolve=function(t,e){return i(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?i(t,!1,!0).resolveObject(e):e},e.format=function(t){return s.isString(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)},e.Url=r;var a=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(l),f=["%","/","?",";","#"].concat(h),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n("Xgfo");r.prototype.parse=function(t,e,n){if(!s.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=-1!==r&&r<t.indexOf("#")?"?":"#",u=t.split(i);u[0]=u[0].replace(/\\/g,"/");var l=t=u.join(i);if(l=l.trim(),!n&&1===t.split("#").length){var _=c.exec(l);if(_)return this.path=l,this.href=l,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=a.exec(l);if(w){var C=(w=w[0]).toLowerCase();this.protocol=C,l=l.substr(w.length)}if(n||w||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===l.substr(0,2);!x||w&&y[w]||(l=l.substr(2),this.slashes=!0)}if(!y[w]&&(x||w&&!m[w])){for(var S=-1,O=0;O<d.length;O++)-1!==(k=l.indexOf(d[O]))&&(-1===S||k<S)&&(S=k);var T,E;for(-1!==(E=-1===S?l.lastIndexOf("@"):l.lastIndexOf("@",S))&&(T=l.slice(0,E),l=l.slice(E+1),this.auth=decodeURIComponent(T)),S=-1,O=0;O<f.length;O++){var k=l.indexOf(f[O]);-1!==k&&(-1===S||k<S)&&(S=k)}-1===S&&(S=l.length),this.host=l.slice(0,S),l=l.slice(S),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var A=this.hostname.split(/\./),O=0,j=A.length;O<j;O++){var R=A[O];if(R&&!R.match(p)){for(var M="",I=0,D=R.length;I<D;I++)R.charCodeAt(I)>127?M+="x":M+=R[I];if(!M.match(p)){var L=A.slice(0,O),N=A.slice(O+1),F=R.match(g);F&&(L.push(F[1]),N.unshift(F[2])),N.length&&(l="/"+N.join(".")+l),this.hostname=L.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),P||(this.hostname=o.toASCII(this.hostname));var B=this.port?":"+this.port:"";this.host=(this.hostname||"")+B,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==l[0]&&(l="/"+l))}if(!v[C])for(var O=0,j=h.length;O<j;O++){var V=h[O];if(-1!==l.indexOf(V)){var U=encodeURIComponent(V);U===V&&(U=escape(V)),l=l.split(V).join(U)}}var z=l.indexOf("#");-1!==z&&(this.hash=l.substr(z),l=l.slice(0,z));var H=l.indexOf("?");return-1!==H?(this.search=l.substr(H),this.query=l.substr(H+1),e&&(this.query=b.parse(this.query)),l=l.slice(0,H)):e&&(this.search="",this.query={}),l&&(this.pathname=l),m[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(B=this.pathname||"")+(this.search||"")),this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=b.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+i+n+a+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(s.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=t[l])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!m[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var d=h[f];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||y[t.protocol])n.pathname=t.pathname;else{for(w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==w[0]&&w.unshift(""),w.length<2&&w.unshift(""),n.pathname=w.join("/")}return n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var p=n.pathname&&"/"===n.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),v=g||p||n.host&&t.pathname,b=v,_=n.pathname&&n.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],C=n.protocol&&!m[n.protocol];if(C&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===w[0]?w[0]=t.host:w.unshift(t.host)),t.host=null),v=v&&(""===w[0]||""===_[0])),g)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,_=w;else if(w.length)_||(_=[]),_.pop(),_=_.concat(w),n.search=t.search,n.query=t.query;else if(!s.isNullOrUndefined(t.search))return C&&(n.hostname=n.host=_.shift(),(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift())),n.search=t.search,n.query=t.query,s.isNull(n.pathname)&&s.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var x=_.slice(-1)[0],S=(n.host||t.host||_.length>1)&&("."===x||".."===x)||""===x,O=0,T=_.length;T>=0;T--)"."===(x=_[T])?_.splice(T,1):".."===x?(_.splice(T,1),O++):O&&(_.splice(T,1),O--);if(!v&&!b)for(;O--;O)_.unshift("..");!v||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),S&&"/"!==_.join("/").substr(-1)&&_.push("");var E=""===_[0]||_[0]&&"/"===_[0].charAt(0);if(C){n.hostname=n.host=E?"":_.length?_.shift():"";var k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");k&&(n.auth=k.shift(),n.host=n.hostname=k.shift())}return(v=v||n.host&&_.length)&&!E&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),s.isNull(n.pathname)&&s.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=u.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},"7WRt":function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*g}},"8Ut3":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return Object(r.c)(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.value,n=t.subscriber;t.done?n.complete():(n.next(e),n.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(n("AP4T").a)},"9jcD":function(t,e,n){(function(e,r,i){function o(t,e){return a.fetch&&e?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&t?"arraybuffer":a.vbArray&&t?"text:vbarray":"text"}function s(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}}var a=n("GI4I"),u=n("lDCR"),c=n("FOz5"),l=n("Osec"),h=n("4HLy"),f=c.IncomingMessage,d=c.readyStates,p=t.exports=function(t){var n=this;l.Writable.call(n),n._opts=t,n._body=[],n._headers={},t.auth&&n.setHeader("Authorization","Basic "+new e(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(e){n.setHeader(e,t.headers[e])});var r,i=!0;if("disable-fetch"===t.mode||"timeout"in t)i=!1,r=!0;else if("prefer-streaming"===t.mode)r=!1;else if("allow-wrong-content-type"===t.mode)r=!a.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=o(r,i),n.on("finish",function(){n._onFinish()})};u(p,l.Writable),p.prototype.setHeader=function(t,e){var n=this,r=t.toLowerCase();-1===g.indexOf(r)&&(n._headers[r]={name:t,value:e})},p.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},p.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},p.prototype._onFinish=function(){var t=this;if(!t._destroyed){var n=t._opts,o=t._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=a.blobConstructor?new r.Blob(t._body.map(function(t){return h(t)}),{type:(o["content-type"]||{}).value||""}):e.concat(t._body).toString());var u=[];if(Object.keys(o).forEach(function(t){var e=o[t].name,n=o[t].value;Array.isArray(n)?n.forEach(function(t){u.push([e,t])}):u.push([e,n])}),"fetch"===t._mode)r.fetch(t._opts.url,{method:t._opts.method,headers:u,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin"}).then(function(e){t._fetchResponse=e,t._connect()},function(e){t.emit("error",e)});else{var c=t._xhr=new r.XMLHttpRequest;try{c.open(t._opts.method,t._opts.url,!0)}catch(e){return void i.nextTick(function(){t.emit("error",e)})}"responseType"in c&&(c.responseType=t._mode.split(":")[0]),"withCredentials"in c&&(c.withCredentials=!!n.withCredentials),"text"===t._mode&&"overrideMimeType"in c&&c.overrideMimeType("text/plain; charset=x-user-defined"),"timeout"in n&&(c.timeout=n.timeout,c.ontimeout=function(){t.emit("timeout")}),u.forEach(function(t){c.setRequestHeader(t[0],t[1])}),t._response=null,c.onreadystatechange=function(){switch(c.readyState){case d.LOADING:case d.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(c.onprogress=function(){t._onXHRProgress()}),c.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{c.send(s)}catch(e){return void i.nextTick(function(){t.emit("error",e)})}}}},p.prototype._onXHRProgress=function(){var t=this;s(t._xhr)&&!t._destroyed&&(t._response||t._connect(),t._response._onXHRProgress())},p.prototype._connect=function(){var t=this;t._destroyed||(t._response=new f(t._xhr,t._fetchResponse,t._mode),t._response.on("error",function(e){t.emit("error",e)}),t.emit("response",t._response))},p.prototype._write=function(t,e,n){this._body.push(t),n()},p.prototype.abort=p.prototype.destroy=function(){var t=this;t._destroyed=!0,t._response&&(t._response._destroyed=!0),t._xhr&&t._xhr.abort()},p.prototype.end=function(t,e,n){"function"==typeof t&&(n=t,t=void 0),l.Writable.prototype.end.call(this,t,e,n)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var g=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(e,n("v0OU").Buffer,n("fRUx"),n("1WNV"))},AP4T:function(t,e,n){"use strict";function r(t,e,n){if(t){if(t instanceof o.a)return t;if(t[s.a])return t[s.a]()}return t||e||n?new o.a(t,e,n):new o.a(a.a)}var i=n("xIGM"),o=n("E9/g"),s=n("V7AE"),a=n("grVA"),u=n("mz3w"),c=n("ExCY");n.d(e,"a",function(){return l});var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i=this.operator,o=r(t,e,n);if(i?i.call(o,this.source):o.add(this.source?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(i.a.Rx&&i.a.Rx.config&&i.a.Rx.config.Promise?e=i.a.Rx.config.Promise:i.a.Promise&&(e=i.a.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i;i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[u.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:Object(c.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(i.a.Rx&&i.a.Rx.config&&i.a.Rx.config.Promise?t=i.a.Rx.config.Promise:i.a.Promise&&(t=i.a.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}()},B1iP:function(t,e,n){"use strict";e.a=function(t){return"function"==typeof t}},C7jF:function(t,e,n){"use strict";function r(t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState=new r(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t,n){s(e,t,n)}):s(e)})}function s(t,e,n){if(e)return t.emit("error",e);null!==n&&void 0!==n&&t.push(n);var r=t._transformState;if(t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=o;var a=n("dJzE"),u=n("VIKU");u.inherits=n("lDCR"),u.inherits(o,a),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;a.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},CDvF:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},Cb9T:function(module,exports,__webpack_require__){(function(Buffer,process){var fabric=fabric||{version:"1.7.21"};exports.fabric=fabric,"undefined"!=typeof document&&"undefined"!=typeof window?(fabric.document=document,fabric.window=window,window.fabric=fabric):(fabric.document=__webpack_require__(2).jsdom(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E")),fabric.window=fabric.document.createWindow?fabric.document.createWindow():fabric.document.parentWindow),fabric.isTouchSupported="ontouchstart"in fabric.window,fabric.isLikelyNode=void 0!==Buffer&&"undefined"==typeof window,fabric.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id"],fabric.DPI=96,fabric.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",fabric.fontPaths={},fabric.iMatrix=[1,0,0,1,0,0],fabric.canvasModule="canvas",fabric.perfLimitSizeTotal=2097152,fabric.maxCacheSideLimit=4096,fabric.minCacheSideLimit=256,fabric.charWidthsCache={},fabric.devicePixelRatio=fabric.window.devicePixelRatio||fabric.window.webkitDevicePixelRatio||fabric.window.mozDevicePixelRatio||1,function(){function t(t,e){if(this.__eventListeners[t]){var n=this.__eventListeners[t];e?n[n.indexOf(e)]=!1:fabric.util.array.fill(n,!1)}}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in t)this.on(n,t[n]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function n(e,n){if(this.__eventListeners){if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"==typeof arguments[0])for(var r in e)t.call(this,r,e[r]);else t.call(this,e,n);return this}}function r(t,e){if(this.__eventListeners){var n=this.__eventListeners[t];if(n){for(var r=0,i=n.length;r<i;r++)n[r]&&n[r].call(this,e||{});return this.__eventListeners[t]=n.filter(function(t){return!1!==t}),this}}}fabric.Observable={observe:e,stopObserving:n,fire:r,on:e,off:n,trigger:r}}(),fabric.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.renderAll(),this},insertAt:function(t,e,n){var r=this.getObjects();return n?r[e]=t:r.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.renderAll(),this},remove:function(){for(var t,e=this.getObjects(),n=!1,r=0,i=arguments.length;r<i;r++)-1!==(t=e.indexOf(arguments[r]))&&(n=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&n&&this.renderAll(),this},forEachObject:function(t,e){for(var n=this.getObjects(),r=0,i=n.length;r<i;r++)t.call(e,n[r],r,n);return this},getObjects:function(t){return void 0===t?this._objects:this._objects.filter(function(e){return e.type===t})},item:function(t){return this.getObjects()[t]},isEmpty:function(){return 0===this.getObjects().length},size:function(){return this.getObjects().length},contains:function(t){return this.getObjects().indexOf(t)>-1},complexity:function(){return this.getObjects().reduce(function(t,e){return t+=e.complexity?e.complexity():0},0)}},fabric.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof fabric.Gradient||this.set(e,new fabric.Gradient(t))},_initPattern:function(t,e,n){!t||!t.source||t instanceof fabric.Pattern?n&&n():this.set(e,new fabric.Pattern(t,n))},_initClipping:function(t){if(t.clipTo&&"string"==typeof t.clipTo){var e=fabric.util.getFunctionBody(t.clipTo);void 0!==e&&(this.clipTo=new Function("ctx",e))}},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):"function"==typeof e&&"clipTo"!==t?this._set(t,e(this.get(t))):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},function(t){var e=Math.sqrt,n=Math.atan2,r=Math.pow,i=Math.abs,o=Math.PI/180;fabric.util={removeFromArray:function(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*o},radiansToDegrees:function(t){return t/o},rotatePoint:function(t,e,n){t.subtractEquals(e);var r=fabric.util.rotateVector(t,n);return new fabric.Point(r.x,r.y).addEquals(e)},rotateVector:function(t,e){var n=Math.sin(e),r=Math.cos(e);return{x:t.x*r-t.y*n,y:t.x*n+t.y*r}},transformPoint:function(t,e,n){return n?new fabric.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new fabric.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t){var e=[t[0].x,t[1].x,t[2].x,t[3].x],n=fabric.util.array.min(e),r=fabric.util.array.max(e),i=Math.abs(n-r),o=[t[0].y,t[1].y,t[2].y,t[3].y],s=fabric.util.array.min(o),a=fabric.util.array.max(o);return{left:n,top:s,width:i,height:Math.abs(s-a)}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),n=[e*t[3],-e*t[1],-e*t[2],e*t[0]],r=fabric.util.transformPoint({x:t[4],y:t[5]},n,!0);return n[4]=-r.x,n[5]=-r.y,n},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var n=/\D{0,2}$/.exec(t),r=parseFloat(t);switch(e||(e=fabric.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return r*fabric.DPI/25.4;case"cm":return r*fabric.DPI/2.54;case"in":return r*fabric.DPI;case"pt":return r*fabric.DPI/72;case"pc":return r*fabric.DPI/72*12;case"em":return r*e;default:return r}},falseFunction:function(){return!1},getKlass:function(t,e){return t=fabric.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),fabric.util.resolveNamespace(e)[t]},resolveNamespace:function(e){if(!e)return fabric;var n,r=e.split("."),i=r.length,o=t||fabric.window;for(n=0;n<i;++n)o=o[r[n]];return o},loadImage:function(t,e,n,r){if(t){var i=fabric.util.createImage();i.onload=function(){e&&e.call(n,i),i=i.onload=i.onerror=null},i.onerror=function(){fabric.log("Error loading "+i.src),e&&e.call(n,null,!0),i=i.onload=i.onerror=null},0!==t.indexOf("data")&&r&&(i.crossOrigin=r),i.src=t}else e&&e.call(n,t)},enlivenObjects:function(t,e,n,r){function i(){++s===a&&e&&e(o)}var o=[],s=0,a=(t=t||[]).length;a?t.forEach(function(t,e){t&&t.type?fabric.util.getKlass(t.type,n).fromObject(t,function(n,s){s||(o[e]=n),r&&r(t,n,s),i()},!0):i()}):e&&e(o)},enlivenPatterns:function(t,e){function n(){++i===o&&e&&e(r)}var r=[],i=0,o=(t=t||[]).length;o?t.forEach(function(t,e){t&&t.source?new fabric.Pattern(t,function(t){r[e]=t,n()}):(r[e]=t,n())}):e&&e(r)},groupSVGElements:function(t,e,n){var r;return r=new fabric.PathGroup(t,e),void 0!==n&&(r.sourcePath=n),r},populateWithProperties:function(t,e,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var r=0,i=n.length;r<i;r++)n[r]in t&&(e[n[r]]=t[n[r]])},drawDashedLine:function(t,r,i,o,s,a){var u=o-r,c=s-i,l=e(u*u+c*c),h=n(c,u),f=a.length,d=0,p=!0;for(t.save(),t.translate(r,i),t.moveTo(0,0),t.rotate(h),r=0;l>r;)(r+=a[d++%f])>l&&(r=l),t[p?"lineTo":"moveTo"](r,0),p=!p;t.restore()},createCanvasElement:function(t){return t||(t=fabric.document.createElement("canvas")),t.getContext||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(t),t},createImage:function(){return fabric.isLikelyNode?new(__webpack_require__(0).Image):fabric.document.createElement("img")},createAccessors:function(t){var e,n,r,i,o,s=t.prototype;for(e=s.stateProperties.length;e--;)i="set"+(r=(n=s.stateProperties[e]).charAt(0).toUpperCase()+n.slice(1)),s[o="get"+r]||(s[o]=function(t){return new Function('return this.get("'+t+'")')}(n)),s[i]||(s[i]=function(t){return new Function("value",'return this.set("'+t+'", value)')}(n))},clipContext:function(t,e){e.save(),e.beginPath(),t.clipTo(e),e.clip()},multiplyTransformMatrices:function(t,e,n){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],n?0:t[0]*e[4]+t[2]*e[5]+t[4],n?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var i=n(t[1],t[0]),s=r(t[0],2)+r(t[1],2),a=e(s),u=(t[0]*t[3]-t[2]*t[1])/a,c=n(t[0]*t[2]+t[1]*t[3],s);return{angle:i/o,scaleX:a,scaleY:u,skewX:c/o,skewY:0,translateX:t[4],translateY:t[5]}},customTransformMatrix:function(t,e,n){var r=[1,0,i(Math.tan(n*o)),1],s=[i(t),0,0,i(e)];return fabric.util.multiplyTransformMatrices(s,r,!0)},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.setAngle(0)},getFunctionBody:function(t){return(String(t).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(t,e,n,r){r>0&&(e>r?e-=r:e=0,n>r?n-=r:n=0);var i,o,s=!0,a=t.getImageData(e,n,2*r||1,2*r||1),u=a.data.length;for(i=3;i<u&&(o=a.data[i],0!=(s=o<=0));i+=4);return a=null,s},parsePreserveAspectRatioAttribute:function(t){var e,n="meet",r="Mid",i="Mid",o=t.split(" ");return o&&o.length&&("meet"!==(n=o.pop())&&"slice"!==n?(e=n,n="meet"):o.length&&(e=o.pop())),r="none"!==e?e.slice(1,4):"none",i="none"!==e?e.slice(5,8):"none",{meetOrSlice:n,alignX:r,alignY:i}},clearFabricFontCache:function(t){t?fabric.charWidthsCache[t]&&delete fabric.charWidthsCache[t]:fabric.charWidthsCache={}},limitDimsByArea:function(t,e){var n=Math.sqrt(e*t),r=Math.floor(e/n);return{x:Math.floor(n),y:r}},capValue:function(t,e,n){return Math.max(t,Math.min(e,n))}}}(exports),function(){function t(t,r,o,s,u,c,l){var h=a.call(arguments);if(i[h])return i[h];var f=Math.PI,d=l*f/180,p=Math.sin(d),g=Math.cos(d),v=0,y=0,m=-g*t*.5-p*r*.5,b=-g*r*.5+p*t*.5,_=(o=Math.abs(o))*o,w=(s=Math.abs(s))*s,C=b*b,x=m*m,S=_*w-_*C-w*x,O=0;if(S<0){var T=Math.sqrt(1-S/(_*w));o*=T,s*=T}else O=(u===c?-1:1)*Math.sqrt(S/(_*C+w*x));var E=O*o*b/s,k=-O*s*m/o,P=g*E-p*k+.5*t,A=p*E+g*k+.5*r,j=n(1,0,(m-E)/o,(b-k)/s),R=n((m-E)/o,(b-k)/s,(-m-E)/o,(-b-k)/s);0===c&&R>0?R-=2*f:1===c&&R<0&&(R+=2*f);for(var M=Math.ceil(Math.abs(R/f*2)),I=[],D=R/M,L=8/3*Math.sin(D/4)*Math.sin(D/4)/Math.sin(D/2),N=j+D,F=0;F<M;F++)I[F]=e(j,N,g,p,o,s,P,A,L,v,y),v=I[F][4],y=I[F][5],j=N,N+=D;return i[h]=I,I}function e(t,e,n,r,i,s,u,c,l,h,f){var d=a.call(arguments);if(o[d])return o[d];var p=Math.cos(t),g=Math.sin(t),v=Math.cos(e),y=Math.sin(e),m=n*i*v-r*s*y+u,b=r*i*v+n*s*y+c;return o[d]=[h+l*(-n*i*g-r*s*p),f+l*(-r*i*g+n*s*p),m+l*(n*i*y+r*s*v),b+l*(r*i*y-n*s*v),m,b],o[d]}function n(t,e,n,r){var i=Math.atan2(e,t),o=Math.atan2(r,n);return o>=i?o-i:2*Math.PI-(i-o)}function r(t,e,n,r,i,o,u,c){var l=a.call(arguments);if(s[l])return s[l];var h,f,d,p,g,v,y,m,b=Math.sqrt,_=Math.min,w=Math.max,C=Math.abs,x=[],S=[[],[]];f=6*t-12*n+6*i,h=-3*t+9*n-9*i+3*u,d=3*n-3*t;for(var O=0;O<2;++O)if(O>0&&(f=6*e-12*r+6*o,h=-3*e+9*r-9*o+3*c,d=3*r-3*e),C(h)<1e-12){if(C(f)<1e-12)continue;0<(p=-d/f)&&p<1&&x.push(p)}else(y=f*f-4*d*h)<0||(0<(g=(-f+(m=b(y)))/(2*h))&&g<1&&x.push(g),0<(v=(-f-m)/(2*h))&&v<1&&x.push(v));for(var T,E=x.length,k=E;E--;)S[0][E]=(T=1-(p=x[E]))*T*T*t+3*T*T*p*n+3*T*p*p*i+p*p*p*u,S[1][E]=T*T*T*e+3*T*T*p*r+3*T*p*p*o+p*p*p*c;S[0][k]=t,S[1][k]=e,S[0][k+1]=u,S[1][k+1]=c;var P=[{x:_.apply(null,S[0]),y:_.apply(null,S[1])},{x:w.apply(null,S[0]),y:w.apply(null,S[1])}];return s[l]=P,P}var i={},o={},s={},a=Array.prototype.join;fabric.util.drawArc=function(e,n,r,i){for(var o=[[],[],[],[]],s=t(i[5]-n,i[6]-r,i[0],i[1],i[3],i[4],i[2]),a=0,u=s.length;a<u;a++)o[a][0]=s[a][0]+n,o[a][1]=s[a][1]+r,o[a][2]=s[a][2]+n,o[a][3]=s[a][3]+r,o[a][4]=s[a][4]+n,o[a][5]=s[a][5]+r,e.bezierCurveTo.apply(e,o[a])},fabric.util.getBoundsOfArc=function(e,n,i,o,s,a,u,c,l){for(var h,f=0,d=0,p=[],g=t(c-e,l-n,i,o,a,u,s),v=0,y=g.length;v<y;v++)h=r(f,d,g[v][0],g[v][1],g[v][2],g[v][3],g[v][4],g[v][5]),p.push({x:h[0].x+e,y:h[0].y+n}),p.push({x:h[1].x+e,y:h[1].y+n}),f=g[v][4],d=g[v][5];return p},fabric.util.getBoundsOfCurve=r}(),function(){function t(t,e,n){if(t&&0!==t.length){var r=t.length-1,i=e?t[r][e]:t[r];if(e)for(;r--;)n(t[r][e],i)&&(i=t[r][e]);else for(;r--;)n(t[r],i)&&(i=t[r]);return i}}var e=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>0&&((r=Number(arguments[1]))!=r?r=0:0!==r&&r!==Number.POSITIVE_INFINITY&&r!==Number.NEGATIVE_INFINITY&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);i<n;i++)if(i in e&&e[i]===t)return i;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var n=0,r=this.length>>>0;n<r;n++)n in this&&t.call(e,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){for(var n=[],r=0,i=this.length>>>0;r<i;r++)r in this&&(n[r]=t.call(e,this[r],r,this));return n}),Array.prototype.every||(Array.prototype.every=function(t,e){for(var n=0,r=this.length>>>0;n<r;n++)if(n in this&&!t.call(e,this[n],n,this))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t,e){for(var n=0,r=this.length>>>0;n<r;n++)if(n in this&&t.call(e,this[n],n,this))return!0;return!1}),Array.prototype.filter||(Array.prototype.filter=function(t,e){for(var n,r=[],i=0,o=this.length>>>0;i<o;i++)i in this&&t.call(e,n=this[i],i,this)&&r.push(n);return r}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e,n=this.length>>>0,r=0;if(arguments.length>1)e=arguments[1];else for(;;){if(r in this){e=this[r++];break}if(++r>=n)throw new TypeError}for(;r<n;r++)r in this&&(e=t.call(null,e,this[r],r,this));return e}),fabric.util.array={fill:function(t,e){for(var n=t.length;n--;)t[n]=e;return t},invoke:function(t,n){for(var r=e.call(arguments,2),i=[],o=0,s=t.length;o<s;o++)i[o]=r.length?t[o][n].apply(t[o],r):t[o][n].call(t[o]);return i},min:function(e,n){return t(e,n,function(t,e){return t<e})},max:function(e,n){return t(e,n,function(t,e){return t>=e})}}}(),function(){function t(e,n,r){if(r)if(!fabric.isLikelyNode&&n instanceof Element)e=n;else if(n instanceof Array){e=[];for(var i=0,o=n.length;i<o;i++)e[i]=t({},n[i],r)}else if(n&&"object"==typeof n)for(var s in n)n.hasOwnProperty(s)&&(e[s]=t({},n[s],r));else e=n;else for(var s in n)e[s]=n[s];return e}fabric.util.object={extend:t,clone:function(e,n){return t({},e,n)}}}(),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")}),fabric.util.string={camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},function(){var t=Array.prototype.slice,e=Function.prototype.apply,n=function(){};Function.prototype.bind||(Function.prototype.bind=function(r){var i,o=this,s=t.call(arguments,1);return i=s.length?function(){return e.call(o,this instanceof n?this:r,s.concat(t.call(arguments)))}:function(){return e.call(o,this instanceof n?this:r,arguments)},n.prototype=this.prototype,i.prototype=new n,i})}(),function(){function t(){}function e(t){for(var e=null,r=this;r.constructor.superclass;){var i=r.constructor.superclass.prototype[t];if(r[t]!==i){e=i;break}r=r.constructor.superclass.prototype}return e?arguments.length>1?e.apply(this,n.call(arguments,1)):e.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}var n=Array.prototype.slice,r=function(){},i=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),o=function(t,e,n){for(var r in e)t.prototype[r]=r in t.prototype&&"function"==typeof t.prototype[r]&&(e[r]+"").indexOf("callSuper")>-1?function(t){return function(){var r=this.constructor.superclass;this.constructor.superclass=n;var i=e[t].apply(this,arguments);if(this.constructor.superclass=r,"initialize"!==t)return i}}(r):e[r],i&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};fabric.util.createClass=function(){function i(){this.initialize.apply(this,arguments)}var s=null,a=n.call(arguments,0);"function"==typeof a[0]&&(s=a.shift()),i.superclass=s,i.subclasses=[],s&&(t.prototype=s.prototype,i.prototype=new t,s.subclasses.push(i));for(var u=0,c=a.length;u<c;u++)o(i,a[u],s);return i.prototype.initialize||(i.prototype.initialize=r),i.prototype.constructor=i,i.prototype.callSuper=e,i}}(),function(){function t(t){var e,n,r=Array.prototype.slice.call(arguments,1),i=r.length;for(n=0;n<i;n++)if(e=typeof t[r[n]],!/^(?:function|object|unknown)$/.test(e))return!1;return!0}function e(t,e){return{handler:e,wrappedHandler:n(t,e)}}function n(t,e){return function(n){e.call(o(t),n||fabric.window.event)}}function r(t,e){return function(n){if(d[t]&&d[t][e])for(var r=d[t][e],i=0,o=r.length;i<o;i++)r[i].call(this,n||fabric.window.event)}}function i(t,e,n){var r="touchend"===t.type?"changedTouches":"touches";return t[r]&&t[r][0]?t[r][0][e]-(t[r][0][e]-t[r][0][n])||t[n]:t[n]}var o,s,a=function(){var t=0;return function(e){return e.__uniqueID||(e.__uniqueID="uniqueID__"+t++)}}();!function(){var t={};o=function(e){return t[e]},s=function(e,n){t[e]=n}}();var u,c,l=t(fabric.document.documentElement,"addEventListener","removeEventListener")&&t(fabric.window,"addEventListener","removeEventListener"),h=t(fabric.document.documentElement,"attachEvent","detachEvent")&&t(fabric.window,"attachEvent","detachEvent"),f={},d={};l?(u=function(t,e,n,r){t&&t.addEventListener(e,n,!h&&r)},c=function(t,e,n,r){t&&t.removeEventListener(e,n,!h&&r)}):h?(u=function(t,n,r){if(t){var i=a(t);s(i,t),f[i]||(f[i]={}),f[i][n]||(f[i][n]=[]);var o=e(i,r);f[i][n].push(o),t.attachEvent("on"+n,o.wrappedHandler)}},c=function(t,e,n){if(t){var r,i=a(t);if(f[i]&&f[i][e])for(var o=0,s=f[i][e].length;o<s;o++)(r=f[i][e][o])&&r.handler===n&&(t.detachEvent("on"+e,r.wrappedHandler),f[i][e][o]=null)}}):(u=function(t,e,n){if(t){var i=a(t);if(d[i]||(d[i]={}),!d[i][e]){d[i][e]=[];var o=t["on"+e];o&&d[i][e].push(o),t["on"+e]=r(i,e)}d[i][e].push(n)}},c=function(t,e,n){if(t){var r=a(t);if(d[r]&&d[r][e])for(var i=d[r][e],o=0,s=i.length;o<s;o++)i[o]===n&&i.splice(o,1)}}),fabric.util.addListener=u,fabric.util.removeListener=c;var p=function(t){return"unknown"!=typeof t.clientX?t.clientX:0},g=function(t){return"unknown"!=typeof t.clientY?t.clientY:0};fabric.isTouchSupported&&(p=function(t){return i(t,"pageX","clientX")},g=function(t){return i(t,"pageY","clientY")}),fabric.util.getPointer=function(t){t||(t=fabric.window.event);var e=fabric.util.getScrollLeftTop(t.target||("unknown"!=typeof t.srcElement?t.srcElement:null));return{x:p(t)+e.left,y:g(t)+e.top}},fabric.util.object.extend(fabric.util,fabric.Observable)}(),function(){var t=fabric.document.createElement("div"),e=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,n=function(t){return t};"string"==typeof t.style.opacity?n=function(t,e){return t.style.opacity=e,t}:"string"==typeof t.style.filter&&(n=function(t,n){var r=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(r.zoom=1),e.test(r.filter)?r.filter=r.filter.replace(e,n=n>=.9999?"":"alpha(opacity="+100*n+")"):r.filter+=" alpha(opacity="+100*n+")",t}),fabric.util.setStyle=function(t,e){var r=t.style;if(!r)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?n(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var i in e)"opacity"===i?n(t,e[i]):r["float"===i||"cssFloat"===i?void 0===r.styleFloat?"cssFloat":"styleFloat":i]=e[i];return t}}(),function(){function t(t,e){var n=fabric.document.createElement(t);for(var r in e)"class"===r?n.className=e[r]:"for"===r?n.htmlFor=e[r]:n.setAttribute(r,e[r]);return n}function e(t){for(var e=0,n=0,r=fabric.document.documentElement,i=fabric.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===fabric.document?(e=i.scrollLeft||r.scrollLeft||0,n=i.scrollTop||r.scrollTop||0):(e+=t.scrollLeft||0,n+=t.scrollTop||0),1!==t.nodeType||"fixed"!==fabric.util.getElementStyle(t,"position")););return{left:e,top:n}}var n,r=Array.prototype.slice,i=function(t){return r.call(t,0)};try{n=i(fabric.document.childNodes)instanceof Array}catch(t){}n||(i=function(t){for(var e=new Array(t.length),n=t.length;n--;)e[n]=t[n];return e});var o;o=fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle?function(t,e){var n=fabric.document.defaultView.getComputedStyle(t,null);return n?n[e]:void 0}:function(t,e){var n=t.style[e];return!n&&t.currentStyle&&(n=t.currentStyle[e]),n},function(){var t=fabric.document.documentElement.style,e="userSelect"in t?"userSelect":"MozUserSelect"in t?"MozUserSelect":"WebkitUserSelect"in t?"WebkitUserSelect":"KhtmlUserSelect"in t?"KhtmlUserSelect":"";fabric.util.makeElementUnselectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=fabric.util.falseFunction),e?t.style[e]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t},fabric.util.makeElementSelectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=null),e?t.style[e]="":"string"==typeof t.unselectable&&(t.unselectable=""),t}}(),fabric.util.getScript=function(t,e){var n=fabric.document.getElementsByTagName("head")[0],r=fabric.document.createElement("script"),i=!0;r.onload=r.onreadystatechange=function(t){if(i){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;i=!1,e(t||fabric.window.event),r=r.onload=r.onreadystatechange=null}},r.src=t,n.appendChild(r)},fabric.util.getById=function(t){return"string"==typeof t?fabric.document.getElementById(t):t},fabric.util.toArray=i,fabric.util.makeElement=t,fabric.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},fabric.util.wrapElement=function(e,n,r){return"string"==typeof n&&(n=t(n,r)),e.parentNode&&e.parentNode.replaceChild(n,e),n.appendChild(e),n},fabric.util.getScrollLeftTop=e,fabric.util.getElementOffset=function(t){var n,r,i=t&&t.ownerDocument,s={left:0,top:0},a={left:0,top:0},u={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return a;for(var c in u)a[u[c]]+=parseInt(o(t,c),10)||0;return n=i.documentElement,void 0!==t.getBoundingClientRect&&(s=t.getBoundingClientRect()),r=e(t),{left:s.left+r.left-(n.clientLeft||0)+a.left,top:s.top+r.top-(n.clientTop||0)+a.top}},fabric.util.getElementStyle=o}(),function(){function t(t,e){return t+(/\?/.test(t)?"&":"?")+e}function e(){}var n=function(){for(var t=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],e=t.length;e--;)try{if(t[e]())return t[e]}catch(t){}}();fabric.util.request=function(r,i){i||(i={});var o=i.method?i.method.toUpperCase():"GET",s=i.onComplete||function(){},a=n(),u=i.body||i.parameters;return a.onreadystatechange=function(){4===a.readyState&&(s(a),a.onreadystatechange=e)},"GET"===o&&(u=null,"string"==typeof i.parameters&&(r=t(r,i.parameters))),a.open(o,r,!0),"POST"!==o&&"PUT"!==o||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(u),a}}(),fabric.log=function(){},fabric.warn=function(){},"undefined"!=typeof console&&["log","warn"].forEach(function(t){void 0!==console[t]&&"function"==typeof console[t].apply&&(fabric[t]=function(){return console[t].apply(console,arguments)})}),function(){function t(){return!1}function e(){return n.apply(fabric.window,arguments)}var n=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(t){fabric.window.setTimeout(t,1e3/60)};fabric.util.animate=function(n){e(function(r){n||(n={});var i,o=r||+new Date,s=n.duration||500,a=o+s,u=n.onChange||t,c=n.abort||t,l=n.onComplete||t,h=n.easing||function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},f="startValue"in n?n.startValue:0,d="endValue"in n?n.endValue:100,p=n.byValue||d-f;n.onStart&&n.onStart(),function t(r){if(c())l(d,1,1);else{var g=(i=r||+new Date)>a?s:i-o,v=g/s,y=h(g,f,p,s),m=Math.abs((y-f)/p);u(y,m,v),i>a?n.onComplete&&n.onComplete():e(t)}}(o)})},fabric.util.requestAnimFrame=e}(),function(){function t(t,e,n){var r="rgba("+parseInt(t[0]+n*(e[0]-t[0]),10)+","+parseInt(t[1]+n*(e[1]-t[1]),10)+","+parseInt(t[2]+n*(e[2]-t[2]),10);return r+=","+(t&&e?parseFloat(t[3]+n*(e[3]-t[3])):1),r+=")"}fabric.util.animateColor=function(e,n,r,i){var o=new fabric.Color(e).getSource(),s=new fabric.Color(n).getSource();fabric.util.animate(fabric.util.object.extend(i=i||{},{duration:r||500,startValue:o,endValue:s,byValue:s,easing:function(e,n,r,o){return t(n,r,i.colorEasing?i.colorEasing(e,o):1-Math.cos(e/o*(Math.PI/2)))}}))}}(),function(){function t(t,e,n,r){return t<Math.abs(e)?(t=e,r=n/4):r=0===e&&0===t?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:n,s:r}}function e(t,e,n){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*n-t.s)*(2*Math.PI)/t.p)}function n(t,e,n,i){return n-r(i-t,0,n,i)+e}function r(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}fabric.util.ease={easeInQuad:function(t,e,n,r){return n*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){return 0===t?e:n*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){return t===r?e+n:n*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,n,r){return 0===t?e:t===r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(n,r,i,o){var s=0;return 0===n?r:1==(n/=o)?r+i:(s||(s=.3*o),-e(t(i,i,s,1.70158),n,o)+r)},easeOutElastic:function(e,n,r,i){var o=0,s=r;if(0===e)return n;if(1==(e/=i))return n+r;o||(o=.3*i);var a=t(s,r,o,1.70158);return a.a*Math.pow(2,-10*e)*Math.sin((e*i-a.s)*(2*Math.PI)/a.p)+a.c+n},easeInOutElastic:function(n,r,i,o){var s=0,a=i;if(0===n)return r;if(2==(n/=o/2))return r+i;s||(s=o*(.3*1.5));var u=t(a,i,s,1.70158);return n<1?-.5*e(u,n,o)+r:u.a*Math.pow(2,-10*(n-=1))*Math.sin((n*o-u.s)*(2*Math.PI)/u.p)*.5+u.c+r},easeInBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:n,easeOutBounce:r,easeInOutBounce:function(t,e,i,o){return t<o/2?.5*n(2*t,0,i,o)+e:.5*r(2*t-o,0,i,o)+.5*i+e}}}(),function(t){"use strict";function e(t){return t in O?O[t]:t}function n(t,e,n,r){var i,o="[object Array]"===Object.prototype.toString.call(e);return"fill"!==t&&"stroke"!==t||"none"!==e?"strokeDashArray"===t?e="none"===e?null:e.replace(/,/g," ").split(/\s+/).map(function(t){return parseFloat(t)}):"transformMatrix"===t?e=n&&n.transformMatrix?_(n.transformMatrix,g.parseTransformAttribute(e)):g.parseTransformAttribute(e):"visible"===t?(e="none"!==e&&"hidden"!==e,n&&!1===n.visible&&(e=!1)):"opacity"===t?(e=parseFloat(e),n&&void 0!==n.opacity&&(e*=n.opacity)):"originX"===t?e="start"===e?"left":"end"===e?"right":"center":i=o?e.map(b):b(e,r):e="",!o&&isNaN(i)?e:i}function r(t){for(var e in T)if(void 0!==t[T[e]]&&""!==t[e]){if(void 0===t[e]){if(!g.Object.prototype[e])continue;t[e]=g.Object.prototype[e]}if(0!==t[e].indexOf("url(")){var n=new g.Color(t[e]);t[e]=n.setAlpha(m(n.getAlpha()*t[T[e]],2)).toRgba()}}return t}function i(t,e){for(var n,r=[],i=0;i<e.length;i++)n=t.getElementsByTagName(e[i]),r=r.concat(Array.prototype.slice.call(n));return r}function o(t,e){var n,r;t.replace(/;\s*$/,"").split(";").forEach(function(t){var i=t.split(":");n=i[0].trim().toLowerCase(),r=i[1].trim(),e[n]=r})}function s(t,e){for(var n in t)void 0!==t[n]&&(e[n.toLowerCase()]=t[n])}function a(t,e){var n={};for(var r in g.cssRules[e])if(u(t,r.split(" ")))for(var i in g.cssRules[e][r])n[i]=g.cssRules[e][r][i];return n}function u(t,e){var n,r=!0;return(n=l(t,e.pop()))&&e.length&&(r=c(t,e)),n&&r&&0===e.length}function c(t,e){for(var n,r=!0;t.parentNode&&1===t.parentNode.nodeType&&e.length;)r&&(n=e.pop()),r=l(t=t.parentNode,n);return 0===e.length}function l(t,e){var n,r=t.nodeName,i=t.getAttribute("class"),o=t.getAttribute("id");if(n=new RegExp("^"+r,"i"),e=e.replace(n,""),o&&e.length&&(n=new RegExp("#"+o+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"")),i&&e.length)for(var s=(i=i.split(" ")).length;s--;)n=new RegExp("\\."+i[s]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"");return 0===e.length}function h(t,e){var n;if(t.getElementById&&(n=t.getElementById(e)),n)return n;var r,i,o=t.getElementsByTagName("*");for(i=0;i<o.length;i++)if(r=o[i],e===r.getAttribute("id"))return r}function f(t){for(var e=i(t,["use","svg:use"]),n=0;e.length&&n<e.length;){var r,o,s,a,u=e[n],c=u.getAttribute("xlink:href").substr(1),l=u.getAttribute("x")||0,f=u.getAttribute("y")||0,p=h(t,c).cloneNode(!0),g=(p.getAttribute("transform")||"")+" translate("+l+", "+f+")",v=e.length;if(d(p),/^svg$/i.test(p.nodeName)){var y=p.ownerDocument.createElement("g");for(o=0,a=(s=p.attributes).length;o<a;o++)r=s.item(o),y.setAttribute(r.nodeName,r.nodeValue);for(;p.firstChild;)y.appendChild(p.firstChild);p=y}for(o=0,a=(s=u.attributes).length;o<a;o++)"x"!==(r=s.item(o)).nodeName&&"y"!==r.nodeName&&"xlink:href"!==r.nodeName&&("transform"===r.nodeName?g=r.nodeValue+" "+g:p.setAttribute(r.nodeName,r.nodeValue));p.setAttribute("transform",g),p.setAttribute("instantiated_by_use","1"),p.removeAttribute("id"),u.parentNode.replaceChild(p,u),e.length===v&&n++}}function d(t){var e,n,r,i,o=t.getAttribute("viewBox"),s=1,a=1,u=0,c=0,l=t.getAttribute("width"),h=t.getAttribute("height"),f=t.getAttribute("x")||0,d=t.getAttribute("y")||0,p=t.getAttribute("preserveAspectRatio")||"",v=!o||!C.test(t.nodeName)||!(o=o.match(E)),y=!l||!h||"100%"===l||"100%"===h,m=v&&y,_={},w="";if(_.width=0,_.height=0,_.toBeParsed=m,m)return _;if(v)return _.width=b(l),_.height=b(h),_;if(u=-parseFloat(o[1]),c=-parseFloat(o[2]),e=parseFloat(o[3]),n=parseFloat(o[4]),y?(_.width=e,_.height=n):(_.width=b(l),_.height=b(h),s=_.width/e,a=_.height/n),"none"!==(p=g.util.parsePreserveAspectRatioAttribute(p)).alignX&&(a=s=s>a?a:s),1===s&&1===a&&0===u&&0===c&&0===f&&0===d)return _;if((f||d)&&(w=" translate("+b(f)+" "+b(d)+") "),r=w+" matrix("+s+" 0 0 "+a+" "+u*s+" "+c*a+") ","svg"===t.nodeName){for(i=t.ownerDocument.createElement("g");t.firstChild;)i.appendChild(t.firstChild);t.appendChild(i)}else r=(i=t).getAttribute("transform")+r;return i.setAttribute("transform",r),_}function p(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}var g=t.fabric||(t.fabric={}),v=g.util.object.extend,y=g.util.object.clone,m=g.util.toFixed,b=g.util.parseUnit,_=g.util.multiplyTransformMatrices,w=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/i,C=/^(symbol|image|marker|pattern|view|svg)$/i,x=/^(?:pattern|defs|symbol|metadata|clipPath|mask)$/i,S=/^(symbol|g|a|svg)$/i,O={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"originX",opacity:"opacity"},T={stroke:"strokeOpacity",fill:"fillOpacity"};g.cssRules={},g.gradientDefs={},g.parseTransformAttribute=function(){function t(t,e){var n=Math.cos(e[0]),r=Math.sin(e[0]),i=0,o=0;3===e.length&&(i=e[1],o=e[2]),t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=i-(n*i-r*o),t[5]=o-(r*i+n*o)}function e(t,e){var n=2===e.length?e[1]:e[0];t[0]=e[0],t[3]=n}function n(t,e,n){t[n]=Math.tan(g.util.degreesToRadians(e[0]))}function r(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}var i=[1,0,0,1,0,0],o=g.reNum,s="(?:\\s+,?\\s*|,\\s*)",a="(?:(?:(matrix)\\s*\\(\\s*("+o+")"+s+"("+o+")"+s+"("+o+")"+s+"("+o+")"+s+"("+o+")"+s+"("+o+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+o+")(?:"+s+"("+o+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+o+")(?:"+s+"("+o+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+o+")(?:"+s+"("+o+")"+s+"("+o+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+o+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+o+")\\s*\\)))",u="^\\s*(?:(?:"+a+"(?:"+s+"*"+a+")*)?)\\s*$",c=new RegExp(u),l=new RegExp(a,"g");return function(o){var s=i.concat(),u=[];if(!o||o&&!c.test(o))return s;o.replace(l,function(o){var c=new RegExp(a).exec(o).filter(function(t){return!!t}),l=c[1],h=c.slice(2).map(parseFloat);switch(l){case"translate":r(s,h);break;case"rotate":h[0]=g.util.degreesToRadians(h[0]),t(s,h);break;case"scale":e(s,h);break;case"skewX":n(s,h,2);break;case"skewY":n(s,h,1);break;case"matrix":s=h}u.push(s.concat()),s=i.concat()});for(var h=u[0];u.length>1;)u.shift(),h=g.util.multiplyTransformMatrices(h,u[0]);return h}}();var E=new RegExp("^\\s*("+g.reNum+"+)\\s*,?\\s*("+g.reNum+"+)\\s*,?\\s*("+g.reNum+"+)\\s*,?\\s*("+g.reNum+"+)\\s*$");g.parseSVGDocument=function(t,e,n,r){if(t){f(t);var i=g.Object.__uid++,o=d(t),s=g.util.toArray(t.getElementsByTagName("*"));if(o.crossOrigin=r&&r.crossOrigin,o.svgUid=i,0===s.length&&g.isLikelyNode){for(var a=[],u=0,c=(s=t.selectNodes('//*[name(.)!="svg"]')).length;u<c;u++)a[u]=s[u];s=a}var l=s.filter(function(t){return d(t),w.test(t.nodeName.replace("svg:",""))&&!p(t,x)});!l||l&&!l.length?e&&e([],{}):(g.gradientDefs[i]=g.getGradientDefs(t),g.cssRules[i]=g.getCSSRules(t),g.parseElements(l,function(t){e&&e(t,o)},y(o),n,r))}};var k=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+g.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+g.reNum+"))?\\s+(.*)");v(g,{parseFontDeclaration:function(t,e){var n=t.match(k);if(n){var r=n[1],i=n[3],o=n[4],s=n[5],a=n[6];r&&(e.fontStyle=r),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),o&&(e.fontSize=b(o)),a&&(e.fontFamily=a),s&&(e.lineHeight="normal"===s?1:s)}},getGradientDefs:function(t){var e,n,r,o=i(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),s=0,a={},u={};for(s=o.length;s--;)r=(e=o[s]).getAttribute("xlink:href"),n=e.getAttribute("id"),r&&(u[n]=r.substr(1)),a[n]=e;for(n in u){var c=a[u[n]].cloneNode(!0);for(e=a[n];c.firstChild;)e.appendChild(c.firstChild)}return a},parseAttributes:function(t,i,o){if(t){var s,u,c={};void 0===o&&(o=t.getAttribute("svgUid")),t.parentNode&&S.test(t.parentNode.nodeName)&&(c=g.parseAttributes(t.parentNode,i,o)),u=c&&c.fontSize||t.getAttribute("font-size")||g.Text.DEFAULT_SVG_FONT_SIZE;var l=i.reduce(function(e,n){return(s=t.getAttribute(n))&&(e[n]=s),e},{});l=v(l,v(a(t,o),g.parseStyleAttribute(t)));var h,f,d={};for(var p in l)f=n(h=e(p),l[p],c,u),d[h]=f;d&&d.font&&g.parseFontDeclaration(d.font,d);var y=v(c,d);return S.test(t.nodeName)?y:r(y)}},parseElements:function(t,e,n,r,i){new g.ElementsParser(t,e,n,r,i).parse()},parseStyleAttribute:function(t){var e={},n=t.getAttribute("style");return n?("string"==typeof n?o(n,e):s(n,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,n,r=[];for(e=0,n=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<n;e+=2)r.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return r},getCSSRules:function(t){for(var e=t.getElementsByTagName("style"),n={},r=0,i=e.length;r<i;r++){var o=e[r].textContent||e[r].text;""!==(o=o.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&o.match(/[^{]*\{[\s\S]*?\}/g).map(function(t){return t.trim()}).forEach(function(t){for(var e=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),r={},i=e[2].trim().replace(/;$/,"").split(/\s*;\s*/),o=0,s=i.length;o<s;o++){var a=i[o].split(/\s*:\s*/);r[a[0]]=a[1]}(t=e[1]).split(",").forEach(function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(n[t]?g.util.object.extend(n[t],r):n[t]=g.util.object.clone(r))})})}return n},loadSVGFromURL:function(t,e,n,r){t=t.replace(/^\n\s*/,"").trim(),new g.util.request(t,{method:"get",onComplete:function(t){var i=t.responseXML;i&&!i.documentElement&&g.window.ActiveXObject&&t.responseText&&((i=new ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(t.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),i&&i.documentElement||e&&e(null),g.parseSVGDocument(i.documentElement,function(t,n){e&&e(t,n)},n,r)}})},loadSVGFromString:function(t,e,n,r){t=t.trim();var i;if("undefined"!=typeof DOMParser){var o=new DOMParser;o&&o.parseFromString&&(i=o.parseFromString(t,"text/xml"))}else g.window.ActiveXObject&&((i=new ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));g.parseSVGDocument(i.documentElement,function(t,n){e(t,n)},n,r)}})}(exports),fabric.ElementsParser=function(t,e,n,r,i){this.elements=t,this.callback=e,this.options=n,this.reviver=r,this.svgUid=n&&n.svgUid||0,this.parsingOptions=i},fabric.ElementsParser.prototype.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},fabric.ElementsParser.prototype.createObjects=function(){for(var t=0,e=this.elements.length;t<e;t++)this.elements[t].setAttribute("svgUid",this.svgUid),function(t,e){setTimeout(function(){t.createObject(t.elements[e],e)},0)}(this,t)},fabric.ElementsParser.prototype.createObject=function(t,e){var n=fabric[fabric.util.string.capitalize(t.tagName.replace("svg:",""))];if(n&&n.fromElement)try{this._createObject(n,t,e)}catch(t){fabric.log(t)}else this.checkIfDone()},fabric.ElementsParser.prototype._createObject=function(t,e,n){if(t.async)t.fromElement(e,this.createCallback(n,e),this.options);else{var r=t.fromElement(e,this.options);this.resolveGradient(r,"fill"),this.resolveGradient(r,"stroke"),this.reviver&&this.reviver(e,r),this.instances[n]=r,this.checkIfDone()}},fabric.ElementsParser.prototype.createCallback=function(t,e){var n=this;return function(r){n.resolveGradient(r,"fill"),n.resolveGradient(r,"stroke"),n.reviver&&n.reviver(e,r),n.instances[t]=r,n.checkIfDone()}},fabric.ElementsParser.prototype.resolveGradient=function(t,e){var n=t.get(e);if(/^url\(/.test(n)){var r=n.slice(5,n.length-1);fabric.gradientDefs[this.svgUid][r]&&t.set(e,fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][r],t))}},fabric.ElementsParser.prototype.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(t){return null!=t}),this.callback(this.instances))},function(t){"use strict";function e(t,e){this.x=t,this.y=e}var n=t.fabric||(t.fabric={});n.Point?n.warn("fabric.Point is already defined"):(n.Point=e,e.prototype={type:"point",constructor:e,add:function(t){return new e(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new e(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new e(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new e(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new e(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new e(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,n){return void 0===n&&(n=.5),n=Math.max(Math.min(1,n),0),new e(this.x+(t.x-this.x)*n,this.y+(t.y-this.y)*n)},distanceFrom:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new e(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new e(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,n=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=n},clone:function(){return new e(this.x,this.y)}})}(exports),function(t){"use strict";function e(t){this.status=t,this.points=[]}var n=t.fabric||(t.fabric={});n.Intersection?n.warn("fabric.Intersection is already defined"):(n.Intersection=e,n.Intersection.prototype={constructor:e,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},n.Intersection.intersectLineLine=function(t,r,i,o){var s,a=(o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x),u=(r.x-t.x)*(t.y-i.y)-(r.y-t.y)*(t.x-i.x),c=(o.y-i.y)*(r.x-t.x)-(o.x-i.x)*(r.y-t.y);if(0!==c){var l=a/c,h=u/c;0<=l&&l<=1&&0<=h&&h<=1?(s=new e("Intersection")).appendPoint(new n.Point(t.x+l*(r.x-t.x),t.y+l*(r.y-t.y))):s=new e}else s=new e(0===a||0===u?"Coincident":"Parallel");return s},n.Intersection.intersectLinePolygon=function(t,n,r){for(var i,o=new e,s=r.length,a=0;a<s;a++)i=e.intersectLineLine(t,n,r[a],r[(a+1)%s]),o.appendPoints(i.points);return o.points.length>0&&(o.status="Intersection"),o},n.Intersection.intersectPolygonPolygon=function(t,n){for(var r=new e,i=t.length,o=0;o<i;o++){var s=e.intersectLinePolygon(t[o],t[(o+1)%i],n);r.appendPoints(s.points)}return r.points.length>0&&(r.status="Intersection"),r},n.Intersection.intersectPolygonRectangle=function(t,r,i){var o=r.min(i),s=r.max(i),a=new n.Point(s.x,o.y),u=new n.Point(o.x,s.y),c=e.intersectLinePolygon(o,a,t),l=e.intersectLinePolygon(a,s,t),h=e.intersectLinePolygon(s,u,t),f=e.intersectLinePolygon(u,o,t),d=new e;return d.appendPoints(c.points),d.appendPoints(l.points),d.appendPoints(h.points),d.appendPoints(f.points),d.points.length>0&&(d.status="Intersection"),d})}(exports),function(t){"use strict";function e(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function n(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var r=t.fabric||(t.fabric={});r.Color?r.warn("fabric.Color is already defined."):(r.Color=e,r.Color.prototype={_tryParsingColor:function(t){var n;t in e.colorNameMap&&(t=e.colorNameMap[t]),"transparent"===t&&(n=[255,255,255,0]),n||(n=e.sourceFromHex(t)),n||(n=e.sourceFromRgb(t)),n||(n=e.sourceFromHsl(t)),n||(n=[0,0,0,1]),n&&this.setSource(n)},_rgbToHsl:function(t,e,n){var i,o,s,a=r.util.array.max([t/=255,e/=255,n/=255]),u=r.util.array.min([t,e,n]);if(s=(a+u)/2,a===u)i=o=0;else{var c=a-u;switch(o=s>.5?c/(2-a-u):c/(a+u),a){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return[Math.round(360*i),Math.round(100*o),Math.round(100*s)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,n,r=this.getSource();return t=r[0].toString(16),t=1===t.length?"0"+t:t,e=r[1].toString(16),e=1===e.length?"0"+e:e,n=r[2].toString(16),n=1===n.length?"0"+n:n,t.toUpperCase()+e.toUpperCase()+n.toUpperCase()},toHexa:function(){var t;return t=255*this.getSource()[3],t=t.toString(16),t=1===t.length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10);return this.setSource([e,e,e,t[3]]),this},toBlackWhite:function(t){var e=this.getSource(),n=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),r=e[3];return t=t||127,n=Number(n)<Number(t)?0:255,this.setSource([n,n,n,r]),this},overlayWith:function(t){t instanceof e||(t=new e(t));for(var n=[],r=this.getAlpha(),i=this.getSource(),o=t.getSource(),s=0;s<3;s++)n.push(Math.round(.5*i[s]+.5*o[s]));return n[3]=r,this.setSource(n),this}},r.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/,r.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,r.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,r.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",gray:"#808080",grey:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"},r.Color.fromRgb=function(t){return e.fromSource(e.sourceFromRgb(t))},r.Color.sourceFromRgb=function(t){var n=t.match(e.reRGBa);if(n){var r=parseInt(n[1],10)/(/%$/.test(n[1])?100:1)*(/%$/.test(n[1])?255:1),i=parseInt(n[2],10)/(/%$/.test(n[2])?100:1)*(/%$/.test(n[2])?255:1),o=parseInt(n[3],10)/(/%$/.test(n[3])?100:1)*(/%$/.test(n[3])?255:1);return[parseInt(r,10),parseInt(i,10),parseInt(o,10),n[4]?parseFloat(n[4]):1]}},r.Color.fromRgba=e.fromRgb,r.Color.fromHsl=function(t){return e.fromSource(e.sourceFromHsl(t))},r.Color.sourceFromHsl=function(t){var r=t.match(e.reHSLa);if(r){var i,o,s,a=(parseFloat(r[1])%360+360)%360/360,u=parseFloat(r[2])/(/%$/.test(r[2])?100:1),c=parseFloat(r[3])/(/%$/.test(r[3])?100:1);if(0===u)i=o=s=c;else{var l=c<=.5?c*(u+1):c+u-c*u,h=2*c-l;i=n(h,l,a+1/3),o=n(h,l,a),s=n(h,l,a-1/3)}return[Math.round(255*i),Math.round(255*o),Math.round(255*s),r[4]?parseFloat(r[4]):1]}},r.Color.fromHsla=e.fromHsl,r.Color.fromHex=function(t){return e.fromSource(e.sourceFromHex(t))},r.Color.sourceFromHex=function(t){if(t.match(e.reHex)){var n=t.slice(t.indexOf("#")+1),r=3===n.length||4===n.length,i=8===n.length||4===n.length,o=r?n.charAt(0)+n.charAt(0):n.substring(0,2),s=r?n.charAt(1)+n.charAt(1):n.substring(2,4),a=r?n.charAt(2)+n.charAt(2):n.substring(4,6),u=i?r?n.charAt(3)+n.charAt(3):n.substring(6,8):"FF";return[parseInt(o,16),parseInt(s,16),parseInt(a,16),parseFloat((parseInt(u,16)/255).toFixed(2))]}},r.Color.fromSource=function(t){var n=new e;return n.setSource(t),n})}(exports),function(){function t(t){var e,n,r,i=t.getAttribute("style"),o=t.getAttribute("offset")||0;if(o=parseFloat(o)/(/%$/.test(o)?100:1),o=o<0?0:o>1?1:o,i){var s=i.split(/\s*;\s*/);""===s[s.length-1]&&s.pop();for(var a=s.length;a--;){var u=s[a].split(/\s*:\s*/),c=u[0].trim(),l=u[1].trim();"stop-color"===c?e=l:"stop-opacity"===c&&(r=l)}}return e||(e=t.getAttribute("stop-color")||"rgb(0,0,0)"),r||(r=t.getAttribute("stop-opacity")),e=new fabric.Color(e),n=e.getAlpha(),r=isNaN(parseFloat(r))?1:parseFloat(r),r*=n,{offset:o,color:e.toRgb(),opacity:r}}function e(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}function n(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}function r(t,e,n){var r,i=0,o=1,s="";for(var a in e)"Infinity"===e[a]?e[a]=1:"-Infinity"===e[a]&&(e[a]=0),r=parseFloat(e[a],10),o="string"==typeof e[a]&&/^\d+%$/.test(e[a])?.01:1,"x1"===a||"x2"===a||"r2"===a?(o*="objectBoundingBox"===n?t.width:1,i="objectBoundingBox"===n?t.left||0:0):"y1"!==a&&"y2"!==a||(o*="objectBoundingBox"===n?t.height:1,i="objectBoundingBox"===n?t.top||0:0),e[a]=r*o+i;if("ellipse"===t.type&&null!==e.r2&&"objectBoundingBox"===n&&t.rx!==t.ry){var u=t.ry/t.rx;s=" scale(1, "+u+")",e.y1&&(e.y1/=u),e.y2&&(e.y2/=u)}return s}var i=fabric.util.object.clone;fabric.Gradient=fabric.util.createClass({offsetX:0,offsetY:0,initialize:function(t){t||(t={});var e={};this.id=fabric.Object.__uid++,this.type=t.type||"linear",e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice(),t.gradientTransform&&(this.gradientTransform=t.gradientTransform),this.offsetX=t.offsetX||this.offsetX,this.offsetY=t.offsetY||this.offsetY},addColorStop:function(t){for(var e in t){var n=new fabric.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return fabric.util.populateWithProperties(this,e,t),e},toSVG:function(t){var e,n,r=i(this.coords,!0),o=i(this.colorStops,!0),s=r.r1>r.r2;if(o.sort(function(t,e){return t.offset-e.offset}),!t.group||"path-group"!==t.group.type)for(var a in r)"x1"===a||"x2"===a?r[a]+=this.offsetX-t.width/2:"y1"!==a&&"y2"!==a||(r[a]+=this.offsetY-t.height/2);if(n='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"',this.gradientTransform&&(n+=' gradientTransform="matrix('+this.gradientTransform.join(" ")+')" '),"linear"===this.type?e=["<linearGradient ",n,' x1="',r.x1,'" y1="',r.y1,'" x2="',r.x2,'" y2="',r.y2,'">\n']:"radial"===this.type&&(e=["<radialGradient ",n,' cx="',s?r.x1:r.x2,'" cy="',s?r.y1:r.y2,'" r="',s?r.r1:r.r2,'" fx="',s?r.x2:r.x1,'" fy="',s?r.y2:r.y1,'">\n']),"radial"===this.type){if(s)for((o=o.concat()).reverse(),l=0;l<o.length;l++)o[l].offset=1-o[l].offset;var u=Math.min(r.r1,r.r2);if(u>0)for(var c=u/Math.max(r.r1,r.r2),l=0;l<o.length;l++)o[l].offset+=c*(1-o[l].offset)}for(l=0;l<o.length;l++){var h=o[l];e.push("<stop ",'offset="',100*h.offset+"%",'" style="stop-color:',h.color,null!==h.opacity?";stop-opacity: "+h.opacity:";",'"/>\n')}return e.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),e.join("")},toLive:function(t,e){var n,r,i=fabric.util.object.clone(this.coords);if(this.type){if(e.group&&"path-group"===e.group.type)for(r in i)"x1"===r||"x2"===r?i[r]+=e.width/2-this.offsetX:"y1"!==r&&"y2"!==r||(i[r]+=e.height/2-this.offsetY);"linear"===this.type?n=t.createLinearGradient(i.x1,i.y1,i.x2,i.y2):"radial"===this.type&&(n=t.createRadialGradient(i.x1,i.y1,i.r1,i.x2,i.y2,i.r2));for(var o=0,s=this.colorStops.length;o<s;o++){var a=this.colorStops[o].color,u=this.colorStops[o].opacity,c=this.colorStops[o].offset;void 0!==u&&(a=new fabric.Color(a).setAlpha(u).toRgba()),n.addColorStop(c,a)}return n}}}),fabric.util.object.extend(fabric.Gradient,{fromElement:function(i,o){var s,a,u,c=i.getElementsByTagName("stop"),l=i.getAttribute("gradientUnits")||"objectBoundingBox",h=i.getAttribute("gradientTransform"),f=[];"linear"==(s="linearGradient"===i.nodeName||"LINEARGRADIENT"===i.nodeName?"linear":"radial")?a=e(i):"radial"===s&&(a=n(i));for(var d=c.length;d--;)f.push(t(c[d]));u=r(o,a,l);var p=new fabric.Gradient({type:s,coords:a,colorStops:f,offsetX:-o.left,offsetY:-o.top});return(h||""!==u)&&(p.gradientTransform=fabric.parseTransformAttribute((h||"")+u)),p},forObject:function(t,e){return e||(e={}),r(t,e.coords,"userSpaceOnUse"),new fabric.Gradient(e)}})}(),function(){"use strict";var t=fabric.util.toFixed;fabric.Pattern=fabric.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,initialize:function(t,e){if(t||(t={}),this.id=fabric.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!=typeof t.source)e&&e(this);else if(void 0!==fabric.util.getFunctionBody(t.source))this.source=new Function(fabric.util.getFunctionBody(t.source)),e&&e(this);else{var n=this;this.source=fabric.util.createImage(),fabric.util.loadImage(t.source,function(t){n.source=t,e&&e(n)})}},toObject:function(e){var n,r,i=fabric.Object.NUM_FRACTION_DIGITS;return"function"==typeof this.source?n=String(this.source):"string"==typeof this.source.src?n=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),r={type:"pattern",source:n,repeat:this.repeat,offsetX:t(this.offsetX,i),offsetY:t(this.offsetY,i)},fabric.util.populateWithProperties(this,r,e),r},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,n=e.width/t.width,r=e.height/t.height,i=this.offsetX/t.width,o=this.offsetY/t.height,s="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(r=1),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1),e.src?s=e.src:e.toDataURL&&(s=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+i+'" y="'+o+'" width="'+n+'" height="'+r+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e="function"==typeof this.source?this.source():this.source;if(!e)return"";if(void 0!==e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(t){"string"==typeof t&&(t=this._parseShadow(t));for(var n in t)this[n]=t[n];this.id=e.Object.__uid++},_parseShadow:function(t){var n=t.trim(),r=e.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(r[1],10)||0,offsetY:parseInt(r[2],10)||0,blur:parseInt(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var r=40,i=40,o=e.Object.NUM_FRACTION_DIGITS,s=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle));return t.width&&t.height&&(r=100*n((Math.abs(s.x)+this.blur)/t.width,o)+20,i=100*n((Math.abs(s.y)+this.blur)/t.height,o)+20),t.flipX&&(s.x*=-1),t.flipY&&(s.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+i+'%" height="'+(100+2*i)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(s.x,o)+'" dy="'+n(s.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+this.color+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke};var t={},n=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke"].forEach(function(e){this[e]!==n[e]&&(t[e]=this[e])},this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(exports),function(){"use strict";if(fabric.StaticCanvas)fabric.warn("fabric.StaticCanvas is already defined.");else{var t=fabric.util.object.extend,e=fabric.util.getElementOffset,n=fabric.util.removeFromArray,r=fabric.util.toFixed,i=fabric.util.transformPoint,o=fabric.util.invertTransform,s=new Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass(fabric.CommonMethods,{initialize:function(t,e){e||(e={}),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:fabric.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!1,_initStatic:function(t,e){var n=fabric.StaticCanvas.prototype.renderAll.bind(this);this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,n),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,n),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,n),e.overlayColor&&this.setOverlayColor(e.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==fabric.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?fabric.devicePixelRatio:1},_initRetinaScaling:function(){this._isRetinaScaling()&&(this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*fabric.devicePixelRatio),this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio))},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,n){return this.__setBgOverlayImage("overlayImage",t,e,n)},setBackgroundImage:function(t,e,n){return this.__setBgOverlayImage("backgroundImage",t,e,n)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},_setImageSmoothing:function(){var t=this.getContext();t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(t,e,n,r){return"string"==typeof e?fabric.util.loadImage(e,function(e){e&&(this[t]=new fabric.Image(e,r)),n&&n(e)},this,r&&r.crossOrigin):(r&&e.setOptions(r),this[t]=e,n&&n(e)),this},__setBgOverlayColor:function(t,e,n){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,n),this},_createCanvasElement:function(t){var e=fabric.util.createCanvasElement(t);if(e.style||(e.style={}),!e)throw s;if(void 0===e.getContext)throw s;return e},_initOptions:function(t){this._setOptions(t),this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0,this.height=this.height||parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){this.lowerCanvasEl=fabric.util.getById(t)||this._createCanvasElement(t),fabric.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var n;e=e||{};for(var r in t)n=t[r],e.cssOnly||(this._setBackstoreDimension(r,t[r]),n+="px"),e.backstoreOnly||this._setCssDimension(r,n);return this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),e.cssOnly||this.renderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,n=this._activeGroup;this.viewportTransform=t;for(var r=0,i=this._objects.length;r<i;r++)(e=this._objects[r]).group||e.setCoords(!1,!0);return n&&n.setCoords(!1,!0),this.calcViewportBoundaries(),this.renderAll(),this},zoomToPoint:function(t,e){var n=t,r=this.viewportTransform.slice(0);t=i(t,o(this.viewportTransform)),r[0]=e,r[3]=e;var s=i(t,r);return r[4]+=n.x-s.x,r[5]+=n.y-s.y,this.setViewportTransform(r)},setZoom:function(t){return this.zoomToPoint(new fabric.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new fabric.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderAll(),this},renderAll:function(){return this.renderCanvas(this.contextContainer,this._objects),this},calcViewportBoundaries:function(){var t={},e=this.getWidth(),n=this.getHeight(),r=o(this.viewportTransform);return t.tl=i({x:0,y:0},r),t.br=i({x:e,y:n},r),t.tr=new fabric.Point(t.br.x,t.tl.y),t.bl=new fabric.Point(t.tl.x,t.br.y),this.vptCoords=t,t},renderCanvas:function(t,e){this.calcViewportBoundaries(),this.clearContext(t),this.fire("before:render"),this.clipTo&&fabric.util.clipContext(this,t),this._renderBackground(t),t.save(),t.transform.apply(t,this.viewportTransform),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.clipTo&&t.restore(),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render")},_renderObjects:function(t,e){for(var n=0,r=e.length;n<r;++n)e[n]&&e[n].render(t)},_renderBackgroundOrOverlay:function(t,e){var n=this[e+"Color"];n&&(t.fillStyle=n.toLive?n.toLive(t,this):n,t.fillRect(n.offsetX||0,n.offsetY||0,this.width,this.height)),(n=this[e+"Image"])&&(this[e+"Vpt"]&&(t.save(),t.transform.apply(t,this.viewportTransform)),n.render(t),this[e+"Vpt"]&&t.restore())},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(t){return this._centerObject(t,new fabric.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new fabric.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new fabric.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new fabric.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new fabric.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=o(this.viewportTransform);return i({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),this.renderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,n){var r={objects:this._toObjects(e,n)};return t(r,this.__serializeBgOverlay(e,n)),fabric.util.populateWithProperties(this,r,n),r},_toObjects:function(t,e){return this.getObjects().filter(function(t){return!t.excludeFromExport}).map(function(n){return this._toObject(n,t,e)},this)},_toObject:function(t,e,n){var r;this.includeDefaultValues||(r=t.includeDefaultValues,t.includeDefaultValues=!1);var i=t[e](n);return this.includeDefaultValues||(t.includeDefaultValues=r),i},__serializeBgOverlay:function(t,e){var n={},r=this.backgroundImage,i=this.overlayImage;return this.backgroundColor&&(n.background=this.backgroundColor.toObject?this.backgroundColor.toObject(e):this.backgroundColor),this.overlayColor&&(n.overlay=this.overlayColor.toObject?this.overlayColor.toObject(e):this.overlayColor),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,t,e)),i&&!i.excludeFromExport&&(n.overlayImage=this._toObject(i,t,e)),n},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={});var n=[];return this._setSVGPreamble(n,t),this._setSVGHeader(n,t),this._setSVGBgOverlayColor(n,"backgroundColor"),this._setSVGBgOverlayImage(n,"backgroundImage",e),this._setSVGObjects(n,e),this._setSVGBgOverlayColor(n,"overlayColor"),this._setSVGBgOverlayImage(n,"overlayImage",e),n.push("</svg>"),n.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var n,i=e.width||this.width,o=e.height||this.height,s='viewBox="0 0 '+this.width+" "+this.height+'" ',a=fabric.Object.NUM_FRACTION_DIGITS;e.viewBox?s='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(s='viewBox="'+r(-(n=this.viewportTransform)[4]/n[0],a)+" "+r(-n[5]/n[3],a)+" "+r(this.width/n[0],a)+" "+r(this.height/n[3],a)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',o,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",fabric.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),"</defs>\n")},createSVGRefElementsMarkup:function(){var t=this;return["backgroundColor","overlayColor"].map(function(e){var n=t[e];if(n&&n.toLive)return n.toSVG(t,!1)}).join("")},createSVGFontFacesMarkup:function(){for(var t,e,n,r,i,o,s="",a={},u=fabric.fontPaths,c=this.getObjects(),l=0,h=c.length;l<h;l++)if(t=c[l],e=t.fontFamily,-1!==t.type.indexOf("text")&&!a[e]&&u[e]&&(a[e]=!0,t.styles)){n=t.styles;for(i in n){r=n[i];for(o in r)!a[e=r[o].fontFamily]&&u[e]&&(a[e]=!0)}}for(var f in a)s+=["\t\t@font-face {\n","\t\t\tfont-family: '",f,"';\n","\t\t\tsrc: url('",u[f],"');\n","\t\t}\n"].join("");return s&&(s=['\t<style type="text/css">',"<![CDATA[\n",s,"]]>","</style>\n"].join("")),s},_setSVGObjects:function(t,e){for(var n,r=0,i=this.getObjects(),o=i.length;r<o;r++)(n=i[r]).excludeFromExport||this._setSVGObject(t,n,e)},_setSVGObject:function(t,e,n){t.push(e.toSVG(n))},_setSVGBgOverlayImage:function(t,e,n){this[e]&&this[e].toSVG&&t.push(this[e].toSVG(n))},_setSVGBgOverlayColor:function(t,e){var n=this[e];if(n)if(n.toLive){var r=n.repeat;t.push('<rect transform="translate(',this.width/2,",",this.height/2,')"',' x="',n.offsetX-this.width/2,'" y="',n.offsetY-this.height/2,'" ','width="',"repeat-y"===r||"no-repeat"===r?n.source.width:this.width,'" height="',"repeat-x"===r||"no-repeat"===r?n.source.height:this.height,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" ','width="',this.width,'" height="',this.height,'" fill="',this[e],'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,r,i,o=this._activeGroup;if(t===o)for(e=(i=o._objects).length;e--;)n(this._objects,r=i[e]),this._objects.unshift(r);else n(this._objects,t),this._objects.unshift(t);return this.renderAll&&this.renderAll()},bringToFront:function(t){if(!t)return this;var e,r,i,o=this._activeGroup;if(t===o)for(i=o._objects,e=0;e<i.length;e++)n(this._objects,r=i[e]),this._objects.push(r);else n(this._objects,t),this._objects.push(t);return this.renderAll&&this.renderAll()},sendBackwards:function(t,e){if(!t)return this;var r,i,o,s,a,u=this._activeGroup,c=0;if(t===u)for(a=u._objects,r=0;r<a.length;r++)(o=this._objects.indexOf(i=a[r]))>0+c&&(s=o-1,n(this._objects,i),this._objects.splice(s,0,i)),c++;else 0!==(o=this._objects.indexOf(t))&&(s=this._findNewLowerIndex(t,o,e),n(this._objects,t),this._objects.splice(s,0,t));return this.renderAll&&this.renderAll(),this},_findNewLowerIndex:function(t,e,n){var r;if(n){r=e;for(var i=e-1;i>=0;--i)if(t.intersectsWithObject(this._objects[i])||t.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(t)){r=i;break}}else r=e-1;return r},bringForward:function(t,e){if(!t)return this;var r,i,o,s,a,u=this._activeGroup,c=0;if(t===u)for(r=(a=u._objects).length;r--;)(o=this._objects.indexOf(i=a[r]))<this._objects.length-1-c&&(s=o+1,n(this._objects,i),this._objects.splice(s,0,i)),c++;else(o=this._objects.indexOf(t))!==this._objects.length-1&&(s=this._findNewUpperIndex(t,o,e),n(this._objects,t),this._objects.splice(s,0,t));return this.renderAll&&this.renderAll(),this},_findNewUpperIndex:function(t,e,n){var r;if(n){r=e;for(var i=e+1;i<this._objects.length;++i)if(t.intersectsWithObject(this._objects[i])||t.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(t)){r=i;break}}else r=e+1;return r},moveTo:function(t,e){return n(this._objects,t),this._objects.splice(e,0,t),this.renderAll&&this.renderAll()},dispose:function(){return this.clear(),this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}}),t(fabric.StaticCanvas.prototype,fabric.Observable),t(fabric.StaticCanvas.prototype,fabric.Collection),t(fabric.StaticCanvas.prototype,fabric.DataURLExporter),t(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=fabric.util.createCanvasElement();if(!e||!e.getContext)return null;var n=e.getContext("2d");if(!n)return null;switch(t){case"getImageData":return void 0!==n.getImageData;case"setLineDash":return void 0!==n.setLineDash;case"toDataURL":return void 0!==e.toDataURL;case"toDataURLWithQuality":try{return e.toDataURL("image/jpeg",0),!0}catch(t){}return!1;default:return null}}}),fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}}(),fabric.BaseBrush=fabric.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:null,setShadow:function(t){return this.shadow=new fabric.Shadow(t),this},_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,this.strokeDashArray&&fabric.StaticCanvas.supports("setLineDash")&&t.setLineDash(this.strokeDashArray)},_setShadow:function(){if(this.shadow){var t=this.canvas.contextTop,e=this.canvas.getZoom();t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*e,t.shadowOffsetX=this.shadow.offsetX*e,t.shadowOffsetY=this.shadow.offsetY*e}},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}}),fabric.PencilBrush=fabric.util.createClass(fabric.BaseBrush,{initialize:function(t){this.canvas=t,this._points=[]},onMouseDown:function(t){this._prepareForDrawing(t),this._captureDrawingPath(t),this._render()},onMouseMove:function(t){this._captureDrawingPath(t),this.canvas.clearContext(this.canvas.contextTop),this._render()},onMouseUp:function(){this._finalizeAndAddPath()},_prepareForDrawing:function(t){var e=new fabric.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){this._points.length>1&&t.eq(this._points[this._points.length-1])||this._points.push(t)},_reset:function(){this._points.length=0,this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new fabric.Point(t.x,t.y);this._addPoint(e)},_render:function(){var t,e,n=this.canvas.contextTop,r=this.canvas.viewportTransform,i=this._points[0],o=this._points[1];if(n.save(),n.transform(r[0],r[1],r[2],r[3],r[4],r[5]),n.beginPath(),2===this._points.length&&i.x===o.x&&i.y===o.y){var s=this.width/1e3;i=new fabric.Point(i.x,i.y),o=new fabric.Point(o.x,o.y),i.x-=s,o.x+=s}for(n.moveTo(i.x,i.y),t=1,e=this._points.length;t<e;t++){var a=i.midPointFrom(o);n.quadraticCurveTo(i.x,i.y,a.x,a.y),i=this._points[t],o=this._points[t+1]}n.lineTo(i.x,i.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(t){var e,n=[],r=this.width/1e3,i=new fabric.Point(t[0].x,t[0].y),o=new fabric.Point(t[1].x,t[1].y),s=t.length,a=1,u=1,c=s>2;for(c&&(a=t[2].x<o.x?-1:t[2].x===o.x?0:1,u=t[2].y<o.y?-1:t[2].y===o.y?0:1),n.push("M ",i.x-a*r," ",i.y-u*r," "),e=1;e<s;e++){if(!i.eq(o)){var l=i.midPointFrom(o);n.push("Q ",i.x," ",i.y," ",l.x," ",l.y," ")}i=t[e],e+1<t.length&&(o=t[e+1])}return c&&(a=i.x>t[e-2].x?1:i.x===t[e-2].x?0:-1,u=i.y>t[e-2].y?1:i.y===t[e-2].y?0:-1),n.push("L ",i.x+a*r," ",i.y+u*r),n},createPath:function(t){var e=new fabric.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray,originX:"center",originY:"center"}),n=new fabric.Point(e.left,e.top);return e.originX=fabric.Object.prototype.originX,e.originY=fabric.Object.prototype.originY,n=e.translateToGivenOrigin(n,"center","center",e.originX,e.originY),e.top=n.y,e.left=n.x,this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath();var t=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==t){var e=this.createPath(t);this.canvas.add(e),e.setCoords(),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderAll(),this.canvas.fire("path:created",{path:e})}else this.canvas.renderAll()}}),fabric.CircleBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),n=this.canvas.contextTop,r=this.canvas.viewportTransform;n.save(),n.transform(r[0],r[1],r[2],r[3],r[4],r[5]),n.fillStyle=e.fill,n.beginPath(),n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.closePath(),n.fill(),n.restore()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},onMouseMove:function(t){this.drawDot(t)},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,r=this.points.length;n<r;n++){var i=this.points[n],o=new fabric.Circle({radius:i.radius,left:i.x,top:i.y,originX:"center",originY:"center",fill:i.fill});this.shadow&&o.setShadow(this.shadow),e.push(o)}var s=new fabric.Group(e,{originX:"center",originY:"center"});s.canvas=this.canvas,this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},addPoint:function(t){var e=new fabric.Point(t.x,t.y),n=fabric.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new fabric.Color(this.color).setAlpha(fabric.util.getRandomInt(0,100)/100).toRgba();return e.radius=n,e.fill=r,this.points.push(e),e}}),fabric.SprayBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render()},onMouseMove:function(t){this.addSprayChunk(t),this.render()},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,r=this.sprayChunks.length;n<r;n++)for(var i=this.sprayChunks[n],o=0,s=i.length;o<s;o++){var a=new fabric.Rect({width:i[o].width,height:i[o].width,left:i[o].x+1,top:i[o].y+1,originX:"center",originY:"center",fill:this.color});this.shadow&&a.setShadow(this.shadow),e.push(a)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var u=new fabric.Group(e,{originX:"center",originY:"center"});u.canvas=this.canvas,this.canvas.add(u),this.canvas.fire("path:created",{path:u}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},_getOptimizedRects:function(t){for(var e,n={},r=0,i=t.length;r<i;r++)n[e=t[r].left+""+t[r].top]||(n[e]=t[r]);var o=[];for(e in n)o.push(n[e]);return o},render:function(){var t=this.canvas.contextTop;t.fillStyle=this.color;var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]);for(var n=0,r=this.sprayChunkPoints.length;n<r;n++){var i=this.sprayChunkPoints[n];void 0!==i.opacity&&(t.globalAlpha=i.opacity),t.fillRect(i.x,i.y,i.width,i.width)}t.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];for(var e,n,r,i=this.width/2,o=0;o<this.density;o++){e=fabric.util.getRandomInt(t.x-i,t.x+i),n=fabric.util.getRandomInt(t.y-i,t.y+i),r=this.dotWidthVariance?fabric.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new fabric.Point(e,n);s.width=r,this.randomOpacity&&(s.opacity=fabric.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),fabric.PatternBrush=fabric.util.createClass(fabric.PencilBrush,{getPatternSrc:function(){var t=fabric.document.createElement("canvas"),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),n=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new fabric.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),e}}),function(){var t=fabric.util.getPointer,e=fabric.util.degreesToRadians,n=fabric.util.radiansToDegrees,r=Math.atan2,i=Math.abs,o=fabric.StaticCanvas.supports("setLineDash");fabric.Canvas=fabric.util.createClass(fabric.StaticCanvas,{initialize:function(t,e){e||(e={}),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=fabric.PencilBrush&&new fabric.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e=this.getActiveGroup(),n=this.getActiveObject(),r=[],i=[];if(!e&&!n||this.preserveObjectStacking)r=this._objects;else{for(var o=0,s=this._objects.length;o<s;o++)t=this._objects[o],e&&e.contains(t)||t===n?i.push(t):r.push(t);e&&(e._set("_objects",i),r.push(e)),n&&r.push(n)}return r},renderAll:function(){return!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.renderCanvas(this.contextContainer,this._chooseObjectsToRender()),this},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.selection&&this._groupSelector&&this._drawSelection(t),this.fire("after:render"),this.contextTopDirty=!0,this},_resetCurrentTransform:function(){var t=this._currentTransform;t.target.set({scaleX:t.original.scaleX,scaleY:t.original.scaleY,skewX:t.original.skewX,skewY:t.original.skewY,left:t.original.left,top:t.original.top}),this._shouldCenterTransform(t.target)?"rotate"===t.action?this._setOriginToCenter(t.target):("center"!==t.originX&&(t.mouseXSign="right"===t.originX?-1:1),"center"!==t.originY&&(t.mouseYSign="bottom"===t.originY?-1:1),t.originX="center",t.originY="center"):(t.originX=t.original.originX,t.originY=t.original.originY)},containsPoint:function(t,e,n){var r,i=n||this.getPointer(t,!0);return r=e.group&&e.group===this.getActiveGroup()?this._normalizePointer(e.group,i):{x:i.x,y:i.y},e.containsPoint(r)||e._findTargetCorner(i)},_normalizePointer:function(t,e){var n=t.calcTransformMatrix(),r=fabric.util.invertTransform(n),i=this.restorePointerVpt(e);return fabric.util.transformPoint(i,r)},isTargetTransparent:function(t,e,n){var r=t.hasBorders,i=t.transparentCorners,o=this.contextCache,s=t.selectionBackgroundColor;t.hasBorders=t.transparentCorners=!1,t.selectionBackgroundColor="",o.save(),o.transform.apply(o,this.viewportTransform),t.render(o),o.restore(),t.active&&t._renderControls(o),t.hasBorders=r,t.transparentCorners=i,t.selectionBackgroundColor=s;var a=fabric.util.isTransparent(o,e,n,this.targetFindTolerance);return this.clearContext(o),a},_shouldClearSelection:function(t,e){var n=this.getActiveGroup(),r=this.getActiveObject();return!e||e&&n&&!n.contains(e)&&n!==e&&!t[this.selectionKey]||e&&!e.evented||e&&!e.selectable&&r&&r!==e},_shouldCenterTransform:function(t){if(t){var e,n=this._currentTransform;return"scale"===n.action||"scaleX"===n.action||"scaleY"===n.action?e=this.centeredScaling||t.centeredScaling:"rotate"===n.action&&(e=this.centeredRotation||t.centeredRotation),e?!n.altKey:n.altKey}},_getOriginFromCorner:function(t,e){var n={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?n.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(n.x="left"),"tl"===e||"mt"===e||"tr"===e?n.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(n.y="top"),n},_getActionFromCorner:function(t,e,n){if(!e)return"drag";switch(e){case"mtr":return"rotate";case"ml":case"mr":return n[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return n[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(t,n){if(n){var r=this.getPointer(t),i=n._findTargetCorner(this.getPointer(t,!0)),o=this._getActionFromCorner(n,i,t),s=this._getOriginFromCorner(n,i);this._currentTransform={target:n,action:o,corner:i,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:r.x-n.left,offsetY:r.y-n.top,originX:s.x,originY:s.y,ex:r.x,ey:r.y,lastX:r.x,lastY:r.y,left:n.left,top:n.top,theta:e(n.angle),width:n.width*n.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:t.shiftKey,altKey:t[this.centeredKey]},this._currentTransform.original={left:n.left,top:n.top,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,originX:s.x,originY:s.y},this._resetCurrentTransform()}},_translateObject:function(t,e){var n=this._currentTransform,r=n.target,i=t-n.offsetX,o=e-n.offsetY,s=!r.get("lockMovementX")&&r.left!==i,a=!r.get("lockMovementY")&&r.top!==o;return s&&r.set("left",i),a&&r.set("top",o),s||a},_changeSkewTransformOrigin:function(t,e,n){var r="originX",i={0:"center"},o=e.target.skewX,s="left",a="right",u="mt"===e.corner||"ml"===e.corner?1:-1,c=1;t=t>0?1:-1,"y"===n&&(o=e.target.skewY,s="top",a="bottom",r="originY"),i[-1]=s,i[1]=a,e.target.flipX&&(c*=-1),e.target.flipY&&(c*=-1),0===o?(e.skewSign=-u*t*c,e[r]=i[-t]):(e.skewSign=o=o>0?1:-1,e[r]=i[o*u*c])},_skewObject:function(t,e,n){var r=this._currentTransform,i=r.target,o=!1,s=i.get("lockSkewingX"),a=i.get("lockSkewingY");if(s&&"x"===n||a&&"y"===n)return!1;var u,c,l=i.getCenterPoint(),h=i.toLocalPoint(new fabric.Point(t,e),"center","center")[n],f=i.toLocalPoint(new fabric.Point(r.lastX,r.lastY),"center","center")[n],d=i._getTransformedDimensions();return this._changeSkewTransformOrigin(h-f,r,n),u=i.toLocalPoint(new fabric.Point(t,e),r.originX,r.originY)[n],c=i.translateToOriginPoint(l,r.originX,r.originY),o=this._setObjectSkew(u,r,n,d),r.lastX=t,r.lastY=e,i.setPositionByOrigin(c,r.originX,r.originY),o},_setObjectSkew:function(t,e,n,r){var i,o,s,a,u,c,l,h,f,d=e.target,p=!1,g=e.skewSign;return"x"===n?(a="y",u="Y",c="X",h=0,f=d.skewY):(a="x",u="X",c="Y",h=d.skewX,f=0),s=d._getTransformedDimensions(h,f),(l=2*Math.abs(t)-s[n])<=2?i=0:(i=g*Math.atan(l/d["scale"+c]/(s[a]/d["scale"+u])),i=fabric.util.radiansToDegrees(i)),p=d["skew"+c]!==i,d.set("skew"+c,i),0!==d["skew"+u]&&(o=d._getTransformedDimensions(),d.set("scale"+u,i=r[a]/o[a]*d["scale"+u])),p},_scaleObject:function(t,e,n){var r=this._currentTransform,i=r.target,o=i.get("lockScalingX"),s=i.get("lockScalingY"),a=i.get("lockScalingFlip");if(o&&s)return!1;var u=i.translateToOriginPoint(i.getCenterPoint(),r.originX,r.originY),c=i.toLocalPoint(new fabric.Point(t,e),r.originX,r.originY),l=i._getTransformedDimensions(),h=!1;return this._setLocalMouse(c,r),h=this._setObjectScale(c,r,o,s,n,a,l),i.setPositionByOrigin(u,r.originX,r.originY),h},_setObjectScale:function(t,e,n,r,i,o,s){var a,u,c,l,h=e.target,f=!1,d=!1,p=!1;return c=t.x*h.scaleX/s.x,l=t.y*h.scaleY/s.y,a=h.scaleX!==c,u=h.scaleY!==l,o&&c<=0&&c<h.scaleX&&(f=!0),o&&l<=0&&l<h.scaleY&&(d=!0),"equally"!==i||n||r?i?"x"!==i||h.get("lockUniScaling")?"y"!==i||h.get("lockUniScaling")||d||r||h.set("scaleY",l)&&(p=p||u):f||n||h.set("scaleX",c)&&(p=p||a):(f||n||h.set("scaleX",c)&&(p=p||a),d||r||h.set("scaleY",l)&&(p=p||u)):f||d||(p=this._scaleObjectEqually(t,h,e,s)),e.newScaleX=c,e.newScaleY=l,f||d||this._flipObject(e,i),p},_scaleObjectEqually:function(t,e,n,r){var i,o=t.y+t.x,s=r.y*n.original.scaleY/e.scaleY+r.x*n.original.scaleX/e.scaleX,a=t.x/Math.abs(t.x),u=t.y/Math.abs(t.y);return n.newScaleX=a*Math.abs(n.original.scaleX*o/s),n.newScaleY=u*Math.abs(n.original.scaleY*o/s),i=n.newScaleX!==e.scaleX||n.newScaleY!==e.scaleY,e.set("scaleX",n.newScaleX),e.set("scaleY",n.newScaleY),i},_flipObject:function(t,e){t.newScaleX<0&&"y"!==e&&("left"===t.originX?t.originX="right":"right"===t.originX&&(t.originX="left")),t.newScaleY<0&&"x"!==e&&("top"===t.originY?t.originY="bottom":"bottom"===t.originY&&(t.originY="top"))},_setLocalMouse:function(t,e){var n=e.target,r=this.getZoom(),o=n.padding/r;"right"===e.originX?t.x*=-1:"center"===e.originX&&(t.x*=2*e.mouseXSign,t.x<0&&(e.mouseXSign=-e.mouseXSign)),"bottom"===e.originY?t.y*=-1:"center"===e.originY&&(t.y*=2*e.mouseYSign,t.y<0&&(e.mouseYSign=-e.mouseYSign)),i(t.x)>o?t.x<0?t.x+=o:t.x-=o:t.x=0,i(t.y)>o?t.y<0?t.y+=o:t.y-=o:t.y=0},_rotateObject:function(t,e){var i=this._currentTransform;if(i.target.get("lockRotation"))return!1;var o=r(i.ey-i.top,i.ex-i.left),s=r(e-i.top,t-i.left),a=n(s-o+i.theta),u=!0;if(i.target.snapAngle>0){var c=i.target.snapAngle,l=i.target.snapThreshold||c,h=Math.ceil(a/c)*c,f=Math.floor(a/c)*c;Math.abs(a-f)<l?a=f:Math.abs(a-h)<l&&(a=h)}return a<0&&(a=360+a),a%=360,i.target.angle===a?u=!1:i.target.angle=a,u},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.setAngle(0)},_drawSelection:function(t){var e=this._groupSelector,n=e.left,r=e.top,s=i(n),a=i(r);if(this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(n>0?0:-n),e.ey-(r>0?0:-r),s,a)),this.selectionLineWidth&&this.selectionBorderColor)if(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!o){var u=e.ex+.5-(n>0?0:s),c=e.ey+.5-(r>0?0:a);t.beginPath(),fabric.util.drawDashedLine(t,u,c,u+s,c,this.selectionDashArray),fabric.util.drawDashedLine(t,u,c+a-1,u+s,c+a-1,this.selectionDashArray),fabric.util.drawDashedLine(t,u,c,u,c+a,this.selectionDashArray),fabric.util.drawDashedLine(t,u+s-1,c,u+s-1,c+a,this.selectionDashArray),t.closePath(),t.stroke()}else fabric.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(e.ex+.5-(n>0?0:s),e.ey+.5-(r>0?0:a),s,a)},findTarget:function(t,e){if(!this.skipTargetFind){var n,r,i=this.getPointer(t,!0),o=this.getActiveGroup(),s=this.getActiveObject();if(this.targets=[],o&&!e&&o===this._searchPossibleTargets([o],i))return this._fireOverOutEvents(o,t),o;if(s&&s._findTargetCorner(i))return this._fireOverOutEvents(s,t),s;if(s&&s===this._searchPossibleTargets([s],i)){if(!this.preserveObjectStacking)return this._fireOverOutEvents(s,t),s;n=s,r=this.targets,this.targets=[]}var a=this._searchPossibleTargets(this._objects,i);return t[this.altSelectionKey]&&a&&n&&a!==n&&(a=n,this.targets=r),this._fireOverOutEvents(a,t),a}},_fireOverOutEvents:function(t,e){var n,r,i=this._hoveredTarget;i!==t&&(n={e:e,target:t,previousTarget:this._hoveredTarget},r={e:e,target:this._hoveredTarget,nextTarget:t},this._hoveredTarget=t),t?i!==t&&(i&&(this.fire("mouse:out",r),i.fire("mouseout",r)),this.fire("mouse:over",n),t.fire("mouseover",n)):i&&(this.fire("mouse:out",r),i.fire("mouseout",r))},_checkTarget:function(t,e){if(e&&e.visible&&e.evented&&this.containsPoint(null,e,t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,t.x,t.y))return!0}},_searchPossibleTargets:function(t,e){for(var n,r,i,o=t.length;o--;)if(this._checkTarget(e,t[o])){"group"===(n=t[o]).type&&n.subTargetCheck&&(r=this._normalizePointer(n,e),(i=this._searchPossibleTargets(n._objects,r))&&this.targets.push(i));break}return n},restorePointerVpt:function(t){return fabric.util.transformPoint(t,fabric.util.invertTransform(this.viewportTransform))},getPointer:function(e,n,r){r||(r=this.upperCanvasEl);var i,o=t(e),s=r.getBoundingClientRect(),a=s.width||0,u=s.height||0;return a&&u||("top"in s&&"bottom"in s&&(u=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(a=Math.abs(s.right-s.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,n||(o=this.restorePointerVpt(o)),i=0===a||0===u?{width:1,height:1}:{width:r.width/a,height:r.height/u},{x:o.x*i.width,y:o.y*i.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl?this.upperCanvasEl.className="":this.upperCanvasEl=this._createCanvasElement(),fabric.util.addClass(this.upperCanvasEl,"upper-canvas "+t),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"}),fabric.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.getWidth()||t.width,n=this.getHeight()||t.height;fabric.util.setStyle(t,{position:"absolute",width:e+"px",height:n+"px",left:0,top:0,"touch-action":"none"}),t.width=e,t.height=n,fabric.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},_setActiveObject:function(t){var e=this._activeObject;e&&(e.set("active",!1),t!==e&&e.onDeselect&&"function"==typeof e.onDeselect&&e.onDeselect()),this._activeObject=t,t.set("active",!0)},setActiveObject:function(t,e){var n=this.getActiveObject();return n&&n!==t&&n.fire("deselected",{e:e}),this._setActiveObject(t),this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e}),this.renderAll(),this},getActiveObject:function(){return this._activeObject},_onObjectRemoved:function(t){this.getActiveObject()===t&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),this._hoveredTarget===t&&(this._hoveredTarget=null),this.callSuper("_onObjectRemoved",t)},_discardActiveObject:function(){var t=this._activeObject;t&&(t.set("active",!1),t.onDeselect&&"function"==typeof t.onDeselect&&t.onDeselect()),this._activeObject=null},discardActiveObject:function(t){var e=this._activeObject;return e&&(this.fire("before:selection:cleared",{target:e,e:t}),this._discardActiveObject(),this.fire("selection:cleared",{e:t}),e.fire("deselected",{e:t})),this},_setActiveGroup:function(t){this._activeGroup=t,t&&t.set("active",!0)},setActiveGroup:function(t,e){return this._setActiveGroup(t),t&&(this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e})),this},getActiveGroup:function(){return this._activeGroup},_discardActiveGroup:function(){var t=this.getActiveGroup();t&&t.destroy(),this.setActiveGroup(null)},discardActiveGroup:function(t){var e=this.getActiveGroup();return e&&(this.fire("before:selection:cleared",{e:t,target:e}),this._discardActiveGroup(),this.fire("selection:cleared",{e:t})),this},deactivateAll:function(){for(var t,e=this.getObjects(),n=0,r=e.length;n<r;n++)(t=e[n])&&t.set("active",!1);return this._discardActiveGroup(),this._discardActiveObject(),this},deactivateAllWithDispatch:function(t){for(var e,n=this.getObjects(),r=0,i=n.length;r<i;r++)(e=n[r])&&e.set("active",!1);return this.discardActiveGroup(t),this.discardActiveObject(t),this},dispose:function(){fabric.StaticCanvas.prototype.dispose.call(this);var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),delete this.upperCanvasEl,t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,this},clear:function(){return this.discardActiveGroup(),this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this.getActiveGroup();e?e._renderControls(t):this._drawObjectsControls(t)},_drawObjectsControls:function(t){for(var e=0,n=this._objects.length;e<n;++e)this._objects[e]&&this._objects[e].active&&this._objects[e]._renderControls(t)},_toObject:function(t,e,n){var r=this._realizeGroupTransformOnObject(t),i=this.callSuper("_toObject",t,e,n);return this._unwindGroupTransformOnObject(t,r),i},_realizeGroupTransformOnObject:function(t){if(t.group&&t.group===this.getActiveGroup()){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(n){e[n]=t[n]}),this.getActiveGroup().realizeTransform(t),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,n){var r;r=this._realizeGroupTransformOnObject(e),this.callSuper("_setSVGObject",t,e,n),this._unwindGroupTransformOnObject(e,r)}});for(var s in fabric.StaticCanvas)"prototype"!==s&&(fabric.Canvas[s]=fabric.StaticCanvas[s]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){}),fabric.Element=fabric.Canvas}(),function(){function t(t,e){return"which"in t?t.which===e:t.button===e-1}var e={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},n=fabric.util.addListener,r=fabric.util.removeListener;fabric.util.object.extend(fabric.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],_initEventListeners:function(){this.removeListeners(),this._bindEvents(),n(fabric.window,"resize",this._onResize),n(this.upperCanvasEl,"mousedown",this._onMouseDown),n(this.upperCanvasEl,"mousemove",this._onMouseMove),n(this.upperCanvasEl,"mouseout",this._onMouseOut),n(this.upperCanvasEl,"mouseenter",this._onMouseEnter),n(this.upperCanvasEl,"wheel",this._onMouseWheel),n(this.upperCanvasEl,"contextmenu",this._onContextMenu),n(this.upperCanvasEl,"touchstart",this._onMouseDown,{passive:!1}),n(this.upperCanvasEl,"touchmove",this._onMouseMove,{passive:!1}),"undefined"!=typeof eventjs&&"add"in eventjs&&(eventjs.add(this.upperCanvasEl,"gesture",this._onGesture),eventjs.add(this.upperCanvasEl,"drag",this._onDrag),eventjs.add(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.add(this.upperCanvasEl,"shake",this._onShake),eventjs.add(this.upperCanvasEl,"longpress",this._onLongPress))},_bindEvents:function(){this.eventsBinded||(this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this.eventsBinded=!0)},removeListeners:function(){r(fabric.window,"resize",this._onResize),r(this.upperCanvasEl,"mousedown",this._onMouseDown),r(this.upperCanvasEl,"mousemove",this._onMouseMove),r(this.upperCanvasEl,"mouseout",this._onMouseOut),r(this.upperCanvasEl,"mouseenter",this._onMouseEnter),r(this.upperCanvasEl,"wheel",this._onMouseWheel),r(this.upperCanvasEl,"contextmenu",this._onContextMenu),r(this.upperCanvasEl,"touchstart",this._onMouseDown),r(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!=typeof eventjs&&"remove"in eventjs&&(eventjs.remove(this.upperCanvasEl,"gesture",this._onGesture),eventjs.remove(this.upperCanvasEl,"drag",this._onDrag),eventjs.remove(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.remove(this.upperCanvasEl,"shake",this._onShake),eventjs.remove(this.upperCanvasEl,"longpress",this._onLongPress))},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t}),this._iTextInstances&&this._iTextInstances.forEach(function(t){t.isEditing&&t.hiddenTextarea.focus()})},_onMouseEnter:function(t){this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null)},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onMouseDown:function(t){this.__onMouseDown(t),n(fabric.document,"touchend",this._onMouseUp,{passive:!1}),n(fabric.document,"touchmove",this._onMouseMove,{passive:!1}),r(this.upperCanvasEl,"mousemove",this._onMouseMove),r(this.upperCanvasEl,"touchmove",this._onMouseMove),"touchstart"===t.type?r(this.upperCanvasEl,"mousedown",this._onMouseDown):(n(fabric.document,"mouseup",this._onMouseUp),n(fabric.document,"mousemove",this._onMouseMove))},_onMouseUp:function(t){if(this.__onMouseUp(t),r(fabric.document,"mouseup",this._onMouseUp),r(fabric.document,"touchend",this._onMouseUp),r(fabric.document,"mousemove",this._onMouseMove),r(fabric.document,"touchmove",this._onMouseMove),n(this.upperCanvasEl,"mousemove",this._onMouseMove),n(this.upperCanvasEl,"touchmove",this._onMouseMove,{passive:!1}),"touchend"===t.type){var e=this;setTimeout(function(){n(e.upperCanvasEl,"mousedown",e._onMouseDown)},400)}},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t,e){var n=this.getActiveGroup()||this.getActiveObject();return!(n&&n.isEditing&&t===n||!(t&&(t.isMoving||t!==n)||!t&&n||!t&&!n&&!this._groupSelector||e&&this._previousPointer&&this.selection&&(e.x!==this._previousPointer.x||e.y!==this._previousPointer.y)))},__onMouseUp:function(e){var n;if(t(e,3))this.fireRightClick&&this._handleEvent(e,"up",n,3);else if(t(e,2))this.fireMiddleClick&&this._handleEvent(e,"up",n,2);else if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(e);else{var r=!0,i=this._currentTransform,o=this._groupSelector,s=!o||0===o.left&&0===o.top;i&&(this._finalizeCurrentTransform(e),r=!i.actionPerformed),n=r?this.findTarget(e,!0):i.target;var a=this._shouldRender(n,this.getPointer(e));n||!s?this._maybeGroupObjects(e):(this._groupSelector=null,this._currentTransform=null),n&&(n.isMoving=!1),this._setCursorFromEvent(e,n),this._handleEvent(e,"up",n||null,1,s),n&&(n.__corner=0),a&&this.renderAll()}},_handleEvent:function(t,e,n,r,i){var o=void 0===n?this.findTarget(t):n,s=this.targets||[],a={e:t,target:o,subTargets:s,button:r||1,isClick:i||!1};this.fire("mouse:"+e,a),o&&o.fire("mouse"+e,a);for(var u=0;u<s.length;u++)s[u].fire("mouse"+e,a)},_finalizeCurrentTransform:function(t){var e=this._currentTransform,n=e.target;n._scaling&&(n._scaling=!1),n.setCoords(),this._restoreOriginXY(n),(e.actionPerformed||this.stateful&&n.hasStateChanged())&&(this.fire("object:modified",{target:n,e:t}),n.fire("modified",{e:t}))},_restoreOriginXY:function(t){if(this._previousOriginX&&this._previousOriginY){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null}},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.discardActiveObject(t).renderAll(),this.clipTo&&fabric.util.clipContext(this,this.contextTop);var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e)}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){this._isCurrentlyDrawing=!1,this.clipTo&&this.contextTop.restore(),this.freeDrawingBrush.onMouseUp(),this._handleEvent(t,"up")},__onMouseDown:function(e){var n=this.findTarget(e);if(t(e,3))this.fireRightClick&&this._handleEvent(e,"down",n||null,3);else if(t(e,2))this.fireMiddleClick&&this._handleEvent(e,"down",n||null,2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(e);else if(!this._currentTransform){var r=this.getPointer(e,!0);this._previousPointer=r;var i=this._shouldRender(n,r),o=this._shouldGroup(e,n);if(this._shouldClearSelection(e,n)?this.deactivateAllWithDispatch(e):o&&(this._handleGrouping(e,n),n=this.getActiveGroup()),!this.selection||n&&(n.selectable||n.isEditing)||(this._groupSelector={ex:r.x,ey:r.y,top:0,left:0}),n){!n.selectable||!n.__corner&&o||(this._beforeTransform(e,n),this._setupCurrentTransform(e,n));var s=this.getActiveObject();n!==this.getActiveGroup()&&n!==s&&(this.deactivateAll(),n.selectable&&(s&&s.fire("deselected",{e:e}),this.setActiveObject(n,e)))}this._handleEvent(e,"down",n||null),i&&this.renderAll()}},_beforeTransform:function(t,e){this.stateful&&e.saveState(),e._findTargetCorner(this.getPointer(t))&&this.onBeforeScaleRotate(e)},_setOriginToCenter:function(t){this._previousOriginX=this._currentTransform.target.originX,this._previousOriginY=this._currentTransform.target.originY;var e=t.getCenterPoint();t.originX="center",t.originY="center",t.left=e.x,t.top=e.y,this._currentTransform.left=t.left,this._currentTransform.top=t.top},_setCenterToOrigin:function(t){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null},__onMouseMove:function(t){var e,n;if(this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(!(void 0!==t.touches&&t.touches.length>1)){var r=this._groupSelector;r?(n=this.getPointer(t,!0),r.left=n.x-r.ex,r.top=n.y-r.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t),this._setCursorFromEvent(t,e)),this._handleEvent(t,"move",e||null)}},__onMouseWheel:function(t){this._handleEvent(t,"wheel")},_transformObject:function(t){var e=this.getPointer(t),n=this._currentTransform;n.reset=!1,n.target.isMoving=!0,n.shiftKey=t.shiftKey,n.altKey=t[this.centeredKey],this._beforeScaleTransform(t,n),this._performTransformAction(t,n,e),n.actionPerformed&&this.renderAll()},_performTransformAction:function(t,e,n){var r=n.x,i=n.y,o=e.target,s=e.action,a=!1;"rotate"===s?(a=this._rotateObject(r,i))&&this._fire("rotating",o,t):"scale"===s?(a=this._onScale(t,e,r,i))&&this._fire("scaling",o,t):"scaleX"===s?(a=this._scaleObject(r,i,"x"))&&this._fire("scaling",o,t):"scaleY"===s?(a=this._scaleObject(r,i,"y"))&&this._fire("scaling",o,t):"skewX"===s?(a=this._skewObject(r,i,"x"))&&this._fire("skewing",o,t):"skewY"===s?(a=this._skewObject(r,i,"y"))&&this._fire("skewing",o,t):(a=this._translateObject(r,i))&&(this._fire("moving",o,t),this.setCursor(o.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||a},_fire:function(t,e,n){this.fire("object:"+t,{target:e,e:n}),e.fire(t,{e:n})},_beforeScaleTransform:function(t,e){if("scale"===e.action||"scaleX"===e.action||"scaleY"===e.action){var n=this._shouldCenterTransform(e.target);(n&&("center"!==e.originX||"center"!==e.originY)||!n&&"center"===e.originX&&"center"===e.originY)&&(this._resetCurrentTransform(),e.reset=!0)}},_onScale:function(t,e,n,r){return!t[this.uniScaleKey]&&!this.uniScaleTransform||e.target.get("lockUniScaling")?(e.reset||"scale"!==e.currentAction||this._resetCurrentTransform(),e.currentAction="scaleEqually",this._scaleObject(n,r,"equally")):(e.currentAction="scale",this._scaleObject(n,r))},_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var n=e.hoverCursor||this.hoverCursor,r=this.getActiveGroup(),i=e._findTargetCorner&&(!r||!r.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));return i?this._setCornerCursor(i,e,t):this.setCursor(n),!0},_setCornerCursor:function(t,n,r){if(t in e)this.setCursor(this._getRotatedCornerCursor(t,n,r));else{if("mtr"!==t||!n.hasRotatingPoint)return this.setCursor(this.defaultCursor),!1;this.setCursor(this.rotationCursor)}},_getRotatedCornerCursor:function(t,n,r){var i=Math.round(n.getAngle()%360/45);return i<0&&(i+=8),i+=e[t],r[this.altActionKey]&&e[t]%2==0&&(i+=2),i%=8,this.cursorMap[i]}})}(),function(){var t=Math.min,e=Math.max;fabric.util.object.extend(fabric.Canvas.prototype,{_shouldGroup:function(t,e){var n=this.getActiveObject();return t[this.selectionKey]&&e&&e.selectable&&(this.getActiveGroup()||n&&n!==e)&&this.selection},_handleGrouping:function(t,e){var n=this.getActiveGroup();(e!==n||(e=this.findTarget(t,!0)))&&(n?this._updateActiveGroup(e,t):this._createActiveGroup(e,t),this._activeGroup&&this._activeGroup.saveCoords())},_updateActiveGroup:function(t,e){var n=this.getActiveGroup();if(n.contains(t)){if(n.removeWithUpdate(t),t.set("active",!1),1===n.size())return this.discardActiveGroup(e),void this.setActiveObject(n.item(0),e)}else n.addWithUpdate(t);this.fire("selection:created",{target:n,e:e}),n.set("active",!0)},_createActiveGroup:function(t,e){if(this._activeObject&&t!==this._activeObject){var n=this._createGroup(t);n.addWithUpdate(),this.setActiveGroup(n,e),this._activeObject=null,this.fire("selection:created",{target:n,e:e})}t.set("active",!0)},_createGroup:function(t){var e=this.getObjects(),n=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new fabric.Group(n,{canvas:this})},_groupSelectedObjects:function(t){var e=this._collectObjects();1===e.length?this.setActiveObject(e[0],t):e.length>1&&((e=new fabric.Group(e.reverse(),{canvas:this})).addWithUpdate(),this.setActiveGroup(e,t),e.saveCoords(),this.fire("selection:created",{target:e,e:t}),this.renderAll())},_collectObjects:function(){for(var n,r=[],i=this._groupSelector.ex,o=this._groupSelector.ey,s=i+this._groupSelector.left,a=o+this._groupSelector.top,u=new fabric.Point(t(i,s),t(o,a)),c=new fabric.Point(e(i,s),e(o,a)),l=i===s&&o===a,h=this._objects.length;h--&&!((n=this._objects[h])&&n.selectable&&n.visible&&(n.intersectsWithRect(u,c)||n.isContainedWithinRect(u,c)||n.containsPoint(u)||n.containsPoint(c))&&(n.set("active",!0),r.push(n),l)););return r},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t);var e=this.getActiveGroup();e&&(e.setObjectsCoords().setCoords(),e.isMoving=!1,this.setCursor(this.defaultCursor)),this._groupSelector=null,this._currentTransform=null}})}(),function(){var t=fabric.StaticCanvas.supports("toDataURLWithQuality");fabric.util.object.extend(fabric.StaticCanvas.prototype,{toDataURL:function(t){return t||(t={}),this.__toDataURLWithMultiplier(t.format||"png",t.quality||1,{left:t.left||0,top:t.top||0,width:t.width||0,height:t.height||0},t.multiplier||1)},__toDataURLWithMultiplier:function(t,e,n,r){var i=this.getWidth(),o=this.getHeight(),s=(n.width||this.getWidth())*r,a=(n.height||this.getHeight())*r,u=this.getZoom()*r,c=this.viewportTransform,l=this.interactive;this.viewportTransform=[u,0,0,u,(c[4]-n.left)*r,(c[5]-n.top)*r],this.interactive&&(this.interactive=!1),i!==s||o!==a?this.setDimensions({width:s,height:a},{backstoreOnly:!0}):this.renderAll();var h=this.__toDataURL(t,e,n);return l&&(this.interactive=l),this.viewportTransform=c,this.setDimensions({width:i,height:o},{backstoreOnly:!0}),h},__toDataURL:function(e,n){var r=this.contextContainer.canvas;return"jpg"===e&&(e="jpeg"),t?r.toDataURL("image/"+e,n):r.toDataURL("image/"+e)},toDataURLWithMultiplier:function(t,e,n){return this.toDataURL({format:t,multiplier:e,quality:n})}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e,n){return this.loadFromJSON(t,e,n)},loadFromJSON:function(t,e,n){if(t){var r="string"==typeof t?JSON.parse(t):fabric.util.object.clone(t),i=this,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,this._enlivenObjects(r.objects,function(t){i.clear(),i._setBgOverlay(r,function(){t.forEach(function(t,e){i.insertAt(t,e)}),i.renderOnAddRemove=o,delete r.objects,delete r.backgroundImage,delete r.overlayImage,delete r.background,delete r.overlay,i._setOptions(r),i.renderAll(),e&&e()})},n),this}},_setBgOverlay:function(t,e){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var r=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,n,r),this.__setBgOverlay("overlayImage",t.overlayImage,n,r),this.__setBgOverlay("backgroundColor",t.background,n,r),this.__setBgOverlay("overlayColor",t.overlay,n,r)}else e&&e()},__setBgOverlay:function(t,e,n,r){var i=this;if(!e)return n[t]=!0,void(r&&r());"backgroundImage"===t||"overlayImage"===t?fabric.util.enlivenObjects([e],function(e){i[t]=e[0],n[t]=!0,r&&r()}):this["set"+fabric.util.string.capitalize(t,!0)](e,function(){n[t]=!0,r&&r()})},_enlivenObjects:function(t,e,n){t&&0!==t.length?fabric.util.enlivenObjects(t,function(t){e&&e(t)},null,n):e&&e([])},_toDataURL:function(t,e){this.clone(function(n){e(n.toDataURL(t))})},_toDataURLWithMultiplier:function(t,e,n){this.clone(function(r){n(r.toDataURLWithMultiplier(t,e))})},clone:function(t,e){var n=JSON.stringify(this.toJSON(e));this.cloneWithoutData(function(e){e.loadFromJSON(n,function(){t&&t(e)})})},cloneWithoutData:function(t){var e=fabric.document.createElement("canvas");e.width=this.getWidth(),e.height=this.getHeight();var n=new fabric.Canvas(e);n.clipTo=this.clipTo,this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,function(){n.renderAll(),t&&t(n)}),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):t&&t(n)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.object.clone,i=e.util.toFixed,o=e.util.string.capitalize,s=e.util.degreesToRadians,a=e.StaticCanvas.supports("setLineDash");e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:.01,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!e.isLikelyNode,statefullCache:!1,noScaleCache:!0,dirty:!0,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height strokeLineCap strokeLineJoin strokeMiterLimit backgroundColor".split(" "),initialize:function(t){(t=t||{})&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.document.createElement("canvas"),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas()},_limitCacheSize:function(t){var n=e.perfLimitSizeTotal,r=t.width,i=t.height,o=e.maxCacheSideLimit,s=e.minCacheSideLimit;if(r<=o&&i<=o&&r*i<=n)return r<s&&(t.width=s),i<s&&(t.height=s),t;var a=e.util.limitDimsByArea(r/i,n),u=e.util.capValue,c=u(s,a.x,o),l=u(s,a.y,o);return r>c&&(t.zoomX/=r/c,t.width=c,t.capped=!0),i>l&&(t.zoomY/=i/l,t.height=l,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.canvas&&this.canvas.getZoom()||1,n=this.getObjectScaling(),r=this.canvas&&this.canvas._isRetinaScaling()?e.devicePixelRatio:1,i=this._getNonTransformedDimensions(),o=n.scaleX*t*r,s=n.scaleY*t*r;return{width:i.x*o+2,height:i.y*s+2,zoomX:o,zoomY:s,x:i.x,y:i.y}},_updateCacheCanvas:function(){if(this.noScaleCache&&this.canvas&&this.canvas._currentTransform){var t=this.canvas._currentTransform.action;if(this===this.canvas._currentTransform.target&&t.slice&&"scale"===t.slice(0,5))return!1}var n,r,i=this._cacheCanvas,o=this._limitCacheSize(this._getCacheCanvasDimensions()),s=e.minCacheSideLimit,a=o.width,u=o.height,c=o.zoomX,l=o.zoomY,h=a!==this.cacheWidth||u!==this.cacheHeight,f=0,d=0,p=!1;if(h){var g=this._cacheCanvas.width,v=this._cacheCanvas.height,y=a>g||u>v;p=y||(a<.9*g||u<.9*v)&&g>s&&v>s,y&&!o.capped&&(a>s||u>s)&&(f=.1*a,d=.1*u)}return!(!h&&this.zoomX===c&&this.zoomY===l||(p?(i.width=Math.ceil(a+f),i.height=Math.ceil(u+d)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,i.width,i.height)),n=o.x*c/2,r=o.y*l/2,this.cacheTranslationX=Math.round(i.width/2-n)+n,this.cacheTranslationY=Math.round(i.height/2-r)+r,this.cacheWidth=a,this.cacheHeight=u,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(c,l),this.zoomX=c,this.zoomY=l,0))},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initClipping(t),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t,e){this.group&&!this.group._transformDone&&this.group===this.canvas._activeGroup&&this.group.transform(t);var n=e?this._getLeftTopCoords():this.getCenterPoint();t.translate(n.x,n.y),this.angle&&t.rotate(s(this.angle)),t.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1)),this.skewX&&t.transform(1,0,Math.tan(s(this.skewX)),1,0,0),this.skewY&&t.transform(1,Math.tan(s(this.skewY)),0,1,0,0)},toObject:function(t){var n=e.Object.NUM_FRACTION_DIGITS,r={type:this.type,originX:this.originX,originY:this.originY,left:i(this.left,n),top:i(this.top,n),width:i(this.width,n),height:i(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:i(this.strokeMiterLimit,n),scaleX:i(this.scaleX,n),scaleY:i(this.scaleY,n),angle:i(this.getAngle(),n),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:i(this.skewX,n),skewY:i(this.skewY,n)};return e.util.populateWithProperties(this,r,t),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var n=e.util.getKlass(t.type).prototype;return n.stateProperties.forEach(function(e){t[e]===n[e]&&delete t[e],"[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(n[e])&&0===t[e].length&&0===n[e].length&&delete t[e]}),t},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){var t=this.scaleX,e=this.scaleY;if(this.group){var n=this.group.getObjectScaling();t*=n.scaleX,e*=n.scaleY}return{scaleX:t,scaleY:e}},_set:function(t,n){var r=this[t]!==n;return("scaleX"===t||"scaleY"===t)&&(n=this._constrainScale(n)),"scaleX"===t&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===t&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==t||!n||n instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",n):n=new e.Shadow(n),this[t]=n,r&&this.cacheProperties.indexOf(t)>-1&&(this.group&&this.group.set("dirty",!0),this.dirty=!0),r&&this.group&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0),"width"!==t&&"height"!==t||(this.minScaleLimit=Math.min(.1,1/Math.max(this.width,this.height))),this},setOnGroup:function(){},setSourcePath:function(t){return this.sourcePath=t,this},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||0===this.width&&0===this.height||!this.visible},render:function(t,n){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),n||this.transform(t),this._setOpacity(t),this._setShadow(t),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this.clipTo&&e.util.clipContext(this,t),this.shouldCache(n)?(this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty(n)&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,n),this.dirty=!1),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t,n),n&&this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&t.restore(),t.restore())},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},needsItsOwnCache:function(){return!1},shouldCache:function(t){return!t&&this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isCaching())},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawObject:function(t,e){this._renderBackground(t),this._setStrokeStyles(t),this._setFillStyles(t),this._render(t,e)},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!t){var e=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-n/2,e,n)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){t.globalAlpha*=this.opacity},_setStrokeStyles:function(t){this.stroke&&(t.lineWidth=this.strokeWidth,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,t.strokeStyle=this.stroke.toLive?this.stroke.toLive(t,this):this.stroke)},_setFillStyles:function(t){this.fill&&(t.fillStyle=this.fill.toLive?this.fill.toLive(t,this):this.fill)},_setLineDash:function(t,e,n){e&&(1&e.length&&e.push.apply(e,e),a?t.setLineDash(e):n&&n(t))},_renderControls:function(t){if(this.active&&(!this.group||this.group===this.canvas.getActiveGroup())){var n,r=this.getViewportTransform(),i=this.calcTransformMatrix();i=e.util.multiplyTransformMatrices(r,i),n=e.util.qrDecompose(i),t.save(),t.translate(n.translateX,n.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.group&&this.group===this.canvas.getActiveGroup()?(t.rotate(s(n.angle)),this.drawBordersInGroup(t,n)):(t.rotate(s(this.angle)),this.drawBorders(t)),this.drawControls(t),t.restore()}},_setShadow:function(t){if(this.shadow){var n=this.canvas&&this.canvas.viewportTransform[0]||1,r=this.canvas&&this.canvas.viewportTransform[3]||1,i=this.getObjectScaling();this.canvas&&this.canvas._isRetinaScaling()&&(n*=e.devicePixelRatio,r*=e.devicePixelRatio),t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*(n+r)*(i.scaleX+i.scaleY)/4,t.shadowOffsetX=this.shadow.offsetX*n*i.scaleX,t.shadowOffsetY=this.shadow.offsetY*r*i.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(e.toLive){var n=e.gradientTransform||e.patternTransform;n&&t.transform.apply(t,n),t.translate(-this.width/2+e.offsetX||0,-this.height/2+e.offsetY||0)}},_renderFill:function(t){this.fill&&(t.save(),this._applyPatternGradientTransform(t,this.fill),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray,this._renderDashedStroke),this._applyPatternGradientTransform(t,this.stroke),t.stroke(),t.restore())},clone:function(t,n){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(n),t):new e.Object(this.toObject(n))},cloneAsImage:function(t,n){var r=this.toDataURL(n);return e.util.loadImage(r,function(n){t&&t(new e.Image(n))}),this},toDataURL:function(t){t||(t={});var n=e.util.createCanvasElement(),r=this.getBoundingRect();n.width=r.width,n.height=r.height,e.util.wrapElement(n,"div");var i=new e.StaticCanvas(n,{enableRetinaScaling:t.enableRetinaScaling});"jpg"===t.format&&(t.format="jpeg"),"jpeg"===t.format&&(i.backgroundColor="#fff");var o={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set("active",!1),this.setPositionByOrigin(new e.Point(i.getWidth()/2,i.getHeight()/2),"center","center");var s=this.canvas;i.add(this);var a=i.toDataURL(t);return this.set(o).setCoords(),this.canvas=s,i.dispose(),i=null,a},isType:function(t){return this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},setGradient:function(t,n){n||(n={});var r={colorStops:[]};return r.type=n.type||(n.r1||n.r2?"radial":"linear"),r.coords={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},(n.r1||n.r2)&&(r.coords.r1=n.r1,r.coords.r2=n.r2),r.gradientTransform=n.gradientTransform,e.Gradient.prototype.addColorStop.call(r,n.colorStops),this.set(t,e.Gradient.forObject(this,r))},setPatternFill:function(t){return this.set("fill",new e.Pattern(t))},setShadow:function(t){return this.set("shadow",t?new e.Shadow(t):null)},setColor:function(t){return this.set("fill",t),this},setAngle:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},remove:function(){return this.canvas&&(this.group&&this.group===this.canvas._activeGroup&&this.group.remove(this),this.canvas.remove(this)),this},getLocalPointer:function(t,n){n=n||this.canvas.getPointer(t);var r=new e.Point(n.x,n.y),i=this._getLeftTopCoords();return this.angle&&(r=e.util.rotatePoint(r,i,s(-this.angle))),{x:r.x-i.x,y:r.y-i.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors(e.Object),e.Object.prototype.rotate=e.Object.prototype.setAngle,n(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(t,n,i,o,s){var a=e[t];if(n=r(n,!0),!o){var u=s?new a(n[s],n):new a(n);return i&&i(u),u}e.util.enlivenPatterns([n.fill,n.stroke],function(t){void 0!==t[0]&&(n.fill=t[0]),void 0!==t[1]&&(n.stroke=t[1]);var e=s?new a(n[s],n):new a(n);i&&i(e)})},e.Object.__uid=0)}(exports),function(){var t=fabric.util.degreesToRadians,e={left:-.5,center:0,right:.5},n={top:-.5,center:0,bottom:.5};fabric.util.object.extend(fabric.Object.prototype,{translateToGivenOrigin:function(t,r,i,o,s){var a,u,c,l=t.x,h=t.y;return"string"==typeof r?r=e[r]:r-=.5,"string"==typeof o?o=e[o]:o-=.5,a=o-r,"string"==typeof i?i=n[i]:i-=.5,"string"==typeof s?s=n[s]:s-=.5,u=s-i,(a||u)&&(c=this._getTransformedDimensions(),l=t.x+a*c.x,h=t.y+u*c.y),new fabric.Point(l,h)},translateToCenterPoint:function(e,n,r){var i=this.translateToGivenOrigin(e,n,r,"center","center");return this.angle?fabric.util.rotatePoint(i,e,t(this.angle)):i},translateToOriginPoint:function(e,n,r){var i=this.translateToGivenOrigin(e,"center","center",n,r);return this.angle?fabric.util.rotatePoint(i,e,t(this.angle)):i},getCenterPoint:function(){var t=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var n=this.getCenterPoint();return this.translateToOriginPoint(n,t,e)},toLocalPoint:function(e,n,r){var i,o,s=this.getCenterPoint();return i=void 0!==n&&void 0!==r?this.translateToGivenOrigin(s,"center","center",n,r):new fabric.Point(this.left,this.top),o=new fabric.Point(e.x,e.y),this.angle&&(o=fabric.util.rotatePoint(o,s,-t(this.angle))),o.subtractEquals(i)},setPositionByOrigin:function(t,e,n){var r=this.translateToCenterPoint(t,e,n),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",i.x),this.set("top",i.y)},adjustPosition:function(n){var r,i,o=t(this.angle),s=this.getWidth(),a=Math.cos(o)*s,u=Math.sin(o)*s;r="string"==typeof this.originX?e[this.originX]:this.originX-.5,this.left+=a*((i="string"==typeof n?e[n]:n-.5)-r),this.top+=u*(i-r),this.setCoords(),this.originX=n},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")},onDeselect:function(){}})}(),function(){function t(t){return[new fabric.Point(t.tl.x,t.tl.y),new fabric.Point(t.tr.x,t.tr.y),new fabric.Point(t.br.x,t.br.y),new fabric.Point(t.bl.x,t.bl.y)]}var e=fabric.util.degreesToRadians,n=fabric.util.multiplyTransformMatrices;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,aCoords:null,getCoords:function(e,n){this.oCoords||this.setCoords();var r=e?this.aCoords:this.oCoords;return t(n?this.calcCoords(e):r)},intersectsWithRect:function(t,e,n,r){var i=this.getCoords(n,r);return"Intersection"===fabric.Intersection.intersectPolygonRectangle(i,t,e).status},intersectsWithObject:function(t,e,n){return"Intersection"===fabric.Intersection.intersectPolygonPolygon(this.getCoords(e,n),t.getCoords(e,n)).status||t.isContainedWithinObject(this,e,n)||this.isContainedWithinObject(t,e,n)},isContainedWithinObject:function(t,e,n){for(var r=this.getCoords(e,n),i=0,o=t._getImageLines(n?t.calcCoords(e):e?t.aCoords:t.oCoords);i<4;i++)if(!t.containsPoint(r[i],o))return!1;return!0},isContainedWithinRect:function(t,e,n,r){var i=this.getBoundingRect(n,r);return i.left>=t.x&&i.left+i.width<=e.x&&i.top>=t.y&&i.top+i.height<=e.y},containsPoint:function(t,e,n,r){var e=e||this._getImageLines(r?this.calcCoords(n):n?this.aCoords:this.oCoords),i=this._findCrossPoints(t,e);return 0!==i&&i%2==1},isOnScreen:function(t){if(!this.canvas)return!1;for(var e,n=this.canvas.vptCoords.tl,r=this.canvas.vptCoords.br,i=this.getCoords(!0,t),o=0;o<4;o++)if((e=i[o]).x<=r.x&&e.x>=n.x&&e.y<=r.y&&e.y>=n.y)return!0;return!!this.intersectsWithRect(n,r,!0)||!!this.containsPoint({x:(n.x+r.x)/2,y:(n.y+r.y)/2},null,!0)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var n,r,i,o=0;for(var s in e)if(!((i=e[s]).o.y<t.y&&i.d.y<t.y||i.o.y>=t.y&&i.d.y>=t.y||((i.o.x===i.d.x&&i.o.x>=t.x?i.o.x:-(t.y-(n=0)*t.x-(i.o.y-(r=(i.d.y-i.o.y)/(i.d.x-i.o.x))*i.o.x))/(n-r))>=t.x&&(o+=1),2!==o)))break;return o},getBoundingRectWidth:function(){return this.getBoundingRect().width},getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(t,e){var n=this.getCoords(t,e);return fabric.util.makeBoundingBoxFromPoints(n)},getWidth:function(){return this._getTransformedDimensions().x},getHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t},scale:function(t){return(t=this._constrainScale(t))<0&&(this.flipX=!this.flipX,this.flipY=!this.flipY,t*=-1),this.scaleX=t,this.scaleY=t,this.setCoords()},scaleToWidth:function(t){var e=this.getBoundingRect().width/this.getWidth();return this.scale(t/this.width/e)},scaleToHeight:function(t){var e=this.getBoundingRect().height/this.getHeight();return this.scale(t/this.height/e)},calcCoords:function(t){var n=e(this.angle),r=this.getViewportTransform(),i=t?this._getTransformedDimensions():this._calculateCurrentDimensions(),o=i.x,s=i.y,a=Math.sin(n),u=Math.cos(n),c=o>0?Math.atan(s/o):0,l=o/Math.cos(c)/2,h=Math.cos(c+n)*l,f=Math.sin(c+n)*l,d=this.getCenterPoint(),p=t?d:fabric.util.transformPoint(d,r),g=new fabric.Point(p.x-h,p.y-f),v=new fabric.Point(g.x+o*u,g.y+o*a),y=new fabric.Point(g.x-s*a,g.y+s*u),m=new fabric.Point(p.x+h,p.y+f);if(!t)var b=new fabric.Point((g.x+y.x)/2,(g.y+y.y)/2),_=new fabric.Point((v.x+g.x)/2,(v.y+g.y)/2),w=new fabric.Point((m.x+v.x)/2,(m.y+v.y)/2),C=new fabric.Point((m.x+y.x)/2,(m.y+y.y)/2),x=new fabric.Point(_.x+a*this.rotatingPointOffset,_.y-u*this.rotatingPointOffset);return p={tl:g,tr:v,br:m,bl:y},t||(p.ml=b,p.mt=_,p.mr=w,p.mb=C,p.mtr=x),p},setCoords:function(t,e){return this.oCoords=this.calcCoords(t),e||(this.aCoords=this.calcCoords(!0)),t||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){if(this.angle){var t=e(this.angle),n=Math.cos(t),r=Math.sin(t);return 6.123233995736766e-17!==n&&-1.8369701987210297e-16!==n||(n=0),[n,r,-r,n,0,0]}return fabric.iMatrix.concat()},calcTransformMatrix:function(t){var e,r,i=this.getCenterPoint(),o=[1,0,0,1,i.x,i.y],s=this._calcDimensionsTransformMatrix(this.skewX,this.skewY,!0);return r=this.group&&!t?n(this.group.calcTransformMatrix(),o):o,this.angle&&(e=this._calcRotateMatrix(),r=n(r,e)),r=n(r,s)},_calcDimensionsTransformMatrix:function(t,r,i){var o,s=[this.scaleX*(i&&this.flipX?-1:1),0,0,this.scaleY*(i&&this.flipY?-1:1),0,0];return t&&(o=[1,0,Math.tan(e(t)),1],s=n(s,o,!0)),r&&(o=[1,Math.tan(e(r)),0,1],s=n(s,o,!0)),s},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(t,e){void 0===t&&(t=this.skewX),void 0===e&&(e=this.skewY);var n,r,i=this._getNonTransformedDimensions(),o=i.x/2,s=i.y/2,a=[{x:-o,y:-s},{x:o,y:-s},{x:-o,y:s},{x:o,y:s}],u=this._calcDimensionsTransformMatrix(t,e,!1);for(n=0;n<a.length;n++)a[n]=fabric.util.transformPoint(a[n],u);return r=fabric.util.makeBoundingBoxFromPoints(a),{x:r.width,y:r.height}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return fabric.util.transformPoint(e,t,!0).scalarAdd(2*this.padding)}})}(),fabric.util.object.extend(fabric.Object.prototype,{sendToBack:function(){return this.group?fabric.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?fabric.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?fabric.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?fabric.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group?fabric.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var n=new fabric.Color(e),r=t+": "+n.toRgb()+"; ",i=n.getAlpha();return 1!==i&&(r+=t+"-opacity: "+i.toString()+"; "),r}return t+": none; "}fabric.util.object.extend(fabric.Object.prototype,{getSvgStyles:function(e){var n=this.fillRule,r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",a=this.strokeMiterLimit?this.strokeMiterLimit:"4",u=void 0!==this.opacity?this.opacity:"1",c=this.visible?"":" visibility: hidden;",l=e?"":this.getSvgFilter(),h=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",o,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",a,"; ",h,"fill-rule: ",n,"; ","opacity: ",u,";",l,c].join("")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgId:function(){return this.id?'id="'+this.id+'" ':""},getSvgTransform:function(){if(this.group&&"path-group"===this.group.type)return"";var t=fabric.util.toFixed,e=this.getAngle(),n=this.getSkewX()%360,r=this.getSkewY()%360,i=this.getCenterPoint(),o=fabric.Object.NUM_FRACTION_DIGITS,s="path-group"===this.type?"":"translate("+t(i.x,o)+" "+t(i.y,o)+")",a=0!==e?" rotate("+t(e,o)+")":"",u=1===this.scaleX&&1===this.scaleY?"":" scale("+t(this.scaleX,o)+" "+t(this.scaleY,o)+")",c=0!==n?" skewX("+t(n,o)+")":"",l=0!==r?" skewY("+t(r,o)+")":"";return[s,a,u,this.flipX?" matrix(-1 0 0 1 "+("path-group"===this.type?this.width:0)+" 0) ":"",this.flipY?" matrix(1 0 0 -1 0 "+("path-group"===this.type?this.height:0)+")":"",c,l].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+") ":""},_createBaseSVGMarkup:function(){var t=[];return this.fill&&this.fill.toLive&&t.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&t.push(this.stroke.toSVG(this,!1)),this.shadow&&t.push(this.shadow.toSVG(this)),t}})}(),function(){function t(t,e,r){var i={};r.forEach(function(e){i[e]=t[e]}),n(t[e],i,!0)}function e(t,n,r){if(t===n)return!0;if(Array.isArray(t)){if(t.length!==n.length)return!1;for(var i=0,o=t.length;i<o;i++)if(!e(t[i],n[i]))return!1;return!0}if(t&&"object"==typeof t){var s,a=Object.keys(t);if(!r&&a.length!==Object.keys(n).length)return!1;for(var i=0,o=a.length;i<o;i++)if(s=a[i],!e(t[s],n[s]))return!1;return!0}}var n=fabric.util.object.extend;fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(t){var n="_"+(t=t||"stateProperties");return Object.keys(this[n]).length<this[t].length||!e(this[n],this,!0)},saveState:function(e){var n=e&&e.propertySet||"stateProperties",r="_"+n;return this[r]?(t(this,r,this[n]),e&&e.stateProperties&&t(this,r,e.stateProperties),this):this.setupState(e)},setupState:function(t){var e=(t=t||{}).propertySet||"stateProperties";return t.propertySet=e,this["_"+e]={},this.saveState(t),this}})}(),function(){var t=fabric.util.degreesToRadians,e=function(){return"undefined"!=typeof G_vmlCanvasManager};fabric.util.object.extend(fabric.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(t){if(!this.hasControls||!this.active)return!1;var e,n,r=t.x,i=t.y;this.__corner=0;for(var o in this.oCoords)if(this.isControlVisible(o)&&("mtr"!==o||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==o&&"mr"!==o&&"mb"!==o&&"ml"!==o)&&(n=this._getImageLines(this.oCoords[o].corner),0!==(e=this._findCrossPoints({x:r,y:i},n))&&e%2==1))return this.__corner=o,o;return!1},_setCornerCoords:function(){var e,n,r=this.oCoords,i=t(45-this.angle),o=.707106*this.cornerSize,s=o*Math.cos(i),a=o*Math.sin(i);for(var u in r)r[u].corner={tl:{x:(e=r[u].x)-a,y:(n=r[u].y)-s},tr:{x:e+s,y:n-a},bl:{x:e-s,y:n+a},br:{x:e+a,y:n+s}}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.group||!this.active||this.canvas&&!this.canvas.interactive)return this;e.save();var n=this.getCenterPoint(),r=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return e.translate(n.x,n.y),e.scale(1/i[0],1/i[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore(),this},drawBorders:function(t){if(!this.hasBorders)return this;var e=this._calculateCurrentDimensions(),n=1/this.borderScaleFactor,r=e.x+n,i=e.y+n;if(t.save(),t.strokeStyle=this.borderColor,this._setLineDash(t,this.borderDashArray,null),t.strokeRect(-r/2,-i/2,r,i),this.hasRotatingPoint&&this.isControlVisible("mtr")&&!this.get("lockRotation")&&this.hasControls){var o=-i/2;t.beginPath(),t.moveTo(0,o),t.lineTo(0,o-this.rotatingPointOffset),t.closePath(),t.stroke()}return t.restore(),this},drawBordersInGroup:function(t,e){if(!this.hasBorders)return this;var n=this._getNonTransformedDimensions(),r=fabric.util.customTransformMatrix(e.scaleX,e.scaleY,e.skewX),i=fabric.util.transformPoint(n,r),o=1/this.borderScaleFactor,s=i.x+o,a=i.y+o;return t.save(),this._setLineDash(t,this.borderDashArray,null),t.strokeStyle=this.borderColor,t.strokeRect(-s/2,-a/2,s,a),t.restore(),this},drawControls:function(t){if(!this.hasControls)return this;var e=this._calculateCurrentDimensions(),n=e.x,r=e.y,i=this.cornerSize,o=-(n+i)/2,s=-(r+i)/2,a=this.transparentCorners?"stroke":"fill";return t.save(),t.strokeStyle=t.fillStyle=this.cornerColor,this.transparentCorners||(t.strokeStyle=this.cornerStrokeColor),this._setLineDash(t,this.cornerDashArray,null),this._drawControl("tl",t,a,o,s),this._drawControl("tr",t,a,o+n,s),this._drawControl("bl",t,a,o,s+r),this._drawControl("br",t,a,o+n,s+r),this.get("lockUniScaling")||(this._drawControl("mt",t,a,o+n/2,s),this._drawControl("mb",t,a,o+n/2,s+r),this._drawControl("mr",t,a,o+n,s+r/2),this._drawControl("ml",t,a,o,s+r/2)),this.hasRotatingPoint&&this._drawControl("mtr",t,a,o+n/2,s-this.rotatingPointOffset),t.restore(),this},_drawControl:function(t,n,r,i,o){if(this.isControlVisible(t)){var s=this.cornerSize,a=!this.transparentCorners&&this.cornerStrokeColor;switch(this.cornerStyle){case"circle":n.beginPath(),n.arc(i+s/2,o+s/2,s/2,0,2*Math.PI,!1),n[r](),a&&n.stroke();break;default:e()||this.transparentCorners||n.clearRect(i,o,s,s),n[r+"Rect"](i,o,s,s),a&&n.strokeRect(i,o,s,s)}}},isControlVisible:function(t){return this._getControlsVisibility()[t]},setControlVisible:function(t,e){return this._getControlsVisibility()[t]=e,this},setControlsVisibility:function(t){t||(t={});for(var e in t)this.setControlVisible(e,t[e]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var n=function(){},r=(e=e||{}).onComplete||n,i=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),o.renderAll(),i()},onComplete:function(){t.setCoords(),r()}}),this},fxCenterObjectV:function(t,e){var n=function(){},r=(e=e||{}).onComplete||n,i=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("top"),endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),o.renderAll(),i()},onComplete:function(){t.setCoords(),r()}}),this},fxRemove:function(t,e){var n=function(){},r=(e=e||{}).onComplete||n,i=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){t.set("active",!1)},onChange:function(e){t.set("opacity",e),o.renderAll(),i()},onComplete:function(){o.remove(t),r()}}),this}}),fabric.util.object.extend(fabric.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e=[];for(t in arguments[0])e.push(t);for(var n=0,r=e.length;n<r;n++)this._animate(t=e[n],arguments[0][t],arguments[1],n!==r-1)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,n,r){var i,o=this;e=e.toString(),n=n?fabric.util.object.clone(n):{},~t.indexOf(".")&&(i=t.split("."));var s=i?this.get(i[0])[i[1]]:this.get(t);"from"in n||(n.from=s),e=~e.indexOf("=")?s+parseFloat(e.replace("=","")):parseFloat(e),fabric.util.animate({startValue:n.from,endValue:e,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(){return n.abort.call(o)},onChange:function(e,s,a){i?o[i[0]][i[1]]=e:o.set(t,e),r||n.onChange&&n.onChange(e,s,a)},onComplete:function(t,e,i){r||(o.setCoords(),n.onComplete&&n.onComplete(t,e,i))}})}}),function(t){"use strict";function e(t,e){var n=t.origin,r=t.axis1,i=t.axis2,o=t.dimension,s=e.nearest,a=e.center,u=e.farthest;return function(){switch(this.get(n)){case s:return Math.min(this.get(r),this.get(i));case a:return Math.min(this.get(r),this.get(i))+.5*this.get(o);case u:return Math.max(this.get(r),this.get(i))}}}var n=t.fabric||(t.fabric={}),r=n.util.object.extend,i=n.util.object.clone,o={x1:1,x2:1,y1:1,y2:1},s=n.StaticCanvas.supports("setLineDash");n.Line?n.warn("fabric.Line is already defined"):(n.Line=n.util.createClass(n.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:n.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),void 0!==o[t]&&this._setWidthHeight(),this},_getLeftToOriginX:e({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:e({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t,e){if(t.beginPath(),e){var n=this.getCenterPoint(),r=this.strokeWidth/2;t.translate(n.x-("butt"===this.strokeLineCap&&0===this.height?0:r),n.y-("butt"===this.strokeLineCap&&0===this.width?0:r))}if(!this.strokeDashArray||this.strokeDashArray&&s){var i=this.calcLinePoints();t.moveTo(i.x1,i.y1),t.lineTo(i.x2,i.y2)}t.lineWidth=this.strokeWidth;var o=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=o},_renderDashedStroke:function(t){var e=this.calcLinePoints();t.beginPath(),n.util.drawDashedLine(t,e.x1,e.y1,e.x2,e.y2,this.strokeDashArray),t.closePath()},toObject:function(t){return r(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1;return{x1:t*this.width*.5,x2:t*this.width*-.5,y1:e*this.height*.5,y2:e*this.height*-.5}},toSVG:function(t){var e=this._createBaseSVGMarkup(),n={x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2};return this.group&&"path-group"===this.group.type||(n=this.calcLinePoints()),e.push("<line ",this.getSvgId(),'x1="',n.x1,'" y1="',n.y1,'" x2="',n.x2,'" y2="',n.y2,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")}}),n.Line.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),n.Line.fromElement=function(t,e){e=e||{};var i=n.parseAttributes(t,n.Line.ATTRIBUTE_NAMES),o=[i.x1||0,i.y1||0,i.x2||0,i.y2||0];return e.originX="left",e.originY="top",new n.Line(o,r(i,e))},n.Line.fromObject=function(t,e,r){var o=i(t,!0);o.points=[t.x1,t.y1,t.x2,t.y2];var s=n.Object._fromObject("Line",o,function(t){delete t.points,e&&e(t)},r,"points");return s&&delete s.points,s})}(exports),function(t){"use strict";function e(t){return"radius"in t&&t.radius>=0}var n=t.fabric||(t.fabric={}),r=Math.PI,i=n.util.object.extend;n.Circle?n.warn("fabric.Circle is already defined."):(n.Circle=n.util.createClass(n.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*r,cacheProperties:n.Object.prototype.cacheProperties.concat("radius"),initialize:function(t){this.callSuper("initialize",t),this.set("radius",t&&t.radius||0)},_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=0,i=0,o=(this.endAngle-this.startAngle)%(2*r);if(0===o)this.group&&"path-group"===this.group.type&&(n=this.left+this.radius,i=this.top+this.radius),e.push("<circle ",this.getSvgId(),'cx="'+n+'" cy="'+i+'" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n');else{var s=Math.cos(this.startAngle)*this.radius,a=Math.sin(this.startAngle)*this.radius,u=Math.cos(this.endAngle)*this.radius,c=Math.sin(this.endAngle)*this.radius;e.push('<path d="M '+s+" "+a," A "+this.radius+" "+this.radius," 0 ",+(o>r?"1":"0")+" 1"," "+u+" "+c,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n')}return t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.arc(e?this.left+this.radius:0,e?this.top+this.radius:0,this.radius,this.startAngle,this.endAngle,!1),this._renderFill(t),this._renderStroke(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),n.Circle.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),n.Circle.fromElement=function(t,r){r||(r={});var o=n.parseAttributes(t,n.Circle.ATTRIBUTE_NAMES);if(!e(o))throw new Error("value of `r` attribute is required and can not be negative");o.left=o.left||0,o.top=o.top||0;var s=new n.Circle(i(o,r));return s.left-=s.radius,s.top-=s.radius,s},n.Circle.fromObject=function(t,e,r){return n.Object._fromObject("Circle",t,e,r)})}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",initialize:function(t){this.callSuper("initialize",t),this.set("width",t&&t.width||100).set("height",t&&t.height||100)},_render:function(t){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,n),t.lineTo(0,-n),t.lineTo(e,n),t.closePath(),this._renderFill(t),this._renderStroke(t)},_renderDashedStroke:function(t){var n=this.width/2,r=this.height/2;t.beginPath(),e.util.drawDashedLine(t,-n,r,0,-r,this.strokeDashArray),e.util.drawDashedLine(t,0,-r,n,r,this.strokeDashArray),e.util.drawDashedLine(t,n,r,-n,r,this.strokeDashArray),t.closePath()},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this.width/2,r=this.height/2,i=[-n+" "+r,"0 "+-r,n+" "+r].join(",");return e.push("<polygon ",this.getSvgId(),'points="',i,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),t?t(e.join("")):e.join("")}}),e.Triangle.fromObject=function(t,n,r){return e.Object._fromObject("Triangle",t,n,r)})}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=2*Math.PI,r=e.util.object.extend;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=0,r=0;return this.group&&"path-group"===this.group.type&&(n=this.left+this.rx,r=this.top+this.ry),e.push("<ellipse ",this.getSvgId(),'cx="',n,'" cy="',r,'" ','rx="',this.rx,'" ry="',this.ry,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(e?this.left+this.rx:0,e?(this.top+this.ry)*this.rx/this.ry:0,this.rx,0,n,!1),t.restore(),this._renderFill(t),this._renderStroke(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,n){n||(n={});var i=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);i.left=i.left||0,i.top=i.top||0;var o=new e.Ellipse(r(i,n));return o.top-=o.ry,o.left-=o.rx,o},e.Ellipse.fromObject=function(t,n,r){return e.Object._fromObject("Ellipse",t,n,r)})}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t,e){if(1!==this.width||1!==this.height){var n=this.rx?Math.min(this.rx,this.width/2):0,r=this.ry?Math.min(this.ry,this.height/2):0,i=this.width,o=this.height,s=e?this.left:-this.width/2,a=e?this.top:-this.height/2,u=0!==n||0!==r,c=.4477152502;t.beginPath(),t.moveTo(s+n,a),t.lineTo(s+i-n,a),u&&t.bezierCurveTo(s+i-c*n,a,s+i,a+c*r,s+i,a+r),t.lineTo(s+i,a+o-r),u&&t.bezierCurveTo(s+i,a+o-c*r,s+i-c*n,a+o,s+i-n,a+o),t.lineTo(s+n,a+o),u&&t.bezierCurveTo(s+c*n,a+o,s,a+o-c*r,s,a+o-r),t.lineTo(s,a+r),u&&t.bezierCurveTo(s,a+c*r,s+c*n,a,s+n,a),t.closePath(),this._renderFill(t),this._renderStroke(t)}else t.fillRect(-.5,-.5,1,1)},_renderDashedStroke:function(t){var n=-this.width/2,r=-this.height/2,i=this.width,o=this.height;t.beginPath(),e.util.drawDashedLine(t,n,r,n+i,r,this.strokeDashArray),e.util.drawDashedLine(t,n+i,r,n+i,r+o,this.strokeDashArray),e.util.drawDashedLine(t,n+i,r+o,n,r+o,this.strokeDashArray),e.util.drawDashedLine(t,n,r+o,n,r,this.strokeDashArray),t.closePath()},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this.left,r=this.top;return this.group&&"path-group"===this.group.type||(n=-this.width/2,r=-this.height/2),e.push("<rect ",this.getSvgId(),'x="',n,'" y="',r,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,r){if(!t)return null;r=r||{};var i=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);i.left=i.left||0,i.top=i.top||0;var o=new e.Rect(n(r?e.util.object.clone(r):{},i));return o.visible=o.visible&&o.width>0&&o.height>0,o},e.Rect.fromObject=function(t,n,r){return e.Object._fromObject("Rect",t,n,r)})}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.array.min,i=e.util.array.max,o=e.util.toFixed,s=e.Object.NUM_FRACTION_DIGITS;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,minX:0,minY:0,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._calcDimensions(),"top"in e||(this.top=this.minY),"left"in e||(this.left=this.minX),this.pathOffset={x:this.minX+this.width/2,y:this.minY+this.height/2}},_calcDimensions:function(){var t=this.points,e=r(t,"x"),n=r(t,"y"),o=i(t,"x"),s=i(t,"y");this.width=o-e||0,this.height=s-n||0,this.minX=e||0,this.minY=n||0},toObject:function(t){return n(this.callSuper("toObject",t),{points:this.points.concat()})},toSVG:function(t){var e=[],n=0,r=0,i=this._createBaseSVGMarkup();this.group&&"path-group"===this.group.type||(n=this.pathOffset.x,r=this.pathOffset.y);for(var a=0,u=this.points.length;a<u;a++)e.push(o(this.points[a].x-n,s),",",o(this.points[a].y-r,s)," ");return i.push("<",this.type," ",this.getSvgId(),'points="',e.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n'),t?t(i.join("")):i.join("")},commonRender:function(t,e){var n,r=this.points.length,i=e?0:this.pathOffset.x,o=e?0:this.pathOffset.y;if(!r||isNaN(this.points[r-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-i,this.points[0].y-o);for(var s=0;s<r;s++)t.lineTo((n=this.points[s]).x-i,n.y-o);return!0},_render:function(t,e){this.commonRender(t,e)&&(this._renderFill(t),this._renderStroke(t))},_renderDashedStroke:function(t){var n,r;t.beginPath();for(var i=0,o=this.points.length;i<o;i++)e.util.drawDashedLine(t,(n=this.points[i]).x,n.y,(r=this.points[i+1]||n).x,r.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElement=function(t,n){if(!t)return null;n||(n={});var r=e.parsePointsAttribute(t.getAttribute("points")),i=e.parseAttributes(t,e.Polyline.ATTRIBUTE_NAMES);return new e.Polyline(r,e.util.object.extend(i,n))},e.Polyline.fromObject=function(t,n,r){return e.Object._fromObject("Polyline",t,n,r,"points")})}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_render:function(t,e){this.commonRender(t,e)&&(t.closePath(),this._renderFill(t),this._renderStroke(t))},_renderDashedStroke:function(t){this.callSuper("_renderDashedStroke",t),t.closePath()}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=function(t,r){if(!t)return null;r||(r={});var i=e.parsePointsAttribute(t.getAttribute("points")),o=e.parseAttributes(t,e.Polygon.ATTRIBUTE_NAMES);return new e.Polygon(i,n(o,r))},e.Polygon.fromObject=function(t,n,r){return e.Object._fromObject("Polygon",t,n,r,"points")})}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.array.min,r=e.util.array.max,i=e.util.object.extend,o=Object.prototype.toString,s=e.util.drawArc,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},u={m:"l",M:"L"};e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,minX:0,minY:0,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,e){this.callSuper("initialize",e=e||{}),t||(t=[]);var n="[object Array]"===o.call(t);this.path=n?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(n||(this.path=this._parsePath()),this._setPositionDimensions(e))},_setPositionDimensions:function(t){var e=this._parseDimensions();this.minX=e.left,this.minY=e.top,this.width=e.width,this.height=e.height,void 0===t.left&&(this.left=e.left+("center"===this.originX?this.width/2:"right"===this.originX?this.width:0)),void 0===t.top&&(this.top=e.top+("center"===this.originY?this.height/2:"bottom"===this.originY?this.height:0)),this.pathOffset=this.pathOffset||{x:this.minX+this.width/2,y:this.minY+this.height/2}},_renderPathCommands:function(t){var e,n,r,i=null,o=0,a=0,u=0,c=0,l=0,h=0,f=-this.pathOffset.x,d=-this.pathOffset.y;this.group&&"path-group"===this.group.type&&(f=0,d=0),t.beginPath();for(var p=0,g=this.path.length;p<g;++p){switch((e=this.path[p])[0]){case"l":t.lineTo((u+=e[1])+f,(c+=e[2])+d);break;case"L":t.lineTo((u=e[1])+f,(c=e[2])+d);break;case"h":t.lineTo((u+=e[1])+f,c+d);break;case"H":t.lineTo((u=e[1])+f,c+d);break;case"v":t.lineTo(u+f,(c+=e[1])+d);break;case"V":t.lineTo(u+f,(c=e[1])+d);break;case"m":o=u+=e[1],a=c+=e[2],t.moveTo(u+f,c+d);break;case"M":o=u=e[1],a=c=e[2],t.moveTo(u+f,c+d);break;case"c":t.bezierCurveTo(u+e[1]+f,c+e[2]+d,(l=u+e[3])+f,(h=c+e[4])+d,(n=u+e[5])+f,(r=c+e[6])+d),u=n,c=r;break;case"C":t.bezierCurveTo(e[1]+f,e[2]+d,(l=e[3])+f,(h=e[4])+d,(u=e[5])+f,(c=e[6])+d);break;case"s":n=u+e[3],r=c+e[4],null===i[0].match(/[CcSs]/)?(l=u,h=c):(l=2*u-l,h=2*c-h),t.bezierCurveTo(l+f,h+d,u+e[1]+f,c+e[2]+d,n+f,r+d),l=u+e[1],h=c+e[2],u=n,c=r;break;case"S":n=e[3],r=e[4],null===i[0].match(/[CcSs]/)?(l=u,h=c):(l=2*u-l,h=2*c-h),t.bezierCurveTo(l+f,h+d,e[1]+f,e[2]+d,n+f,r+d),u=n,c=r,l=e[1],h=e[2];break;case"q":t.quadraticCurveTo((l=u+e[1])+f,(h=c+e[2])+d,(n=u+e[3])+f,(r=c+e[4])+d),u=n,c=r;break;case"Q":t.quadraticCurveTo(e[1]+f,e[2]+d,(n=e[3])+f,(r=e[4])+d),u=n,c=r,l=e[1],h=e[2];break;case"t":n=u+e[1],r=c+e[2],null===i[0].match(/[QqTt]/)?(l=u,h=c):(l=2*u-l,h=2*c-h),t.quadraticCurveTo(l+f,h+d,n+f,r+d),u=n,c=r;break;case"T":n=e[1],r=e[2],null===i[0].match(/[QqTt]/)?(l=u,h=c):(l=2*u-l,h=2*c-h),t.quadraticCurveTo(l+f,h+d,n+f,r+d),u=n,c=r;break;case"a":s(t,u+f,c+d,[e[1],e[2],e[3],e[4],e[5],e[6]+u+f,e[7]+c+d]),u+=e[6],c+=e[7];break;case"A":s(t,u+f,c+d,[e[1],e[2],e[3],e[4],e[5],e[6]+f,e[7]+d]),u=e[6],c=e[7];break;case"z":case"Z":u=o,c=a,t.closePath()}i=e}},_render:function(t){this._renderPathCommands(t),this._renderFill(t),this._renderStroke(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return i(this.callSuper("toObject",["sourcePath","pathOffset"].concat(t)),{path:this.path.map(function(t){return t.slice()}),top:this.top,left:this.left})},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.path=this.sourcePath),delete e.sourcePath,e},toSVG:function(t){for(var e=[],n=this._createBaseSVGMarkup(),r="",i=0,o=this.path.length;i<o;i++)e.push(this.path[i].join(" "));var s=e.join(" ");return this.group&&"path-group"===this.group.type||(r=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") "),n.push("<path ",this.getSvgId(),'d="',s,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),r,this.getSvgTransformMatrix(),'" stroke-linecap="round" ',"/>\n"),t?t(n.join("")):n.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var t,e,n,r,i,o=[],s=[],c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,l=0,h=this.path.length;l<h;l++){for(r=(t=this.path[l]).slice(1).trim(),s.length=0;n=c.exec(r);)s.push(n[0]);i=[t.charAt(0)];for(var f=0,d=s.length;f<d;f++)e=parseFloat(s[f]),isNaN(e)||i.push(e);var p=i[0],g=a[p.toLowerCase()],v=u[p]||p;if(i.length-1>g)for(var y=1,m=i.length;y<m;y+=g)o.push([p].concat(i.slice(y,y+g))),p=v;else o.push(i)}return o},_parseDimensions:function(){for(var t,i,o,s,a=[],u=[],c=null,l=0,h=0,f=0,d=0,p=0,g=0,v=0,y=this.path.length;v<y;++v){switch((t=this.path[v])[0]){case"l":f+=t[1],d+=t[2],s=[];break;case"L":f=t[1],d=t[2],s=[];break;case"h":f+=t[1],s=[];break;case"H":f=t[1],s=[];break;case"v":d+=t[1],s=[];break;case"V":d=t[1],s=[];break;case"m":l=f+=t[1],h=d+=t[2],s=[];break;case"M":l=f=t[1],h=d=t[2],s=[];break;case"c":s=e.util.getBoundsOfCurve(f,d,f+t[1],d+t[2],p=f+t[3],g=d+t[4],i=f+t[5],o=d+t[6]),f=i,d=o;break;case"C":s=e.util.getBoundsOfCurve(f,d,t[1],t[2],p=t[3],g=t[4],t[5],t[6]),f=t[5],d=t[6];break;case"s":i=f+t[3],o=d+t[4],null===c[0].match(/[CcSs]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),s=e.util.getBoundsOfCurve(f,d,p,g,f+t[1],d+t[2],i,o),p=f+t[1],g=d+t[2],f=i,d=o;break;case"S":i=t[3],o=t[4],null===c[0].match(/[CcSs]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),s=e.util.getBoundsOfCurve(f,d,p,g,t[1],t[2],i,o),f=i,d=o,p=t[1],g=t[2];break;case"q":s=e.util.getBoundsOfCurve(f,d,p=f+t[1],g=d+t[2],p,g,i=f+t[3],o=d+t[4]),f=i,d=o;break;case"Q":s=e.util.getBoundsOfCurve(f,d,p=t[1],g=t[2],p,g,t[3],t[4]),f=t[3],d=t[4];break;case"t":i=f+t[1],o=d+t[2],null===c[0].match(/[QqTt]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),s=e.util.getBoundsOfCurve(f,d,p,g,p,g,i,o),f=i,d=o;break;case"T":i=t[1],o=t[2],null===c[0].match(/[QqTt]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),s=e.util.getBoundsOfCurve(f,d,p,g,p,g,i,o),f=i,d=o;break;case"a":s=e.util.getBoundsOfArc(f,d,t[1],t[2],t[3],t[4],t[5],t[6]+f,t[7]+d),f+=t[6],d+=t[7];break;case"A":s=e.util.getBoundsOfArc(f,d,t[1],t[2],t[3],t[4],t[5],t[6],t[7]),f=t[6],d=t[7];break;case"z":case"Z":f=l,d=h}c=t,s.forEach(function(t){a.push(t.x),u.push(t.y)}),a.push(f),u.push(d)}var m=n(a)||0,b=n(u)||0;return{left:m,top:b,width:(r(a)||0)-m,height:(r(u)||0)-b}}}),e.Path.fromObject=function(t,n,r){var i;if("string"!=typeof t.path)return e.Object._fromObject("Path",t,n,r,"path");e.loadSVGFromURL(t.path,function(e){var r=t.path;i=e[0],delete t.path,i.setOptions(t),i.setSourcePath(r),n&&n(i)})},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,n,r){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);n&&n(new e.Path(o.d,i(o,r)))},e.Path.async=!0)}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.PathGroup?e.warn("fabric.PathGroup is already defined"):(e.PathGroup=e.util.createClass(e.Object,{type:"path-group",fill:"",cacheProperties:[],initialize:function(t,e){e=e||{},this.paths=t||[];for(var n=this.paths.length;n--;)this.paths[n].group=this;e.toBeParsed&&(this.parseDimensionsFromPaths(e),delete e.toBeParsed),this.setOptions(e),this.setCoords()},parseDimensionsFromPaths:function(t){for(var n,r,i,o,s,a,u=[],c=[],l=this.paths.length;l--;){n=[{x:(i=this.paths[l]).left,y:i.top},{x:i.left+(s=i.width+i.strokeWidth),y:i.top},{x:i.left,y:i.top+(o=i.height+i.strokeWidth)},{x:i.left+s,y:i.top+o}],a=this.paths[l].transformMatrix;for(var h=0;h<n.length;h++)r=n[h],a&&(r=e.util.transformPoint(r,a,!1)),u.push(r.x),c.push(r.y)}t.width=Math.max.apply(null,u),t.height=Math.max.apply(null,c)},drawObject:function(t){t.save(),t.translate(-this.width/2,-this.height/2);for(var e=0,n=this.paths.length;e<n;++e)this.paths[e].render(t,!0);t.restore()},shouldCache:function(){var t=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isCaching());if(this.caching=t,t)for(var e=0,n=this.paths.length;e<n;e++)if(this.paths[e].willDrawShadow())return this.caching=!1,!1;return t},willDrawShadow:function(){if(this.shadow)return!0;for(var t=0,e=this.paths.length;t<e;t++)if(this.paths[t].willDrawShadow())return!0;return!1},isCaching:function(){return this.caching||this.group&&this.group.isCaching()},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var t=0,e=this.paths.length;t<e;t++)if(this.paths[t].isCacheDirty(!0)){if(this._cacheCanvas){var n=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-n/2,-r/2,n,r)}return!0}return!1},_set:function(t,e){if("fill"===t&&e&&this.isSameColor())for(var n=this.paths.length;n--;)this.paths[n]._set(t,e);return this.callSuper("_set",t,e)},toObject:function(t){var e=this.paths.map(function(e){var n=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var r=e.toObject(t);return e.includeDefaultValues=n,r});return n(this.callSuper("toObject",["sourcePath"].concat(t)),{paths:e})},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.paths=this.sourcePath),e},toSVG:function(t){var e=this.getObjects(),n=this.getPointByOrigin("left","top"),r="translate("+n.x+" "+n.y+")",i=this._createBaseSVGMarkup();i.push("<g ",this.getSvgId(),'style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransformMatrix(),r,this.getSvgTransform(),'" ',">\n");for(var o=0,s=e.length;o<s;o++)i.push("\t",e[o].toSVG(t));return i.push("</g>\n"),t?t(i.join("")):i.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},isSameColor:function(){var t=this.getObjects()[0].get("fill")||"";return"string"==typeof t&&(t=t.toLowerCase(),this.getObjects().every(function(e){var n=e.get("fill")||"";return"string"==typeof n&&n.toLowerCase()===t}))},complexity:function(){return this.paths.reduce(function(t,e){return t+(e&&e.complexity?e.complexity():0)},0)},getObjects:function(){return this.paths}}),e.PathGroup.fromObject=function(t,n){var r=t.paths;delete t.paths,"string"==typeof r?e.loadSVGFromURL(r,function(i){var o=e.util.groupSVGElements(i,t,r);t.paths=r,n(o)}):e.util.enlivenObjects(r,function(i){var o=new e.PathGroup(i,t);t.paths=r,n(o)})},e.PathGroup.async=!0)}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.array.min,i=e.util.array.max;if(!e.Group){var o={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],initialize:function(t,e,n){e=e||{},this._objects=[],n&&this.callSuper("initialize",e),this._objects=t||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;e.originX&&(this.originX=e.originX),e.originY&&(this.originY=e.originY),n?(this._updateObjectsCoords(!0),this._updateObjectsACoords()):(this._calcBounds(),this._updateObjectsCoords(),this.callSuper("initialize",e)),this.setCoords(),this.saveCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0,!0)},_updateObjectsCoords:function(t){for(var e=this.getCenterPoint(),n=this._objects.length;n--;)this._updateObjectCoords(this._objects[n],e,t)},_updateObjectCoords:function(t,e,n){if(t.__origHasControls=t.hasControls,t.hasControls=!1,!n){var r=t.getLeft(),i=t.getTop();t.set({left:r-e.x,top:i-e.y}),t.setCoords(!0,!0)}},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this.forEachObject(this._setObjectActive,this),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_setObjectActive:function(t){t.set("active",!0),t.group=this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.forEachObject(this._setObjectActive,this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group,t.set("active",!1)},delegatedProperties:{fill:!0,stroke:!0,strokeWidth:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},_set:function(t,e){var n=this._objects.length;if(this.delegatedProperties[t]||"canvas"===t)for(;n--;)this._objects[n].set(t,e);else for(;n--;)this._objects[n].setOnGroup(t,e);this.callSuper("_set",t,e)},toObject:function(t){var e=this.getObjects().map(function(e){var n=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var r=e.toObject(t);return e.includeDefaultValues=n,r});return n(this.callSuper("toObject",t),{objects:e})},toDatalessObject:function(t){var e=this.getObjects().map(function(e){var n=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var r=e.toDatalessObject(t);return e.includeDefaultValues=n,r});return n(this.callSuper("toDatalessObject",t),{objects:e})},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isCaching());if(this.caching=t,t)for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return this.caching=!1,!1;return t},willDrawShadow:function(){if(this.callSuper("willDrawShadow"))return!0;for(var t=0,e=this._objects.length;t<e;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isCaching:function(){return this.caching||this.group&&this.group.isCaching()},drawObject:function(t){for(var e=0,n=this._objects.length;e<n;e++)this._renderObject(this._objects[e],t)},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var t=0,e=this._objects.length;t<e;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var n=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-n/2,-r/2,n,r)}return!0}return!1},_renderControls:function(t,e){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e);for(var n=0,r=this._objects.length;n<r;n++)this._objects[n]._renderControls(t);t.restore()},_renderObject:function(t,e){if(t.visible){var n=t.hasRotatingPoint;t.hasRotatingPoint=!1,t.render(e),t.hasRotatingPoint=n}},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(t){var n=t.calcTransformMatrix(),r=e.util.qrDecompose(n),i=new e.Point(r.translateX,r.translateY);return t.flipX=!1,t.flipY=!1,t.set("scaleX",r.scaleX),t.set("scaleY",r.scaleY),t.skewX=r.skewX,t.skewY=r.skewY,t.angle=r.angle,t.setPositionByOrigin(i,"center","center"),t},_restoreObjectState:function(t){return this.realizeTransform(t),t.setCoords(),t.hasControls=t.__origHasControls,delete t.__origHasControls,t.set("active",!1),delete t.group,this},destroy:function(){return this._objects.forEach(function(t){t.set("dirty",!0)}),this._restoreObjectsState()},saveCoords:function(){return this._originalLeft=this.get("left"),this._originalTop=this.get("top"),this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){return this.forEachObject(function(t){t.setCoords(!0,!0)}),this},_calcBounds:function(t){for(var e,n,r,i=[],o=[],s=["tr","br","bl","tl"],a=0,u=this._objects.length,c=s.length;a<u;++a)for((e=this._objects[a]).setCoords(!0),r=0;r<c;r++)i.push(e.oCoords[n=s[r]].x),o.push(e.oCoords[n].y);this.set(this._getBounds(i,o,t))},_getBounds:function(t,n,o){var s=new e.Point(r(t),r(n)),a=new e.Point(i(t),i(n)),u={width:a.x-s.x||0,height:a.y-s.y||0};return o||(u.left=s.x||0,u.top=s.y||0,"center"===this.originX&&(u.left+=u.width/2),"right"===this.originX&&(u.left+=u.width),"center"===this.originY&&(u.top+=u.height/2),"bottom"===this.originY&&(u.top+=u.height)),u},toSVG:function(t){var e=this._createBaseSVGMarkup();e.push("<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'" style="',this.getSvgFilter(),'">\n');for(var n=0,r=this._objects.length;n<r;n++)e.push("\t",this._objects[n].toSVG(t));return e.push("</g>\n"),t?t(e.join("")):e.join("")},get:function(t){if(t in o){if(this[t])return this[t];for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e][t])return!0;return!1}return t in this.delegatedProperties?this._objects[0]&&this._objects[0].get(t):this[t]}}),e.Group.fromObject=function(t,n){e.util.enlivenObjects(t.objects,function(r){var i=e.util.object.clone(t,!0);delete i.objects,n&&n(new e.Group(r,i,!0))})},e.Group.async=!0}}(exports),function(t){"use strict";var e=fabric.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?fabric.warn("fabric.Image is already defined."):(fabric.Image=fabric.util.createClass(fabric.Object,{type:"image",crossOrigin:"",alignX:"none",alignY:"none",meetOrSlice:"meet",strokeWidth:0,_lastScaleX:1,_lastScaleY:1,minimumScaleTrigger:.5,stateProperties:fabric.Object.prototype.stateProperties.concat("alignX","alignY","meetOrSlice"),objectCaching:!1,initialize:function(t,e,n){e||(e={}),this.filters=[],this.resizeFilters=[],this.callSuper("initialize",e),this._initElement(t,e,n)},getElement:function(){return this._element},setElement:function(t,e,n){var r,i;return this._element=t,this._originalElement=t,this._initConfig(n),0===this.resizeFilters.length?r=e:(i=this,r=function(){i.applyFilters(e,i.resizeFilters,i._filteredEl||i._originalElement,!0)}),0!==this.filters.length?this.applyFilters(r):r&&r(this),this},setCrossOrigin:function(t){return this.crossOrigin=t,this._element.crossOrigin=t,this},getOriginalSize:function(){var t=this.getElement();return{width:t.width,height:t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,-n),t.lineTo(e,-n),t.lineTo(e,n),t.lineTo(-e,n),t.lineTo(-e,-n),t.closePath()}},_renderDashedStroke:function(t){var e=-this.width/2,n=-this.height/2,r=this.width,i=this.height;t.save(),this._setStrokeStyles(t),t.beginPath(),fabric.util.drawDashedLine(t,e,n,e+r,n,this.strokeDashArray),fabric.util.drawDashedLine(t,e+r,n,e+r,n+i,this.strokeDashArray),fabric.util.drawDashedLine(t,e+r,n+i,e,n+i,this.strokeDashArray),fabric.util.drawDashedLine(t,e,n+i,e,n,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){var n=[],r=[],i=1,o=1;this.filters.forEach(function(t){t&&("Resize"===t.type&&(i*=t.scaleX,o*=t.scaleY),n.push(t.toObject()))}),this.resizeFilters.forEach(function(t){t&&r.push(t.toObject())});var s=e(this.callSuper("toObject",["crossOrigin","alignX","alignY","meetOrSlice"].concat(t)),{src:this.getSrc(),filters:n,resizeFilters:r});return s.width/=i,s.height/=o,s},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=-this.width/2,r=-this.height/2,i="none";if(this.group&&"path-group"===this.group.type&&(n=this.left,r=this.top),"none"!==this.alignX&&"none"!==this.alignY&&(i="x"+this.alignX+"Y"+this.alignY+" "+this.meetOrSlice),e.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n',"<image ",this.getSvgId(),'xlink:href="',this.getSvgSrc(!0),'" x="',n,'" y="',r,'" style="',this.getSvgStyles(),'" width="',this.width,'" height="',this.height,'" preserveAspectRatio="',i,'"',"></image>\n"),this.stroke||this.strokeDashArray){var o=this.fill;this.fill=null,e.push("<rect ",'x="',n,'" y="',r,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'),this.fill=o}return e.push("</g>\n"),t?t(e.join("")):e.join("")},getSrc:function(t){var e=t?this._element:this._originalElement;return e?fabric.isLikelyNode?e._src:e.src:this.src||""},setSrc:function(t,e,n){fabric.util.loadImage(t,function(t){return this.setElement(t,e,n)},this,n&&n.crossOrigin)},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyFilters:function(t,e,n,r){if(e=e||this.filters,n=n||this._originalElement){var i,o,s=fabric.util.createImage(),a=this.canvas?this.canvas.getRetinaScaling():fabric.devicePixelRatio,u=this.minimumScaleTrigger/a,c=this;if(0===e.length)return this._element=n,t&&t(this),n;var l=fabric.util.createCanvasElement();return l.width=n.width,l.height=n.height,l.getContext("2d").drawImage(n,0,0,n.width,n.height),e.forEach(function(t){t&&(r?(i=c.scaleX<u?c.scaleX:1,o=c.scaleY<u?c.scaleY:1,i*a<1&&(i*=a),o*a<1&&(o*=a)):(i=t.scaleX,o=t.scaleY),t.applyTo(l,i,o),r||"Resize"!==t.type||(c.width*=t.scaleX,c.height*=t.scaleY))}),s.width=l.width,s.height=l.height,fabric.isLikelyNode?(s.src=l.toBuffer(void 0,fabric.Image.pngCompression),c._element=s,!r&&(c._filteredEl=s),t&&t(c)):(s.onload=function(){c._element=s,!r&&(c._filteredEl=s),t&&t(c),s.onload=l=null},s.src=l.toDataURL("image/png")),l}},_render:function(t,e){var n,r,i,o=this._findMargins();n=e?this.left:-this.width/2,r=e?this.top:-this.height/2,"slice"===this.meetOrSlice&&(t.beginPath(),t.rect(n,r,this.width,this.height),t.clip()),!1===this.isMoving&&this.resizeFilters.length&&this._needsResize()?(this._lastScaleX=this.scaleX,this._lastScaleY=this.scaleY,i=this.applyFilters(null,this.resizeFilters,this._filteredEl||this._originalElement,!0)):i=this._element,i&&t.drawImage(i,n+o.marginX,r+o.marginY,o.width,o.height),this._stroke(t),this._renderStroke(t)},_needsResize:function(){return this.scaleX!==this._lastScaleX||this.scaleY!==this._lastScaleY},_findMargins:function(){var t,e,n=this.width,r=this.height,i=0,o=0;return"none"===this.alignX&&"none"===this.alignY||(t=[this.width/this._element.width,this.height/this._element.height],e="meet"===this.meetOrSlice?Math.min.apply(null,t):Math.max.apply(null,t),n=this._element.width*e,r=this._element.height*e,"Mid"===this.alignX&&(i=(this.width-n)/2),"Max"===this.alignX&&(i=this.width-n),"Mid"===this.alignY&&(o=(this.height-r)/2),"Max"===this.alignY&&(o=this.height-r)),{width:n,height:r,marginX:i,marginY:o}},_resetWidthHeight:function(){var t=this.getElement();this.set("width",t.width),this.set("height",t.height)},_initElement:function(t,e,n){this.setElement(fabric.util.getById(t),n,e),fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(t,e){t&&t.length?fabric.util.enlivenObjects(t,function(t){e&&e(t)},"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){this.width="width"in t?t.width:this.getElement()?this.getElement().width||0:0,this.height="height"in t?t.height:this.getElement()?this.getElement().height||0:0}}),fabric.Image.CSS_CANVAS="canvas-img",fabric.Image.prototype.getSvgSrc=fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(t,e){fabric.util.loadImage(t.src,function(n,r){r?e&&e(null,r):fabric.Image.prototype._initFilters.call(t,t.filters,function(r){t.filters=r||[],fabric.Image.prototype._initFilters.call(t,t.resizeFilters,function(r){return t.resizeFilters=r||[],new fabric.Image(n,t,e)})})},null,t.crossOrigin)},fabric.Image.fromURL=function(t,e,n){fabric.util.loadImage(t,function(t){e&&e(new fabric.Image(t,n))},null,n&&n.crossOrigin)},fabric.Image.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),fabric.Image.fromElement=function(t,n,r){var i,o=fabric.parseAttributes(t,fabric.Image.ATTRIBUTE_NAMES);o.preserveAspectRatio&&(i=fabric.util.parsePreserveAspectRatioAttribute(o.preserveAspectRatio),e(o,i)),fabric.Image.fromURL(o["xlink:href"],n,e(r?fabric.util.object.clone(r):{},o))},fabric.Image.async=!0,fabric.Image.pngCompression=1)}(exports),fabric.util.object.extend(fabric.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.getAngle()%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.setAngle(this._getAngleValueForStraighten()),this},fxStraighten:function(t){var e=function(){},n=(t=t||{}).onComplete||e,r=t.onChange||e,i=this;return fabric.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){i.setAngle(t),r()},onComplete:function(){i.setCoords(),n()},onStart:function(){i.set("active",!1)}}),this}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.renderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.renderAll.bind(this)}),this}}),fabric.Image.filters=fabric.Image.filters||{},fabric.Image.filters.BaseFilter=fabric.util.createClass({type:"BaseFilter",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},toObject:function(){return{type:this.type}},toJSON:function(){return this.toObject()}}),fabric.Image.filters.BaseFilter.fromObject=function(t,e){var n=new fabric.Image.filters[t.type](t);return e&&e(n),n},function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters;r.Brightness=(0,e.util.createClass)(r.BaseFilter,{type:"Brightness",initialize:function(t){this.brightness=(t=t||{}).brightness||0},applyTo:function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),r=n.data,i=this.brightness,o=0,s=r.length;o<s;o+=4)r[o]+=i,r[o+1]+=i,r[o+2]+=i;e.putImageData(n,0,0)},toObject:function(){return n(this.callSuper("toObject"),{brightness:this.brightness})}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters;r.Convolute=(0,e.util.createClass)(r.BaseFilter,{type:"Convolute",initialize:function(t){this.opaque=(t=t||{}).opaque,this.matrix=t.matrix||[0,0,0,0,1,0,0,0,0]},applyTo:function(t){for(var e,n,r,i,o,s,a,u,c,l=this.matrix,h=t.getContext("2d"),f=h.getImageData(0,0,t.width,t.height),d=Math.round(Math.sqrt(l.length)),p=Math.floor(d/2),g=f.data,v=f.width,y=f.height,m=h.createImageData(v,y),b=m.data,_=this.opaque?1:0,w=0;w<y;w++)for(var C=0;C<v;C++){o=4*(w*v+C),e=0,n=0,r=0,i=0;for(var x=0;x<d;x++)for(var S=0;S<d;S++)s=C+S-p,(a=w+x-p)<0||a>y||s<0||s>v||(e+=g[u=4*(a*v+s)]*(c=l[x*d+S]),n+=g[u+1]*c,r+=g[u+2]*c,i+=g[u+3]*c);b[o]=e,b[o+1]=n,b[o+2]=r,b[o+3]=i+_*(255-i)}h.putImageData(m,0,0)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters;r.GradientTransparency=(0,e.util.createClass)(r.BaseFilter,{type:"GradientTransparency",initialize:function(t){this.threshold=(t=t||{}).threshold||100},applyTo:function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),r=n.data,i=this.threshold,o=r.length,s=0,a=r.length;s<a;s+=4)r[s+3]=i+255*(o-s)/o;e.putImageData(n,0,0)},toObject:function(){return n(this.callSuper("toObject"),{threshold:this.threshold})}}),e.Image.filters.GradientTransparency.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters;n.Grayscale=(0,e.util.createClass)(n.BaseFilter,{type:"Grayscale",applyTo:function(t){for(var e,n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height),i=r.data,o=r.width*r.height*4,s=0;s<o;)i[s]=e=(i[s]+i[s+1]+i[s+2])/3,i[s+1]=e,i[s+2]=e,s+=4;n.putImageData(r,0,0)}}),e.Image.filters.Grayscale.fromObject=function(t,n){return t=t||{},t.type="Grayscale",e.Image.filters.BaseFilter.fromObject(t,n)}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters;n.Invert=(0,e.util.createClass)(n.BaseFilter,{type:"Invert",applyTo:function(t){var e,n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height),i=r.data,o=i.length;for(e=0;e<o;e+=4)i[e]=255-i[e],i[e+1]=255-i[e+1],i[e+2]=255-i[e+2];n.putImageData(r,0,0)}}),e.Image.filters.Invert.fromObject=function(t,n){return t=t||{},t.type="Invert",e.Image.filters.BaseFilter.fromObject(t,n)}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters;r.Mask=(0,e.util.createClass)(r.BaseFilter,{type:"Mask",initialize:function(t){this.mask=(t=t||{}).mask,this.channel=[0,1,2,3].indexOf(t.channel)>-1?t.channel:0},applyTo:function(t){if(this.mask){var n,r=t.getContext("2d"),i=r.getImageData(0,0,t.width,t.height),o=i.data,s=this.mask.getElement(),a=e.util.createCanvasElement(),u=this.channel,c=i.width*i.height*4;a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(s,0,0,t.width,t.height);var l=a.getContext("2d").getImageData(0,0,t.width,t.height).data;for(n=0;n<c;n+=4)o[n+3]=l[n+u];r.putImageData(i,0,0)}},toObject:function(){return n(this.callSuper("toObject"),{mask:this.mask.toObject(),channel:this.channel})}}),e.Image.filters.Mask.fromObject=function(t,n){e.util.loadImage(t.mask.src,function(r){return t.mask=new e.Image(r,t.mask),e.Image.filters.BaseFilter.fromObject(t,n)})},e.Image.filters.Mask.async=!0}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters;r.Noise=(0,e.util.createClass)(r.BaseFilter,{type:"Noise",initialize:function(t){this.noise=(t=t||{}).noise||0},applyTo:function(t){for(var e,n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height),i=r.data,o=this.noise,s=0,a=i.length;s<a;s+=4)e=(.5-Math.random())*o,i[s]+=e,i[s+1]+=e,i[s+2]+=e;n.putImageData(r,0,0)},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters;r.Pixelate=(0,e.util.createClass)(r.BaseFilter,{type:"Pixelate",initialize:function(t){this.blocksize=(t=t||{}).blocksize||4},applyTo:function(t){var e,n,r,i,o,s,a,u=t.getContext("2d"),c=u.getImageData(0,0,t.width,t.height),l=c.data,h=c.height,f=c.width;for(n=0;n<h;n+=this.blocksize)for(r=0;r<f;r+=this.blocksize){i=l[e=4*n*f+4*r],o=l[e+1],s=l[e+2],a=l[e+3];for(var d=n,p=n+this.blocksize;d<p;d++)for(var g=r,v=r+this.blocksize;g<v;g++)l[e=4*d*f+4*g]=i,l[e+1]=o,l[e+2]=s,l[e+3]=a}u.putImageData(c,0,0)},toObject:function(){return n(this.callSuper("toObject"),{blocksize:this.blocksize})}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters;r.RemoveWhite=(0,e.util.createClass)(r.BaseFilter,{type:"RemoveWhite",initialize:function(t){this.threshold=(t=t||{}).threshold||30,this.distance=t.distance||20},applyTo:function(t){for(var e,n,r,i=t.getContext("2d"),o=i.getImageData(0,0,t.width,t.height),s=o.data,a=this.distance,u=255-this.threshold,c=Math.abs,l=0,h=s.length;l<h;l+=4)n=s[l+1],r=s[l+2],(e=s[l])>u&&n>u&&r>u&&c(e-n)<a&&c(e-r)<a&&c(n-r)<a&&(s[l+3]=0);i.putImageData(o,0,0)},toObject:function(){return n(this.callSuper("toObject"),{threshold:this.threshold,distance:this.distance})}}),e.Image.filters.RemoveWhite.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters;n.Sepia=(0,e.util.createClass)(n.BaseFilter,{type:"Sepia",applyTo:function(t){var e,n,r=t.getContext("2d"),i=r.getImageData(0,0,t.width,t.height),o=i.data,s=o.length;for(e=0;e<s;e+=4)o[e]=100+(n=.3*o[e]+.59*o[e+1]+.11*o[e+2]),o[e+1]=n+50,o[e+2]=n+255;r.putImageData(i,0,0)}}),e.Image.filters.Sepia.fromObject=function(t,n){return t=t||{},t.type="Sepia",new e.Image.filters.BaseFilter.fromObject(t,n)}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters;n.Sepia2=(0,e.util.createClass)(n.BaseFilter,{type:"Sepia2",applyTo:function(t){var e,n,r,i,o=t.getContext("2d"),s=o.getImageData(0,0,t.width,t.height),a=s.data,u=a.length;for(e=0;e<u;e+=4)a[e]=(.393*(n=a[e])+.769*(r=a[e+1])+.189*(i=a[e+2]))/1.351,a[e+1]=(.349*n+.686*r+.168*i)/1.203,a[e+2]=(.272*n+.534*r+.131*i)/2.14;o.putImageData(s,0,0)}}),e.Image.filters.Sepia2.fromObject=function(t,n){return t=t||{},t.type="Sepia2",new e.Image.filters.BaseFilter.fromObject(t,n)}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters;r.Tint=(0,e.util.createClass)(r.BaseFilter,{type:"Tint",initialize:function(t){this.color=(t=t||{}).color||"#000000",this.opacity=void 0!==t.opacity?t.opacity:new e.Color(this.color).getAlpha()},applyTo:function(t){var n,r,i,o,s,a,u,c,l=t.getContext("2d"),h=l.getImageData(0,0,t.width,t.height),f=h.data,d=f.length;for(r=(c=new e.Color(this.color).getSource())[0]*this.opacity,i=c[1]*this.opacity,o=c[2]*this.opacity,u=1-this.opacity,n=0;n<d;n+=4)s=f[n+1],a=f[n+2],f[n]=r+f[n]*u,f[n+1]=i+s*u,f[n+2]=o+a*u;l.putImageData(h,0,0)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,opacity:this.opacity})}}),e.Image.filters.Tint.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters;r.Multiply=(0,e.util.createClass)(r.BaseFilter,{type:"Multiply",initialize:function(t){this.color=(t=t||{}).color||"#000000"},applyTo:function(t){var n,r,i=t.getContext("2d"),o=i.getImageData(0,0,t.width,t.height),s=o.data,a=s.length;for(r=new e.Color(this.color).getSource(),n=0;n<a;n+=4)s[n]*=r[0]/255,s[n+1]*=r[1]/255,s[n+2]*=r[2]/255;i.putImageData(o,0,0)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color})}}),e.Image.filters.Multiply.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=exports.fabric,n=e.Image.filters;n.Blend=(0,e.util.createClass)(n.BaseFilter,{type:"Blend",initialize:function(t){this.color=(t=t||{}).color||"#000",this.image=t.image||!1,this.mode=t.mode||"multiply",this.alpha=t.alpha||1},applyTo:function(t){var n,r,i,o,s,a,u,c,l,h,f=t.getContext("2d"),d=f.getImageData(0,0,t.width,t.height),p=d.data,g=!1;if(this.image){g=!0;var v=e.util.createCanvasElement();v.width=this.image.width,v.height=this.image.height;var y=new e.StaticCanvas(v);y.add(this.image),h=y.getContext("2d").getImageData(0,0,y.width,y.height).data}else n=(h=new e.Color(this.color).getSource())[0]*this.alpha,r=h[1]*this.alpha,i=h[2]*this.alpha;for(var m=0,b=p.length;m<b;m+=4)switch(o=p[m],s=p[m+1],a=p[m+2],g&&(n=h[m]*this.alpha,r=h[m+1]*this.alpha,i=h[m+2]*this.alpha),this.mode){case"multiply":p[m]=o*n/255,p[m+1]=s*r/255,p[m+2]=a*i/255;break;case"screen":p[m]=1-(1-o)*(1-n),p[m+1]=1-(1-s)*(1-r),p[m+2]=1-(1-a)*(1-i);break;case"add":p[m]=Math.min(255,o+n),p[m+1]=Math.min(255,s+r),p[m+2]=Math.min(255,a+i);break;case"diff":case"difference":p[m]=Math.abs(o-n),p[m+1]=Math.abs(s-r),p[m+2]=Math.abs(a-i);break;case"subtract":c=s-r,l=a-i,p[m]=(u=o-n)<0?0:u,p[m+1]=c<0?0:c,p[m+2]=l<0?0:l;break;case"darken":p[m]=Math.min(o,n),p[m+1]=Math.min(s,r),p[m+2]=Math.min(a,i);break;case"lighten":p[m]=Math.max(o,n),p[m+1]=Math.max(s,r),p[m+2]=Math.max(a,i)}f.putImageData(d,0,0)},toObject:function(){return{color:this.color,image:this.image,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.Blend.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=Math.pow,r=Math.floor,i=Math.sqrt,o=Math.abs,s=Math.max,a=Math.round,u=Math.sin,c=Math.ceil,l=e.Image.filters;l.Resize=(0,e.util.createClass)(l.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:0,scaleY:0,lanczosLobes:3,applyTo:function(t,e,n){if(1!==e||1!==n){this.rcpScaleX=1/e,this.rcpScaleY=1/n;var r,i=t.width,o=t.height,s=a(i*e),u=a(o*n);"sliceHack"===this.resizeType&&(r=this.sliceByTwo(t,i,o,s,u)),"hermite"===this.resizeType&&(r=this.hermiteFastResize(t,i,o,s,u)),"bilinear"===this.resizeType&&(r=this.bilinearFiltering(t,i,o,s,u)),"lanczos"===this.resizeType&&(r=this.lanczosResize(t,i,o,s,u)),t.width=s,t.height=u,t.getContext("2d").putImageData(r,0,0)}},sliceByTwo:function(t,n,i,o,a){var u,c=t.getContext("2d"),l=.5,h=.5,f=1,d=1,p=!1,g=!1,v=n,y=i,m=e.util.createCanvasElement(),b=m.getContext("2d");for(o=r(o),a=r(a),m.width=s(o,n),m.height=s(a,i),o>n&&(l=2,f=-1),a>i&&(h=2,d=-1),u=c.getImageData(0,0,n,i),t.width=s(o,n),t.height=s(a,i),c.putImageData(u,0,0);!p||!g;)n=v,i=y,o*f<r(v*l*f)?v=r(v*l):(v=o,p=!0),a*d<r(y*h*d)?y=r(y*h):(y=a,g=!0),u=c.getImageData(0,0,n,i),b.putImageData(u,0,0),c.clearRect(0,0,v,y),c.drawImage(m,0,0,n,i,0,0,v,y);return c.getImageData(0,0,o,a)},lanczosResize:function(t,e,s,a,l){function h(t){var u,c,f,d,E,k,P,A,j,R,M;for(O.x=(t+.5)*m,T.x=r(O.x),u=0;u<l;u++){for(O.y=(u+.5)*b,T.y=r(O.y),E=0,k=0,P=0,A=0,j=0,c=T.x-C;c<=T.x+C;c++)if(!(c<0||c>=e)){R=r(1e3*o(c-O.x)),S[R]||(S[R]={});for(var I=T.y-x;I<=T.y+x;I++)I<0||I>=s||(M=r(1e3*o(I-O.y)),S[R][M]||(S[R][M]=y(i(n(R*_,2)+n(M*w,2))/1e3)),(f=S[R][M])>0&&(E+=f,k+=f*g[d=4*(I*e+c)],P+=f*g[d+1],A+=f*g[d+2],j+=f*g[d+3]))}v[d=4*(u*a+t)]=k/E,v[d+1]=P/E,v[d+2]=A/E,v[d+3]=j/E}return++t<a?h(t):p}var f=t.getContext("2d"),d=f.getImageData(0,0,e,s),p=f.getImageData(0,0,a,l),g=d.data,v=p.data,y=function(t){return function(e){if(e>t)return 0;if(e*=Math.PI,o(e)<1e-16)return 1;var n=e/t;return u(e)*u(n)/e/n}}(this.lanczosLobes),m=this.rcpScaleX,b=this.rcpScaleY,_=2/this.rcpScaleX,w=2/this.rcpScaleY,C=c(m*this.lanczosLobes/2),x=c(b*this.lanczosLobes/2),S={},O={},T={};return h(0)},bilinearFiltering:function(t,e,n,i,o){var s,a,u,c,l,h,f,d,p=0,g=this.rcpScaleX,v=this.rcpScaleY,y=t.getContext("2d"),m=4*(e-1),b=y.getImageData(0,0,e,n).data,_=y.getImageData(0,0,i,o),w=_.data;for(u=0;u<o;u++)for(c=0;c<i;c++)for(l=g*c-(s=r(g*c)),h=v*u-(a=r(v*u)),d=4*(a*e+s),f=0;f<4;f++)w[p++]=b[d+f]*(1-l)*(1-h)+b[d+4+f]*l*(1-h)+b[d+m+f]*h*(1-l)+b[d+m+4+f]*l*h;return _},hermiteFastResize:function(t,e,n,s,a){for(var u=this.rcpScaleX,l=this.rcpScaleY,h=c(u/2),f=c(l/2),d=t.getContext("2d"),p=d.getImageData(0,0,e,n).data,g=d.getImageData(0,0,s,a),v=g.data,y=0;y<a;y++)for(var m=0;m<s;m++){for(var b=4*(m+y*s),_=0,w=0,C=0,x=0,S=0,O=0,T=0,E=(y+.5)*l,k=r(y*l);k<(y+1)*l;k++)for(var P=o(E-(k+.5))/f,A=(m+.5)*u,j=P*P,R=r(m*u);R<(m+1)*u;R++){var M=o(A-(R+.5))/h,I=i(j+M*M);I>1&&I<-1||(_=2*I*I*I-3*I*I+1)>0&&(T+=_*p[3+(M=4*(R+k*e))],C+=_,p[M+3]<255&&(_=_*p[M+3]/250),x+=_*p[M],S+=_*p[M+1],O+=_*p[M+2],w+=_)}v[b]=x/w,v[b+1]=S/w,v[b+2]=O/w,v[b+3]=T/C}return g},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters;r.ColorMatrix=(0,e.util.createClass)(r.BaseFilter,{type:"ColorMatrix",initialize:function(t){t||(t={}),this.matrix=t.matrix||[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]},applyTo:function(t){var e,n,r,i,o,s=t.getContext("2d"),a=s.getImageData(0,0,t.width,t.height),u=a.data,c=u.length,l=this.matrix;for(e=0;e<c;e+=4)u[e]=(n=u[e])*l[0]+(r=u[e+1])*l[1]+(i=u[e+2])*l[2]+(o=u[e+3])*l[3]+l[4],u[e+1]=n*l[5]+r*l[6]+i*l[7]+o*l[8]+l[9],u[e+2]=n*l[10]+r*l[11]+i*l[12]+o*l[13]+l[14],u[e+3]=n*l[15]+r*l[16]+i*l[17]+o*l[18]+l[19];s.putImageData(a,0,0)},toObject:function(){return n(this.callSuper("toObject"),{type:this.type,matrix:this.matrix})}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters;r.Contrast=(0,e.util.createClass)(r.BaseFilter,{type:"Contrast",initialize:function(t){this.contrast=(t=t||{}).contrast||0},applyTo:function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),r=n.data,i=259*(this.contrast+255)/(255*(259-this.contrast)),o=0,s=r.length;o<s;o+=4)r[o]=i*(r[o]-128)+128,r[o+1]=i*(r[o+1]-128)+128,r[o+2]=i*(r[o+2]-128)+128;e.putImageData(n,0,0)},toObject:function(){return n(this.callSuper("toObject"),{contrast:this.contrast})}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters;r.Saturate=(0,e.util.createClass)(r.BaseFilter,{type:"Saturate",initialize:function(t){this.saturate=(t=t||{}).saturate||0},applyTo:function(t){for(var e,n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height),i=r.data,o=.01*-this.saturate,s=0,a=i.length;s<a;s+=4)e=Math.max(i[s],i[s+1],i[s+2]),i[s]+=e!==i[s]?(e-i[s])*o:0,i[s+1]+=e!==i[s+1]?(e-i[s+1])*o:0,i[s+2]+=e!==i[s+2]?(e-i[s+2])*o:0;n.putImageData(r,0,0)},toObject:function(){return n(this.callSuper("toObject"),{saturate:this.saturate})}}),e.Image.filters.Saturate.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.toFixed,r=e.Object.NUM_FRACTION_DIGITS;e.Text?e.warn("fabric.Text is already defined"):(e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",textDecoration:"",textAlign:"left",fontStyle:"",lineHeight:1.16,textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing"),cacheProperties:e.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.25,_fontSizeMult:1.13,charSpacing:0,initialize:function(t,e){e=e||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.__skipDimension=!1,this._initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},_initDimensions:function(t){this.__skipDimension||(t||(t=e.util.createCanvasElement().getContext("2d"),this._setTextStyles(t)),this._textLines=this._splitTextIntoLines(),this._clearCache(),this.width=this._getTextWidth(t)||this.cursorWidth||2,this.height=this._getTextHeight(t),this.setCoords())},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){this._setTextStyles(t),this.group&&"path-group"===this.group.type&&t.translate(this.left,this.top),this._renderTextLinesBackground(t),this._renderText(t),this._renderTextDecoration(t)},_renderText:function(t){this._renderTextFill(t),this._renderTextStroke(t)},_setTextStyles:function(t){t.textBaseline="alphabetic",t.font=this._getFontDeclaration()},_getTextHeight:function(){return this._getHeightOfSingleLine()+(this._textLines.length-1)*this._getHeightOfLine()},_getTextWidth:function(t){for(var e=this._getLineWidth(t,0),n=1,r=this._textLines.length;n<r;n++){var i=this._getLineWidth(t,n);i>e&&(e=i)}return e},_renderChars:function(t,e,n,r,i){var o,s,a=t.slice(0,-4);if(this[a].toLive){var u=-this.width/2+this[a].offsetX||0,c=-this.height/2+this[a].offsetY||0;e.save(),e.translate(u,c),r-=u,i-=c}if(0!==this.charSpacing)for(var l=this._getWidthOfCharSpacing(),h=0,f=(n=n.split("")).length;h<f;h++)s=e.measureText(o=n[h]).width+l,e[t](o,r,i),r+=s>0?s:0;else e[t](n,r,i);this[a].toLive&&e.restore()},_renderTextLine:function(t,e,n,r,i,o){i-=this.fontSize*this._fontSizeFraction;var s=this._getLineWidth(e,o);if("justify"!==this.textAlign||this.width<s)this._renderChars(t,e,n,r,i,o);else for(var a,u=n.split(/\s+/),c=0,l=this._getWidthOfWords(e,u.join(" "),o,0),h=u.length-1,f=h>0?(this.width-l)/h:0,d=0,p=0,g=u.length;p<g;p++){for(;" "===n[c]&&c<n.length;)c++;this._renderChars(t,e,a=u[p],r+d,i,o,c),d+=this._getWidthOfWords(e,a,o,c)+f,c+=a.length}},_getWidthOfWords:function(t,e){var n=t.measureText(e).width;return 0!==this.charSpacing&&(n+=e.split("").length*this._getWidthOfCharSpacing()),n>0?n:0},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},isEmptyStyles:function(){return!0},_renderTextCommon:function(t,e){for(var n=0,r=this._getLeftOffset(),i=this._getTopOffset(),o=0,s=this._textLines.length;o<s;o++){var a=this._getHeightOfLine(t,o),u=a/this.lineHeight,c=this._getLineWidth(t,o),l=this._getLineLeftOffset(c);this._renderTextLine(e,t,this._textLines[o],r+l,i+n+u,o),n+=a}},_renderTextFill:function(t){!this.fill&&this.isEmptyStyles()||this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_getHeightOfLine:function(){return this._getHeightOfSingleLine()*this.lineHeight},_getHeightOfSingleLine:function(){return this.fontSize*this._fontSizeMult},_renderTextLinesBackground:function(t){if(this.textBackgroundColor){var e,n,r,i=0,o=t.fillStyle;t.fillStyle=this.textBackgroundColor;for(var s=0,a=this._textLines.length;s<a;s++)e=this._getHeightOfLine(t,s),(n=this._getLineWidth(t,s))>0&&(r=this._getLineLeftOffset(n),t.fillRect(this._getLeftOffset()+r,this._getTopOffset()+i,n,e/this.lineHeight)),i+=e;t.fillStyle=o,this._removeShadow(t)}},_getLineLeftOffset:function(t){return"center"===this.textAlign?(this.width-t)/2:"right"===this.textAlign?this.width-t:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.saveState({propertySet:"_dimensionAffectingProps"}),this.dirty=!0),t},_getLineWidth:function(t,e){if(this.__lineWidths[e])return-1===this.__lineWidths[e]?this.width:this.__lineWidths[e];var n,r=this._textLines[e];return n=""===r?0:this._measureLine(t,e),this.__lineWidths[e]=n,n&&"justify"===this.textAlign&&r.split(/\s+/).length>1&&(this.__lineWidths[e]=-1),n},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},_measureLine:function(t,e){var n,r=this._textLines[e],i=t.measureText(r).width,o=0;return 0!==this.charSpacing&&(o=(r.split("").length-1)*this._getWidthOfCharSpacing()),(n=i+o)>0?n:0},_renderTextDecoration:function(t){if(this.textDecoration){var e=this.height/2,n=this,r=[];this.textDecoration.indexOf("underline")>-1&&r.push(.85),this.textDecoration.indexOf("line-through")>-1&&r.push(.43),this.textDecoration.indexOf("overline")>-1&&r.push(-.12),r.length>0&&function(r){var i,o,s,a,u,c,l,h=0;for(i=0,o=n._textLines.length;i<o;i++){for(u=n._getLineWidth(t,i),c=n._getLineLeftOffset(u),l=n._getHeightOfLine(t,i),s=0,a=r.length;s<a;s++)t.fillRect(n._getLeftOffset()+c,h+(n._fontSizeMult-1+r[s])*n.fontSize-e,u,n.fontSize/15);h+=l}}(r)}},_getFontDeclaration:function(){return[e.isLikelyNode?this.fontWeight:this.fontStyle,e.isLikelyNode?this.fontStyle:this.fontWeight,this.fontSize+"px",e.isLikelyNode?'"'+this.fontFamily+'"':this.fontFamily].join(" ")},render:function(t,e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&(this._setTextStyles(t),this._initDimensions(t)),this.callSuper("render",t,e)))},_splitTextIntoLines:function(){return this.text.split(this._reNewline)},toObject:function(t){var e=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","textDecoration","textAlign","textBackgroundColor","charSpacing"].concat(t);return this.callSuper("toObject",e)},toSVG:function(t){this.ctx||(this.ctx=e.util.createCanvasElement().getContext("2d"));var n=this._createBaseSVGMarkup(),r=this._getSVGLeftTopOffsets(this.ctx),i=this._getSVGTextAndBg(r.textTop,r.textLeft);return this._wrapSVGTextAndBg(n,i),t?t(n.join("")):n.join("")},_getSVGLeftTopOffsets:function(t){var e=this._getHeightOfLine(t,0);return{textLeft:-this.width/2+(this.group&&"path-group"===this.group.type?this.left:0),textTop:0+(this.group&&"path-group"===this.group.type?-this.top:0),lineTop:e}},_wrapSVGTextAndBg:function(t,e){var n=this.getSvgFilter(),r=""===n?"":' style="'+n+'"';t.push("\t<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"',r,">\n",e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(!0),'" >\n',e.textSpans.join(""),"\t\t</text>\n","\t</g>\n")},getSvgStyles:function(t){return e.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"},_getSVGTextAndBg:function(t,e){var n=[],r=[],i=0;this._setSVGBg(r);for(var o=0,s=this._textLines.length;o<s;o++)this.textBackgroundColor&&this._setSVGTextLineBg(r,o,e,t,i),this._setSVGTextLineText(o,n,i,e,t,r),i+=this._getHeightOfLine(this.ctx,o);return{textSpans:n,textBgRects:r}},_setSVGTextLineText:function(t,i,o,s,a){var u=this.fontSize*(this._fontSizeMult-this._fontSizeFraction)-a+o-this.height/2;"justify"!==this.textAlign?i.push('\t\t\t<tspan x="',n(s+this._getLineLeftOffset(this._getLineWidth(this.ctx,t)),r),'" ','y="',n(u,r),'" ',this._getFillAttributes(this.fill),">",e.util.string.escapeXml(this._textLines[t]),"</tspan>\n"):this._setSVGTextLineJustifed(t,i,u,s)},_setSVGTextLineJustifed:function(t,i,o,s){var a=e.util.createCanvasElement().getContext("2d");this._setTextStyles(a);var u,c,l=this._textLines[t].split(/\s+/),h=this._getWidthOfWords(a,l.join("")),f=l.length-1,d=f>0?(this.width-h)/f:0,p=this._getFillAttributes(this.fill);for(s+=this._getLineLeftOffset(this._getLineWidth(a,t)),t=0,c=l.length;t<c;t++)u=l[t],i.push('\t\t\t<tspan x="',n(s,r),'" ','y="',n(o,r),'" ',p,">",e.util.string.escapeXml(u),"</tspan>\n"),s+=this._getWidthOfWords(a,u)+d},_setSVGTextLineBg:function(t,e,i,o,s){t.push("\t\t<rect ",this._getFillAttributes(this.textBackgroundColor),' x="',n(i+this._getLineLeftOffset(this._getLineWidth(this.ctx,e)),r),'" y="',n(s-this.height/2,r),'" width="',n(this._getLineWidth(this.ctx,e),r),'" height="',n(this._getHeightOfLine(this.ctx,e)/this.lineHeight,r),'"></rect>\n')},_setSVGBg:function(t){this.backgroundColor&&t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',n(-this.width/2,r),'" y="',n(-this.height/2,r),'" width="',n(this.width,r),'" height="',n(this.height,r),'"></rect>\n')},_getFillAttributes:function(t){var n=t&&"string"==typeof t?new e.Color(t):"";return n&&n.getSource()&&1!==n.getAlpha()?'opacity="'+n.getAlpha()+'" fill="'+n.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_set:function(t,e){this.callSuper("_set",t,e),this._dimensionAffectingProps.indexOf(t)>-1&&(this._initDimensions(),this.setCoords())},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,n){if(!t)return null;var r=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES);(n=e.util.object.extend(n?e.util.object.clone(n):{},r)).top=n.top||0,n.left=n.left||0,"dx"in r&&(n.left+=r.dx),"dy"in r&&(n.top+=r.dy),"fontSize"in n||(n.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE),n.originX||(n.originX="left");var i="";"textContent"in t?i=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(i=t.firstChild.data),i=i.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var o=new e.Text(i,n),s=o.getHeight()/o.height,a=((o.height+o.strokeWidth)*o.lineHeight-o.height)*s,u=o.getHeight()+a,c=0;return"left"===o.originX&&(c=o.getWidth()/2),"right"===o.originX&&(c=-o.getWidth()/2),o.set({left:o.getLeft()+c,top:o.getTop()-u/2+o.fontSize*(.18+o._fontSizeFraction)/o.lineHeight}),o},e.Text.fromObject=function(t,n,r){return e.Object._fromObject("Text",t,n,r,"text")},e.util.createAccessors(e.Text))}(exports),function(){var t=fabric.util.object.clone;fabric.IText=fabric.util.createClass(fabric.Text,fabric.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,styles:null,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],initialize:function(t,e){this.styles=e?e.styles||{}:{},this.callSuper("initialize",t,e),this.initBehavior()},_clearCache:function(){this.callSuper("_clearCache"),this.__widthOfSpace=[]},isEmptyStyles:function(){if(!this.styles)return!0;var t=this.styles;for(var e in t)for(var n in t[e])for(var r in t[e][n])return!1;return!0},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},getSelectionStyles:function(t,e){if(2===arguments.length){for(var n=[],r=t;r<e;r++)n.push(this.getSelectionStyles(r));return n}var i=this.get2DCursorLocation(t);return this._getStyleDeclaration(i.lineIndex,i.charIndex)||{}},setSelectionStyles:function(t){if(this.selectionStart===this.selectionEnd)this._extendStyles(this.selectionStart,t);else for(var e=this.selectionStart;e<this.selectionEnd;e++)this._extendStyles(e,t);return this._forceClearCache=!0,this},_extendStyles:function(t,e){var n=this.get2DCursorLocation(t);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex,{}),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),fabric.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),e)},_initDimensions:function(t){t||this.clearContextTop(),this.callSuper("_initDimensions",t)},render:function(t,e){this.clearContextTop(),this.callSuper("render",t,e),this.cursorOffsetCache={},this.renderCursorOrSelection()},clearContextTop:function(){if(this.active&&this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this.canvas.contextTop;t.save(),t.transform.apply(t,this.canvas.viewportTransform),this.transform(t),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this._clearTextArea(t),t.restore()}},renderCursorOrSelection:function(){if(this.active&&this.isEditing&&this.canvas){var t,e,n=this.text.split("");this.canvas&&this.canvas.contextTop?((e=this.canvas.contextTop).save(),e.transform.apply(e,this.canvas.viewportTransform),this.transform(e),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this._clearTextArea(e)):(e=this.canvas.contextContainer).save(),this.selectionStart===this.selectionEnd?(t=this._getCursorBoundaries(n,"cursor"),this.renderCursor(t,e)):(t=this._getCursorBoundaries(n,"selection"),this.renderSelection(n,t,e)),e.restore()}},_clearTextArea:function(t){var e=this.width+4,n=this.height+4;t.clearRect(-e/2,-n/2,e,n)},get2DCursorLocation:function(t){void 0===t&&(t=this.selectionStart);for(var e=this._textLines.length,n=0;n<e;n++){if(t<=this._textLines[n].length)return{lineIndex:n,charIndex:t};t-=this._textLines[n].length+1}return{lineIndex:n-1,charIndex:this._textLines[n-1].length<t?this._textLines[n-1].length:t}},getCurrentCharStyle:function(t,e){var n=this._getStyleDeclaration(t,0===e?0:e-1);return{fontSize:n&&n.fontSize||this.fontSize,fill:n&&n.fill||this.fill,textBackgroundColor:n&&n.textBackgroundColor||this.textBackgroundColor,textDecoration:n&&n.textDecoration||this.textDecoration,fontFamily:n&&n.fontFamily||this.fontFamily,fontWeight:n&&n.fontWeight||this.fontWeight,fontStyle:n&&n.fontStyle||this.fontStyle,stroke:n&&n.stroke||this.stroke,strokeWidth:n&&n.strokeWidth||this.strokeWidth}},getCurrentCharFontSize:function(t,e){var n=this._getStyleDeclaration(t,0===e?0:e-1);return n&&n.fontSize?n.fontSize:this.fontSize},getCurrentCharColor:function(t,e){var n=this._getStyleDeclaration(t,0===e?0:e-1);return n&&n.fill?n.fill:this.cursorColor},_getCursorBoundaries:function(t,e){var n=Math.round(this._getLeftOffset()),r=this._getTopOffset(),i=this._getCursorBoundariesOffsets(t,e);return{left:n,top:r,leftOffset:i.left+i.lineLeft,topOffset:i.top}},_getCursorBoundariesOffsets:function(t,e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;for(var n,r=0,i=0,o=0,s=0,a=0,u=0;u<this.selectionStart;u++)"\n"===t[u]?(a=0,s+=this._getHeightOfLine(this.ctx,i),i++,o=0):(a+=this._getWidthOfChar(this.ctx,t[u],i,o),o++),r=this._getLineLeftOffset(this._getLineWidth(this.ctx,i));return"cursor"===e&&(s+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,i)/this.lineHeight-this.getCurrentCharFontSize(i,o)*(1-this._fontSizeFraction)),0!==this.charSpacing&&o===this._textLines[i].length&&(a-=this._getWidthOfCharSpacing()),n={top:s,left:a>0?a:0,lineLeft:r},this.cursorOffsetCache=n,this.cursorOffsetCache},renderCursor:function(t,e){var n=this.get2DCursorLocation(),r=n.lineIndex,i=n.charIndex,o=this.getCurrentCharFontSize(r,i),s=t.leftOffset,a=this.scaleX*this.canvas.getZoom(),u=this.cursorWidth/a;e.fillStyle=this.getCurrentCharColor(r,i),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+s-u/2,t.top+t.topOffset,u,o)},renderSelection:function(t,e,n){n.fillStyle=this.selectionColor;for(var r=this.get2DCursorLocation(this.selectionStart),i=this.get2DCursorLocation(this.selectionEnd),o=r.lineIndex,s=i.lineIndex,a=o;a<=s;a++){var u=this._getLineLeftOffset(this._getLineWidth(n,a))||0,c=this._getHeightOfLine(this.ctx,a),l=0,h=0,f=this._textLines[a];if(a===o){for(var d=0,p=f.length;d<p;d++)d>=r.charIndex&&(a!==s||d<i.charIndex)&&(h+=this._getWidthOfChar(n,f[d],a,d)),d<r.charIndex&&(u+=this._getWidthOfChar(n,f[d],a,d));d===f.length&&(h-=this._getWidthOfCharSpacing())}else if(a>o&&a<s)h+=this._getLineWidth(n,a)||5;else if(a===s){for(var g=0,v=i.charIndex;g<v;g++)h+=this._getWidthOfChar(n,f[g],a,g);i.charIndex===f.length&&(h-=this._getWidthOfCharSpacing())}l=c,(this.lineHeight<1||a===s&&this.lineHeight>1)&&(c/=this.lineHeight),n.fillRect(e.left+u,e.top+e.topOffset,h>0?h:0,c),e.topOffset+=l}},_renderChars:function(t,e,n,r,i,o,s){if(this.isEmptyStyles())return this._renderCharsFast(t,e,n,r,i);s=s||0;var a,u,c=this._getHeightOfLine(e,o),l="";e.save(),i-=c/this.lineHeight*this._fontSizeFraction;for(var h=s,f=n.length+s;h<=f;h++)a=a||this.getCurrentCharStyle(o,h),u=this.getCurrentCharStyle(o,h+1),(this._hasStyleChanged(a,u)||h===f)&&(this._renderChar(t,e,o,h-1,l,r,i,c),l="",a=u),l+=n[h-s];e.restore()},_renderCharsFast:function(t,e,n,r,i){"fillText"===t&&this.fill&&this.callSuper("_renderChars",t,e,n,r,i),"strokeText"===t&&(this.stroke&&this.strokeWidth>0||this.skipFillStrokeCheck)&&this.callSuper("_renderChars",t,e,n,r,i)},_renderChar:function(t,e,n,r,i,o,s,a){var u,c,l,h,f,d,p,g,v=this._getStyleDeclaration(n,r);if(v?(c=this._getHeightOfChar(e,i,n,r),h=v.stroke,l=v.fill,f=v.textDecoration):c=this.fontSize,h=(h||this.stroke)&&"strokeText"===t,l=(l||this.fill)&&"fillText"===t,v&&e.save(),u=this._applyCharStylesGetWidth(e,i,n,r,v||null),f=f||this.textDecoration,v&&v.textBackgroundColor&&this._removeShadow(e),0!==this.charSpacing){p=this._getWidthOfCharSpacing(),u=0;for(var y,m=0,b=(d=i.split("")).length;m<b;m++)y=d[m],l&&e.fillText(y,o+u,s),h&&e.strokeText(y,o+u,s),u+=(g=e.measureText(y).width+p)>0?g:0}else l&&e.fillText(i,o,s),h&&e.strokeText(i,o,s);(f||""!==f)&&this._renderCharDecoration(e,f,o,s,this._fontSizeFraction*a/this.lineHeight,u,c),v&&e.restore(),e.translate(u,0)},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.fontSize!==e.fontSize||t.textBackgroundColor!==e.textBackgroundColor||t.textDecoration!==e.textDecoration||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth},_renderCharDecoration:function(t,e,n,r,i,o,s){if(e){var a,u,c=s/15,l={underline:r+s/10,"line-through":r-s*(this._fontSizeFraction+this._fontSizeMult-1)+c,overline:r-(this._fontSizeMult-this._fontSizeFraction)*s},h=["underline","line-through","overline"];for(a=0;a<h.length;a++)e.indexOf(u=h[a])>-1&&t.fillRect(n,l[u],o,c)}},_renderTextLine:function(t,e,n,r,i,o){this.isEmptyStyles()||(i+=this.fontSize*(this._fontSizeFraction+.03)),this.callSuper("_renderTextLine",t,e,n,r,i,o)},_renderTextDecoration:function(t){if(this.isEmptyStyles())return this.callSuper("_renderTextDecoration",t)},_renderTextLinesBackground:function(t){this.callSuper("_renderTextLinesBackground",t);var e,n,r,i,o,s,a,u,c,l,h=0,f=this._getLeftOffset(),d=this._getTopOffset(),p="";t.save();for(var g=0,v=this._textLines.length;g<v;g++)if(e=this._getHeightOfLine(t,g),""!==(i=this._textLines[g])&&this.styles&&this._getLineStyle(g)){n=this._getLineWidth(t,g),r=this._getLineLeftOffset(n),a=u=c=l=0;for(var y=0,m=i.length;y<m;y++)p!==(s=this._getStyleDeclaration(g,y)||{}).textBackgroundColor&&(l&&c&&(t.fillStyle=p,t.fillRect(a,u,c,l)),a=u=c=l=0,p=s.textBackgroundColor||""),s.textBackgroundColor?(o=i[y],p===s.textBackgroundColor&&(p=s.textBackgroundColor,a||(a=f+r+this._getWidthOfCharsAt(t,g,y)),u=d+h,c+=this._getWidthOfChar(t,o,g,y),l=e/this.lineHeight)):p="";l&&c&&(t.fillStyle=p,t.fillRect(a,u,c,l),a=u=c=l=0),h+=e}else h+=e;t.restore()},_getCacheProp:function(t,e){return t+e.fontSize+e.fontWeight+e.fontStyle},_getFontCache:function(t){return fabric.charWidthsCache[t]||(fabric.charWidthsCache[t]={}),fabric.charWidthsCache[t]},_applyCharStylesGetWidth:function(e,n,r,i,o){var s,a,u,c=o||this._getStyleDeclaration(r,i),l=t(c);if(this._applyFontStyles(l),u=this._getFontCache(l.fontFamily),a=this._getCacheProp(n,l),!c&&u[a]&&this.caching)return u[a];"string"==typeof l.shadow&&(l.shadow=new fabric.Shadow(l.shadow));var h=l.fill||this.fill;return e.fillStyle=h.toLive?h.toLive(e,this):h,l.stroke&&(e.strokeStyle=l.stroke&&l.stroke.toLive?l.stroke.toLive(e,this):l.stroke),e.lineWidth=l.strokeWidth||this.strokeWidth,e.font=this._getFontDeclaration.call(l),l.shadow&&(l.scaleX=this.scaleX,l.scaleY=this.scaleY,l.canvas=this.canvas,l.getObjectScaling=this.getObjectScaling,this._setShadow.call(l,e)),this.caching&&u[a]?u[a]:(s=e.measureText(n).width,this.caching&&(u[a]=s),s)},_applyFontStyles:function(t){t.fontFamily||(t.fontFamily=this.fontFamily),t.fontSize||(t.fontSize=this.fontSize),t.fontWeight||(t.fontWeight=this.fontWeight),t.fontStyle||(t.fontStyle=this.fontStyle)},_getStyleDeclaration:function(e,n,r){return r?this.styles[e]&&this.styles[e][n]?t(this.styles[e][n]):{}:this.styles[e]&&this.styles[e][n]?this.styles[e][n]:null},_setStyleDeclaration:function(t,e,n){this.styles[t][e]=n},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return this.styles[t]},_setLineStyle:function(t,e){this.styles[t]=e},_deleteLineStyle:function(t){delete this.styles[t]},_getWidthOfChar:function(t,e,n,r){if(!this._isMeasuring&&"justify"===this.textAlign&&this._reSpacesAndTabs.test(e))return this._getWidthOfSpace(t,n);t.save();var i=this._applyCharStylesGetWidth(t,e,n,r);return 0!==this.charSpacing&&(i+=this._getWidthOfCharSpacing()),t.restore(),i>0?i:0},_getHeightOfChar:function(t,e,n){var r=this._getStyleDeclaration(e,n);return r&&r.fontSize?r.fontSize:this.fontSize},_getWidthOfCharsAt:function(t,e,n){var r,i=0;for(r=0;r<n;r++)i+=this._getWidthOfChar(t,this._textLines[e][r],e,r);return i},_measureLine:function(t,e){this._isMeasuring=!0;var n=this._getWidthOfCharsAt(t,e,this._textLines[e].length);return 0!==this.charSpacing&&(n-=this._getWidthOfCharSpacing()),this._isMeasuring=!1,n>0?n:0},_getWidthOfSpace:function(t,e){if(this.__widthOfSpace[e])return this.__widthOfSpace[e];var n=this._textLines[e],r=this._getWidthOfWords(t,n,e,0),i=this.width-r,o=n.length-n.replace(this._reSpacesAndTabs,"").length,s=Math.max(i/o,t.measureText(" ").width);return this.__widthOfSpace[e]=s,s},_getWidthOfWords:function(t,e,n,r){for(var i=0,o=0;o<e.length;o++){var s=e[o];s.match(/\s/)||(i+=this._getWidthOfChar(t,s,n,o+r))}return i},_getHeightOfLine:function(t,e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var n=this._textLines[e],r=this._getHeightOfChar(t,e,0),i=1,o=n.length;i<o;i++){var s=this._getHeightOfChar(t,e,i);s>r&&(r=s)}return this.__lineHeights[e]=r*this.lineHeight*this._fontSizeMult,this.__lineHeights[e]},_getTextHeight:function(t){for(var e,n=0,r=0,i=this._textLines.length;r<i;r++)e=this._getHeightOfLine(t,r),n+=r===i-1?e/this.lineHeight:e;return n},toObject:function(e){return fabric.util.object.extend(this.callSuper("toObject",e),{styles:t(this.styles,!0)})}}),fabric.IText.fromObject=function(t,e,n){return fabric.Object._fromObject("IText",t,e,n,"text")}}(),function(){var t=fabric.util.object.clone;fabric.util.object.extend(fabric.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1,this.callSuper("onDeselect")},initAddedHandler:function(){var t=this;this.on("added",function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))})},initRemovedHandler:function(){var t=this;this.on("removed",function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],fabric.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))})},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.__isMousedown=!1})}.bind(this),t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,n,r){var i;return i={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:n,onComplete:function(){i.isAborted||t[r]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return i.isAborted}}),i},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(t){var e=this,n=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){e._tick()},n)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){this.selectionStart=0,this.selectionEnd=this.text.length,this._fireSelectionChanged(),this._updateTextarea()},getSelectedText:function(){return this.text.slice(this.selectionStart,this.selectionEnd)},findWordBoundaryLeft:function(t){var e=0,n=t-1;if(this._reSpace.test(this.text.charAt(n)))for(;this._reSpace.test(this.text.charAt(n));)e++,n--;for(;/\S/.test(this.text.charAt(n))&&n>-1;)e++,n--;return t-e},findWordBoundaryRight:function(t){var e=0,n=t;if(this._reSpace.test(this.text.charAt(n)))for(;this._reSpace.test(this.text.charAt(n));)e++,n++;for(;/\S/.test(this.text.charAt(n))&&n<this.text.length;)e++,n++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,n=t-1;!/\n/.test(this.text.charAt(n))&&n>-1;)e++,n--;return t-e},findLineBoundaryRight:function(t){for(var e=0,n=t;!/\n/.test(this.text.charAt(n))&&n<this.text.length;)e++,n++;return t+e},getNumNewLinesInSelectedText:function(){for(var t=this.getSelectedText(),e=0,n=0,r=t.length;n<r;n++)"\n"===t[n]&&e++;return e},searchWordBoundary:function(t,e){for(var n=this._reSpace.test(this.text.charAt(t))?t-1:t,r=this.text.charAt(n),i=/[ \n\.,;!\?\-]/;!i.test(r)&&n>0&&n<this.text.length;)r=this.text.charAt(n+=e);return i.test(r)&&"\n"!==r&&(n+=1===e?0:1),n},selectWord:function(t){var e=this.searchWordBoundary(t=t||this.selectionStart,-1),n=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){var e=this.findLineBoundaryLeft(t=t||this.selectionStart),n=this.findLineBoundaryRight(t);this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea()},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&this.exitEditingOnOthers(this.canvas),this.isEditing=!0,this.selected=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.renderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.selected=!1,t.isEditing&&t.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),n=this.selectionStart,r=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&n!==r||n!==e&&r!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},_updateTextarea:function(){if(this.hiddenTextarea&&!this.inCompositionMode&&(this.cursorOffsetCache={},this.hiddenTextarea.value=this.text,this.hiddenTextarea.selectionStart=this.selectionStart,this.hiddenTextarea.selectionEnd=this.selectionEnd,this.selectionStart===this.selectionEnd)){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top,this.hiddenTextarea.style.fontSize=t.fontSize}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.text.split(""),e=this._getCursorBoundaries(t,"cursor"),n=this.get2DCursorLocation(),r=this.getCurrentCharFontSize(n.lineIndex,n.charIndex),i=e.leftOffset,o=this.calcTransformMatrix(),s={x:e.left+i,y:e.top+e.topOffset+r},a=this.canvas.upperCanvasEl,u=a.width-r,c=a.height-r;return s=fabric.util.transformPoint(s,o),(s=fabric.util.transformPoint(s,this.canvas.viewportTransform)).x<0&&(s.x=0),s.x>u&&(s.x=u),s.y<0&&(s.y=0),s.y>c&&(s.y=c),s.x+=this.canvas._offset.left,s.y+=this.canvas._offset.top,{left:s.x+"px",top:s.y+"px",fontSize:r}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.overCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectable=!0,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},_removeCharsFromTo:function(t,e){for(;e!==t;)this._removeSingleCharAndStyle(t+1),e--;this.selectionStart=t,this.selectionEnd=t},_removeSingleCharAndStyle:function(t){var e="\n"===this.text[t-1];this.removeStyleObject(e,e?t:t-1),this.text=this.text.slice(0,t-1)+this.text.slice(t),this._textLines=this._splitTextIntoLines()},insertChars:function(t,e){var n;if(this.selectionEnd-this.selectionStart>1&&this._removeCharsFromTo(this.selectionStart,this.selectionEnd),e||!this.isEmptyStyles())for(var r=0,i=t.length;r<i;r++)e&&(n=fabric.util.object.clone(fabric.copiedTextStyle[r],!0)),this.insertChar(t[r],r<i-1,n);else this.insertChar(t,!1)},insertChar:function(t,e,n){var r="\n"===this.text[this.selectionStart];this.text=this.text.slice(0,this.selectionStart)+t+this.text.slice(this.selectionEnd),this._textLines=this._splitTextIntoLines(),this.insertStyleObjects(t,r,n),this.selectionStart+=t.length,this.selectionEnd=this.selectionStart,e||(this._updateTextarea(),this.setCoords(),this._fireSelectionChanged(),this.fire("changed"),this.restartCursorIfNeeded(),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.renderAll()))},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,n,r){this.shiftLineStyles(e,1);var i={},o={};if(this.styles[e]&&this.styles[e][n-1]&&(i=this.styles[e][n-1]),r&&i)o[0]=t(i),this.styles[e+1]=o;else{var s=!1;for(var a in this.styles[e]){var u=parseInt(a,10);u>=n&&(s=!0,o[u-n]=this.styles[e][a],delete this.styles[e][a])}s&&(this.styles[e+1]=o)}this._forceClearCache=!0},insertCharStyleObject:function(e,n,r){var i=this.styles[e],o=t(i);0!==n||r||(n=1);for(var s in o){var a=parseInt(s,10);a>=n&&(i[a+1]=o[a],o[a-1]||delete i[a])}var u=r||t(i[n-1]);u&&(this.styles[e][n]=u),this._forceClearCache=!0},insertStyleObjects:function(t,e,n){var r=this.get2DCursorLocation(),i=r.lineIndex,o=r.charIndex;this._getLineStyle(i)||this._setLineStyle(i,{}),"\n"===t?this.insertNewlineStyleObject(i,o,e):this.insertCharStyleObject(i,o,n)},shiftLineStyles:function(e,n){var r=t(this.styles);for(var i in r)(o=parseInt(i,10))<=e&&delete r[o];for(var i in this.styles){var o=parseInt(i,10);o>e&&(this.styles[o+n]=r[o],r[o-n]||delete this.styles[o])}},removeStyleObject:function(t,e){var n=this.get2DCursorLocation(e);this._removeStyleObject(t,n,n.lineIndex,n.charIndex)},_getTextOnPreviousLine:function(t){return this._textLines[t-1]},_removeStyleObject:function(e,n,r,i){if(e){var o=this._getTextOnPreviousLine(n.lineIndex),s=o?o.length:0;this.styles[r-1]||(this.styles[r-1]={});for(i in this.styles[r])this.styles[r-1][parseInt(i,10)+s]=this.styles[r][i];this.shiftLineStyles(n.lineIndex,-1)}else{var a=this.styles[r];a&&delete a[i];var u=t(a);for(var c in u){var l=parseInt(c,10);l>=i&&0!==l&&(a[l-1]=u[l],delete a[l])}}},insertNewline:function(){this.insertChars("\n")},setSelectionStartEndWithShift:function(t,e,n){n<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=n):n>t&&n<e?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=n)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),fabric.util.object.extend(fabric.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown.bind(this))},onMouseDown:function(t){this.__newClickTime=+new Date;var e=this.canvas.getPointer(t.e);this.isTripleClick(e,t.e)?(this.fire("tripleclick",t),this._stopEvent(t.e)):this.isDoubleClick(e)&&(this.fire("dblclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected},isDoubleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y&&this.__lastIsEditing},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("dblclick",function(t){this.selectWord(this.getSelectionStartFromPointer(t.e))}),this.on("tripleclick",function(t){this.selectLine(this.getSelectionStartFromPointer(t.e))})},initMousedownHandler:function(){this.on("mousedown",function(t){if(this.editable&&(!t.e.button||1===t.e.button)){var e=this.canvas.getPointer(t.e);this.__mousedownX=e.x,this.__mousedownY=e.y,this.__isMousedown=!0,this.selected&&this.setCursorByClick(t.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())}})},_isObjectMoved:function(t){var e=this.canvas.getPointer(t);return this.__mousedownX!==e.x||this.__mousedownY!==e.y},initMouseupHandler:function(){this.on("mouseup",function(t){this.__isMousedown=!1,!this.editable||this._isObjectMoved(t.e)||t.e.button&&1!==t.e.button||(this.__lastSelected&&!this.__corner&&(this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()),this.selected=!0)})},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t);t.shiftKey?this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e,n=this.getLocalPointer(t),r=0,i=0,o=0,s=0,a=0,u=this._textLines.length;a<u;a++){e=this._textLines[a],o+=this._getHeightOfLine(this.ctx,a)*this.scaleY;var c=this._getLineWidth(this.ctx,a);i=this._getLineLeftOffset(c)*this.scaleX;for(var l=0,h=e.length;l<h;l++){if(r=i,i+=this._getWidthOfChar(this.ctx,e[l],a,this.flipX?h-l:l)*this.scaleX,!(o<=n.y||i<=n.x))return this._getNewSelectionStartFromOffset(n,r,i,s+a,h);s++}if(n.y<o)return this._getNewSelectionStartFromOffset(n,r,i,s+a-1,h)}return this.text.length},_getNewSelectionStartFromOffset:function(t,e,n,r,i){var o=r+(n-t.x>t.x-e?0:1);return this.flipX&&(o=i-o),o>this.text.length&&(o=this.text.length),o}}),fabric.util.object.extend(fabric.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=fabric.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; line-height: 1px; padding\uff70top: "+t.fontSize+";",fabric.document.body.appendChild(this.hiddenTextarea),fabric.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),fabric.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),fabric.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),fabric.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),fabric.util.addListener(this.hiddenTextarea,"cut",this.cut.bind(this)),fabric.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),fabric.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),fabric.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),fabric.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(fabric.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{8:"removeChars",9:"exitEditing",27:"exitEditing",13:"insertNewline",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown",46:"forwardDelete"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){if(t.keyCode in this.keysMap)this[this.keysMap[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown&&(t.ctrlKey||t.metaKey)))return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.renderAll()}},onKeyUp:function(t){this.isEditing&&!this._copyDone?t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.renderAll()):this._copyDone=!1},onInput:function(t){if(this.isEditing&&!this.inCompositionMode){var e,n,r=this.selectionStart||0,i=this.selectionEnd||0,o=this.text.length,s=this.hiddenTextarea.value.length;e=s>o?this.hiddenTextarea.value.slice(n="left"===this._selectionDirection?i:r,n+(s-o)):this.hiddenTextarea.value.slice(r,r+(s-o+i-r)),this.insertChars(e),t.stopPropagation()}},onCompositionStart:function(){this.inCompositionMode=!0,this.prevCompositionLength=0,this.compositionStart=this.selectionStart},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){var e=t.data;this.selectionStart=this.compositionStart,this.selectionEnd=this.selectionEnd===this.selectionStart?this.compositionStart+this.prevCompositionLength:this.selectionEnd,this.insertChars(e,!1),this.prevCompositionLength=e.length},forwardDelete:function(t){if(this.selectionStart===this.selectionEnd){if(this.selectionStart===this.text.length)return;this.moveCursorRight(t)}this.removeChars(t)},copy:function(t){if(this.selectionStart!==this.selectionEnd){var e=this.getSelectedText(),n=this._getClipboardData(t);n&&n.setData("text",e),fabric.copiedText=e,fabric.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd),t.stopImmediatePropagation(),t.preventDefault(),this._copyDone=!0}},paste:function(t){var e=null,n=this._getClipboardData(t),r=!0;n?(e=n.getData("text").replace(/\r/g,""),fabric.copiedTextStyle&&fabric.copiedText===e||(r=!1)):e=fabric.copiedText,e&&this.insertChars(e,r),t.stopImmediatePropagation(),t.preventDefault()},cut:function(t){this.selectionStart!==this.selectionEnd&&(this.copy(t),this.removeChars(t))},_getClipboardData:function(t){return t&&t.clipboardData||fabric.window.clipboardData},_getWidthBeforeCursor:function(t,e){for(var n=this._textLines[t].slice(0,e),r=this._getLineWidth(this.ctx,t),i=this._getLineLeftOffset(r),o=0,s=n.length;o<s;o++)i+=this._getWidthOfChar(this.ctx,n[o],t,o);return i},getDownCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),i=r.lineIndex;if(i===this._textLines.length-1||t.metaKey||34===t.keyCode)return this.text.length-n;var o=r.charIndex,s=this._getWidthBeforeCursor(i,o),a=this._getIndexOnLine(i+1,s);return this._textLines[i].slice(o).length+a+2},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),i=r.lineIndex;if(0===i||t.metaKey||33===t.keyCode)return-n;var o=r.charIndex,s=this._getWidthBeforeCursor(i,o),a=this._getIndexOnLine(i-1,s),u=this._textLines[i].slice(0,o);return-this._textLines[i-1].length+a-u.length},_getIndexOnLine:function(t,e){for(var n,r=this._getLineWidth(this.ctx,t),i=this._textLines[t],o=this._getLineLeftOffset(r),s=0,a=0,u=i.length;a<u;a++){var c=this._getWidthOfChar(this.ctx,i[a],t,a);if((o+=c)>e){n=!0;var l=o-c,h=o,f=Math.abs(l-e);s=Math.abs(h-e)<f?a:a-1;break}}return n||(s=i.length-1),s},moveCursorDown:function(t){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var n=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,n){var r;if(t.altKey)r=this["findWordBoundary"+n](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===n?-1:1,!0;r=this["findLineBoundary"+n](this[e])}if(void 0!==typeof r&&this[e]!==r)return this[e]=r,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var n="moveCursor"+t+"With";this._currentCursorOpacity=1,this[n+=e.shiftKey?"Shift":"outShift"](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this.text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t){this.selectionStart===this.selectionEnd?this._removeCharsNearCursor(t):this._removeCharsFromTo(this.selectionStart,this.selectionEnd),this.set("dirty",!0),this.setSelectionEnd(this.selectionStart),this._removeExtraneousStyles(),this.canvas&&this.canvas.renderAll(),this.setCoords(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this})},_removeCharsNearCursor:function(t){if(0!==this.selectionStart)if(t.metaKey){var e=this.findLineBoundaryLeft(this.selectionStart);this._removeCharsFromTo(e,this.selectionStart),this.setSelectionStart(e)}else if(t.altKey){var n=this.findWordBoundaryLeft(this.selectionStart);this._removeCharsFromTo(n,this.selectionStart),this.setSelectionStart(n)}else this._removeSingleCharAndStyle(this.selectionStart),this.setSelectionStart(this.selectionStart-1)}}),function(){var t=fabric.util.toFixed,e=fabric.Object.NUM_FRACTION_DIGITS;fabric.util.object.extend(fabric.IText.prototype,{_setSVGTextLineText:function(t,e,n,r,i,o){this._getLineStyle(t)?this._setSVGTextLineChars(t,e,n,r,o):fabric.Text.prototype._setSVGTextLineText.call(this,t,e,n,r,i)},_setSVGTextLineChars:function(t,e,n,r,i){for(var o=this._textLines[t],s=0,a=this._getLineLeftOffset(this._getLineWidth(this.ctx,t))-this.width/2,u=this._getSVGLineTopOffset(t),c=this._getHeightOfLine(this.ctx,t),l=0,h=o.length;l<h;l++){var f=this._getStyleDeclaration(t,l)||{};e.push(this._createTextCharSpan(o[l],f,a,u.lineTop+u.offset,s));var d=this._getWidthOfChar(this.ctx,o[l],t,l);f.textBackgroundColor&&i.push(this._createTextCharBg(f,a,u.lineTop,c,d,s)),s+=d}},_getSVGLineTopOffset:function(t){for(var e=0,n=0,r=0;r<t;r++)e+=this._getHeightOfLine(this.ctx,r);return n=this._getHeightOfLine(this.ctx,r),{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}},_createTextCharBg:function(n,r,i,o,s,a){return['\t\t<rect fill="',n.textBackgroundColor,'" x="',t(r+a,e),'" y="',t(i-this.height/2,e),'" width="',t(s,e),'" height="',t(o/this.lineHeight,e),'"></rect>\n'].join("")},_createTextCharSpan:function(n,r,i,o,s){var a=this.getSvgStyles.call(fabric.util.object.extend({visible:!0,fill:this.fill,stroke:this.stroke,type:"text",getSvgFilter:fabric.Object.prototype.getSvgFilter},r));return['\t\t\t<tspan x="',t(i+s,e),'" y="',t(o-this.height/2,e),'" ',r.fontFamily?'font-family="'+r.fontFamily.replace(/"/g,"'")+'" ':"",r.fontSize?'font-size="'+r.fontSize+'" ':"",r.fontStyle?'font-style="'+r.fontStyle+'" ':"",r.fontWeight?'font-weight="'+r.fontWeight+'" ':"",r.textDecoration?'text-decoration="'+r.textDecoration+'" ':"",'style="',a,'">',fabric.util.string.escapeXml(n),"</tspan>\n"].join("")}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingY:!0,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),initialize:function(t,n){this.callSuper("initialize",t,n),this.setControlsVisibility(e.Textbox.getTextboxControlVisibility())},_initDimensions:function(t){this.__skipDimension||(t||(t=e.util.createCanvasElement().getContext("2d"),this._setTextStyles(t),this.clearContextTop()),this.dynamicMinWidth=0,this._textLines=this._splitTextIntoLines(t),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this._clearCache(),this.height=this._getTextHeight(t),this.setCoords())},_generateStyleMap:function(){for(var t=0,e=0,n=0,r={},i=0;i<this._textLines.length;i++)"\n"===this.text[n]&&i>0?(e=0,n++,t++):" "===this.text[n]&&i>0&&(e++,n++),r[i]={line:t,offset:e},n+=this._textLines[i].length,e+=this._textLines[i].length;return r},_getStyleDeclaration:function(t,e,n){if(this._styleMap){var r=this._styleMap[t];if(!r)return n?{}:null;t=r.line,e=r.offset+e}return this.callSuper("_getStyleDeclaration",t,e,n)},_setStyleDeclaration:function(t,e,n){var r=this._styleMap[t];this.styles[t=r.line][e=r.offset+e]=n},_deleteStyleDeclaration:function(t,e){var n=this._styleMap[t];delete this.styles[t=n.line][e=n.offset+e]},_getLineStyle:function(t){return this.styles[this._styleMap[t].line]},_setLineStyle:function(t,e){this.styles[this._styleMap[t].line]=e},_deleteLineStyle:function(t){delete this.styles[this._styleMap[t].line]},_wrapText:function(t,e){var n,r=e.split(this._reNewline),i=[];for(n=0;n<r.length;n++)i=i.concat(this._wrapLine(t,r[n],n));return i},_measureText:function(t,e,n,r){var i=0;r=r||0;for(var o=0,s=e.length;o<s;o++)i+=this._getWidthOfChar(t,e[o],n,o+r);return i},_wrapLine:function(t,e,n){for(var r=0,i=[],o="",s=e.split(" "),a="",u=0,c=0,l=0,h=0,f=!0,d=this._getWidthOfCharSpacing(),p=0;p<s.length;p++)c=this._measureText(t,a=s[p],n,u),u+=a.length,(r+=l+c-d)>=this.width&&!f?(i.push(o),o="",r=c,f=!0):r+=d,f||(o+=" "),o+=a,l=this._measureText(t," ",n,u),u++,f=!1,c>h&&(h=c);return p&&i.push(o),h>this.dynamicMinWidth&&(this.dynamicMinWidth=h-d),i},_splitTextIntoLines:function(t){t=t||this.ctx;var e=this.textAlign;this._styleMap=null,t.save(),this._setTextStyles(t),this.textAlign="left";var n=this._wrapText(t,this.text);return this.textAlign=e,t.restore(),this._textLines=n,this._styleMap=this._generateStyleMap(),n},setOnGroup:function(t,e){"scaleX"===t&&(this.set("scaleX",Math.abs(1/e)),this.set("width",this.get("width")*e/(void 0===this.__oldScaleX?1:this.__oldScaleX)),this.__oldScaleX=e)},get2DCursorLocation:function(t){void 0===t&&(t=this.selectionStart);for(var e=this._textLines.length,n=0,r=0;r<e;r++){var i=this._textLines[r].length;if(t<=n+i)return{lineIndex:r,charIndex:t-n};"\n"!==this.text[n+=i]&&" "!==this.text[n]||n++}return{lineIndex:e-1,charIndex:this._textLines[e-1].length}},_getCursorBoundariesOffsets:function(t,e){for(var n=0,r=0,i=this.get2DCursorLocation(),o=this._textLines[i.lineIndex].split(""),s=this._getLineLeftOffset(this._getLineWidth(this.ctx,i.lineIndex)),a=0;a<i.charIndex;a++)r+=this._getWidthOfChar(this.ctx,o[a],i.lineIndex,a);for(a=0;a<i.lineIndex;a++)n+=this._getHeightOfLine(this.ctx,a);return"cursor"===e&&(n+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,i.lineIndex)/this.lineHeight-this.getCurrentCharFontSize(i.lineIndex,i.charIndex)*(1-this._fontSizeFraction)),{top:n,left:r,lineLeft:s}},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},toObject:function(t){return this.callSuper("toObject",["minWidth"].concat(t))}}),e.Textbox.fromObject=function(t,n,r){return e.Object._fromObject("Textbox",t,n,r,"text")},e.Textbox.getTextboxControlVisibility=function(){return{tl:!1,tr:!1,br:!1,bl:!1,ml:!0,mt:!1,mr:!0,mb:!1,mtr:!0}}}(exports),function(){var t=fabric.Canvas.prototype._setObjectScale;fabric.Canvas.prototype._setObjectScale=function(e,n,r,i,o,s,a){var u=n.target;if(!(u instanceof fabric.Textbox))return t.call(fabric.Canvas.prototype,e,n,r,i,o,s,a);var c=u.width*(e.x/n.scaleX/(u.width+u.strokeWidth));return c>=u.getMinWidth()?(u.set("width",c),!0):void 0},fabric.Group.prototype._refreshControlsVisibility=function(){if(void 0!==fabric.Textbox)for(var t=this._objects.length;t--;)if(this._objects[t]instanceof fabric.Textbox)return void this.setControlsVisibility(fabric.Textbox.getTextboxControlVisibility())},fabric.util.object.extend(fabric.Textbox.prototype,{_removeExtraneousStyles:function(){for(var t in this._styleMap)this._textLines[t]||delete this.styles[this._styleMap[t].line]},insertCharStyleObject:function(t,e,n){var r=this._styleMap[t];fabric.IText.prototype.insertCharStyleObject.apply(this,[t=r.line,e=r.offset+e,n])},insertNewlineStyleObject:function(t,e,n){var r=this._styleMap[t];fabric.IText.prototype.insertNewlineStyleObject.apply(this,[t=r.line,e=r.offset+e,n])},shiftLineStyles:function(t,e){fabric.IText.prototype.shiftLineStyles.call(this,t=this._styleMap[t].line,e)},_getTextOnPreviousLine:function(t){for(var e=this._textLines[t-1];this._styleMap[t-2]&&this._styleMap[t-2].line===this._styleMap[t-1].line;)e=this._textLines[t-2]+e,t--;return e},removeStyleObject:function(t,e){var n=this.get2DCursorLocation(e),r=this._styleMap[n.lineIndex];this._removeStyleObject(t,n,r.line,r.offset+n.charIndex)}})}(),function(){var t=fabric.IText.prototype._getNewSelectionStartFromOffset;fabric.IText.prototype._getNewSelectionStartFromOffset=function(e,n,r,i,o){i=t.call(this,e,n,r,i,o);for(var s=0,a=0,u=0;u<this._textLines.length&&!((s+=this._textLines[u].length)+a>=i);u++)"\n"!==this.text[s+a]&&" "!==this.text[s+a]||a++;return i-u+a}}(),function(){function request(t,e,n){var r=URL.parse(t);r.port||(r.port=0===r.protocol.indexOf("https:")?443:80);var i=(0===r.protocol.indexOf("https:")?HTTPS:HTTP).request({hostname:r.hostname,port:r.port,path:r.path,method:"GET"},function(t){var r="";e&&t.setEncoding(e),t.on("end",function(){n(r)}),t.on("data",function(e){200===t.statusCode&&(r+=e)})});i.on("error",function(t){fabric.log(t.errno===process.ECONNREFUSED?"ECONNREFUSED: connection refused to "+r.hostname+":"+r.port:t.message),n(null)}),i.end()}function requestFs(t,e){__webpack_require__(5).readFile(t,function(t,n){if(t)throw fabric.log(t),t;e(n)})}if("undefined"==typeof document||"undefined"==typeof window){var DOMParser=__webpack_require__(3).DOMParser,URL=__webpack_require__("7UKz"),HTTP=__webpack_require__("jgl2"),HTTPS=__webpack_require__("5HzR"),Canvas=__webpack_require__(0),Image=__webpack_require__(0).Image;fabric.util.loadImage=function(t,e,n){function r(r){r?(i.src=new Buffer(r,"binary"),i._src=t,e&&e.call(n,i)):(i=null,e&&e.call(n,null,!0))}var i=new Image;t&&(t instanceof Buffer||0===t.indexOf("data"))?(i.src=i._src=t,e&&e.call(n,i)):t&&0!==t.indexOf("http")?requestFs(t,r):t?request(t,"binary",r):e&&e.call(n,t)},fabric.loadSVGFromURL=function(t,e,n){0!==(t=t.replace(/^\n\s*/,"").replace(/\?.*$/,"").trim()).indexOf("http")?requestFs(t,function(t){fabric.loadSVGFromString(t.toString(),e,n)}):request(t,"",function(t){fabric.loadSVGFromString(t,e,n)})},fabric.loadSVGFromString=function(t,e,n){var r=(new DOMParser).parseFromString(t);fabric.parseSVGDocument(r.documentElement,function(t,n){e&&e(t,n)},n)},fabric.util.getScript=function(url,callback){request(url,"",function(body){eval(body),callback&&callback()})},fabric.createCanvasForNode=function(t,e,n,r){r=r||n;var i=fabric.document.createElement("canvas"),o=new Canvas(t||600,e||600,r),s=new Canvas(t||600,e||600,r);i.style={},i.width=o.width,i.height=o.height,(n=n||{}).nodeCanvas=o,n.nodeCacheCanvas=s;var a=new(fabric.Canvas||fabric.StaticCanvas)(i,n);return a.nodeCanvas=o,a.nodeCacheCanvas=s,a.contextContainer=o.getContext("2d"),a.contextCache=s.getContext("2d"),a.Font=Canvas.Font,a};var originaInitStatic=fabric.StaticCanvas.prototype._initStatic;fabric.StaticCanvas.prototype._initStatic=function(t,e){t=t||fabric.document.createElement("canvas"),this.nodeCanvas=new Canvas(t.width,t.height),this.nodeCacheCanvas=new Canvas(t.width,t.height),originaInitStatic.call(this,t,e),this.contextContainer=this.nodeCanvas.getContext("2d"),this.contextCache=this.nodeCacheCanvas.getContext("2d"),this.Font=Canvas.Font},fabric.StaticCanvas.prototype.createPNGStream=function(){return this.nodeCanvas.createPNGStream()},fabric.StaticCanvas.prototype.createJPEGStream=function(t){return this.nodeCanvas.createJPEGStream(t)},fabric.StaticCanvas.prototype._initRetinaScaling=function(){if(this._isRetinaScaling())return this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*fabric.devicePixelRatio),this.nodeCanvas.width=this.width*fabric.devicePixelRatio,this.nodeCanvas.height=this.height*fabric.devicePixelRatio,this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio),this},fabric.Canvas&&(fabric.Canvas.prototype._initRetinaScaling=fabric.StaticCanvas.prototype._initRetinaScaling);var origSetBackstoreDimension=fabric.StaticCanvas.prototype._setBackstoreDimension;fabric.StaticCanvas.prototype._setBackstoreDimension=function(t,e){return origSetBackstoreDimension.call(this,t,e),this.nodeCanvas[t]=e,this},fabric.Canvas&&(fabric.Canvas.prototype._setBackstoreDimension=fabric.StaticCanvas.prototype._setBackstoreDimension)}}()}).call(exports,__webpack_require__("v0OU").Buffer,__webpack_require__("1WNV"))},Dhos:function(t,e,n){function r(t){if(t&&!u(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function s(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var a=n("v0OU").Buffer,u=a.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=e.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(t=t.slice(n,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived);var i=(e+=t.toString(this.encoding,0,r)).charCodeAt(r=e.length-1);if(i>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,r)}return e},c.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},c.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.encoding;e+=this.charBuffer.slice(0,this.charReceived).toString(n)}return e}},"E9/g":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("6Xbx"),i=n("B1iP"),o=n("qLnt"),s=n("grVA"),a=n("V7AE"),u=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.a;break;case 1:if(!n){this.destination=s.a;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,i)}}return Object(r.c)(e,t),e.prototype[a.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,n=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this},e}(o.a),c=function(t){function e(e,n,r,o){t.call(this),this._parentSubscriber=e;var a,u=this;Object(i.a)(n)?a=n:n&&(a=n.next,r=n.error,o=n.complete,n!==s.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=a,this._error=r,this._complete=o}return Object(r.c)(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},"Ecq+":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(e){t.call(this),this.scheduler=e}return Object(r.c)(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(n("AP4T").a)},ExCY:function(t,e,n){"use strict";function r(){}function i(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r}e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i(t)},e.b=i},FOz5:function(t,e,n){(function(t,r,i){var o=n("GI4I"),s=n("lDCR"),a=n("Osec"),u=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=e.IncomingMessage=function(e,n,i){var s=this;if(a.Readable.call(s),s._mode=i,s.headers={},s.rawHeaders=[],s.trailers={},s.rawTrailers=[],s.on("end",function(){t.nextTick(function(){s.emit("close")})}),"fetch"===i){s._fetchResponse=n,s.url=n.url,s.statusCode=n.status,s.statusMessage=n.statusText,n.headers.forEach(function(t,e){s.headers[e.toLowerCase()]=t,s.rawHeaders.push(e,t)});var u=n.body.getReader();function c(){u.read().then(function(t){s._destroyed||(t.done?s.push(null):(s.push(new r(t.value)),c()))}).catch(function(t){s.emit("error",t)})}c()}else if(s._xhr=e,s._pos=0,s.url=e.responseURL,s.statusCode=e.status,s.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===s.headers[n]&&(s.headers[n]=[]),s.headers[n].push(e[2])):void 0!==s.headers[n]?s.headers[n]+=", "+e[2]:s.headers[n]=e[2],s.rawHeaders.push(e[1],e[2])}}),s._charset="x-user-defined",!o.overrideMimeType){var l=s.rawHeaders["mime-type"];if(l){var h=l.match(/;\s*charset=([^;])(;|$)/);h&&(s._charset=h[1].toLowerCase())}s._charset||(s._charset="utf-8")}};s(c,a.Readable),c.prototype._read=function(){},c.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case"text:vbarray":if(e.readyState!==u.DONE)break;try{n=new i.VBArray(e.responseBody).toArray()}catch(t){}if(null!==n){t.push(new r(n));break}case"text":try{n=e.responseText}catch(e){t._mode="text:vbarray";break}if(n.length>t._pos){var o=n.substr(t._pos);if("x-user-defined"===t._charset){for(var s=new r(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);t.push(s)}else t.push(o,t._charset);t._pos=n.length}break;case"arraybuffer":if(e.readyState!==u.DONE||!e.response)break;n=e.response,t.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=e.response,e.readyState!==u.LOADING||!n)break;t.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=e.response,e.readyState!==u.LOADING)break;var c=new i.MSStreamReader;c.onprogress=function(){c.result.byteLength>t._pos&&(t.push(new r(new Uint8Array(c.result.slice(t._pos)))),t._pos=c.result.byteLength)},c.onload=function(){t.push(null)},c.readAsArrayBuffer(n)}t._xhr.readyState===u.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(e,n("1WNV"),n("v0OU").Buffer,n("fRUx"))},GI4I:function(t,e,n){(function(t){function n(){if(void 0!==o)return o;if(t.XMLHttpRequest){o=new t.XMLHttpRequest;try{o.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(t){o=null}}else o=null;return o}function r(t){var e=n();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}function i(t){return"function"==typeof t}e.fetch=i(t.fetch)&&i(t.ReadableStream),e.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),e.blobConstructor=!0}catch(t){}var o,s=void 0!==t.ArrayBuffer,a=s&&i(t.ArrayBuffer.prototype.slice);e.arraybuffer=e.fetch||s&&r("arraybuffer"),e.msstream=!e.fetch&&a&&r("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&s&&r("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!n()&&i(n().overrideMimeType),e.vbArray=i(t.VBArray),o=null}).call(e,n("fRUx"))},INGy:function(t,e,n){"use strict";(function(e,r){function i(t){return N.from(t)}function o(t){return N.isBuffer(t)||t instanceof F}function s(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?I(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function a(t,e){M=M||n("dJzE"),this.objectMode=!!(t=t||{}).objectMode,e instanceof M&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark;this.highWaterMark=r||0===r?r:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new H,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(z||(z=n("Dhos").StringDecoder),this.decoder=new z(t.encoding),this.encoding=t.encoding)}function u(t){if(M=M||n("dJzE"),!(this instanceof u))return new u(t);this._readableState=new a(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),L.call(this)}function c(t,e,n,r,o){var s=t._readableState;if(null===e)s.reading=!1,g(t,s);else{var a;o||(a=h(s,e)),a?t.emit("error",a):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===N.prototype||(e=i(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):l(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?l(t,s,e,!1):m(t,s)):l(t,s,e,!1))):r||(s.reading=!1)}return f(s)}function l(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&v(t)),m(t,e)}function h(t,e){var n;return o(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function f(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function d(t){return t>=Y?t=Y:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function p(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=d(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function g(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,v(t)}}function v(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(U("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?R(y,t):y(t))}function y(t){U("emit readable"),t.emit("readable"),S(t)}function m(t,e){e.readingMore||(e.readingMore=!0,R(b,t,e))}function b(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(U("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function _(t){return function(){var e=t._readableState;U("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&D(t,"data")&&(e.flowing=!0,S(t))}}function w(t){U("readable nexttick read 0"),t.read(0)}function C(t,e){e.resumeScheduled||(e.resumeScheduled=!0,R(x,t,e))}function x(t,e){e.reading||(U("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),S(t),e.flowing&&!e.reading&&t.read(0)}function S(t){var e=t._readableState;for(U("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){if(0===e.length)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=T(t,e.buffer,e.decoder),n}function T(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?E(t,e):k(t,e),r}function E(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(i+=s===o.length?o:o.slice(0,t),0==(t-=s)){s===o.length?(++r,e.head=n.next?n.next:e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}function k(t,e){var n=N.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0==(t-=s)){s===o.length?(++i,e.head=r.next?r.next:e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}function P(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,R(A,e,t))}function A(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function j(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}var R=n("1Rb4");t.exports=u;var M,I=n("CDvF");u.ReadableState=a,n("rOzH");var D=function(t,e){return t.listeners(e).length},L=n("wHgO"),N=n("zOKz").Buffer,F=e.Uint8Array||function(){},B=n("VIKU");B.inherits=n("lDCR");var V=n(4),U=void 0;U=V&&V.debuglog?V.debuglog("stream"):function(){};var z,H=n("yY5i"),G=n("iAGO");B.inherits(u,L);var W=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),u.prototype.destroy=G.destroy,u.prototype._undestroy=G.undestroy,u.prototype._destroy=function(t,e){this.push(null),e(t)},u.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=N.from(t,e),e=""),n=!0),c(this,t,e,!1,n)},u.prototype.unshift=function(t){return c(this,t,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(t){return z||(z=n("Dhos").StringDecoder),this._readableState.decoder=new z(t),this._readableState.encoding=t,this};var Y=8388608;u.prototype.read=function(t){U("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return U("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?P(this):v(this),null;if(0===(t=p(t,e))&&e.ended)return 0===e.length&&P(this),null;var r=e.needReadable;U("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&U("length less than watermark",r=!0),e.ended||e.reading?U("reading or ended",r=!1):r&&(U("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=p(n,e)));var i;return null===(i=t>0?O(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&P(this)),null!==i&&this.emit("data",i),i},u.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},u.prototype.pipe=function(t,e){function n(t,e){U("onunpipe"),t===f&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,o())}function i(){U("onend"),t.end()}function o(){U("cleanup"),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("drain",g),t.removeListener("error",u),t.removeListener("unpipe",n),f.removeListener("end",i),f.removeListener("end",h),f.removeListener("data",a),v=!0,!d.awaitDrain||t._writableState&&!t._writableState.needDrain||g()}function a(e){U("ondata"),y=!1,!1!==t.write(e)||y||((1===d.pipesCount&&d.pipes===t||d.pipesCount>1&&-1!==j(d.pipes,t))&&!v&&(U("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,y=!0),f.pause())}function u(e){U("onerror",e),h(),t.removeListener("error",u),0===D(t,"error")&&t.emit("error",e)}function c(){t.removeListener("finish",l),h()}function l(){U("onfinish"),t.removeListener("close",c),h()}function h(){U("unpipe"),f.unpipe(t)}var f=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=t;break;case 1:d.pipes=[d.pipes,t];break;default:d.pipes.push(t)}d.pipesCount+=1,U("pipe count=%d opts=%j",d.pipesCount,e);var p=e&&!1===e.end||t===r.stdout||t===r.stderr?h:i;d.endEmitted?R(p):f.once("end",p),t.on("unpipe",n);var g=_(f);t.on("drain",g);var v=!1,y=!1;return f.on("data",a),s(t,"error",u),t.once("close",c),t.once("finish",l),t.emit("pipe",f),d.flowing||(U("pipe resume"),f.resume()),t},u.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=j(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},u.prototype.on=function(t,e){var n=L.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&v(this):R(w,this))}return n},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var t=this._readableState;return t.flowing||(U("resume"),t.flowing=!0,C(this,t)),this},u.prototype.pause=function(){return U("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(U("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(U("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){U("wrapped data"),e.decoder&&(i=e.decoder.write(i)),(!e.objectMode||null!==i&&void 0!==i)&&(e.objectMode||i&&i.length)&&(r.push(i)||(n=!0,t.pause()))});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<W.length;o++)t.on(W[o],r.emit.bind(r,W[o]));return r._read=function(e){U("wrapped _read",e),n&&(n=!1,t.resume())},r},u._fromList=O}).call(e,n("fRUx"),n("1WNV"))},LMZF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(t,e,n,r){function o(t){if(this instanceof o)return s.call(this,t),this;var e=new o(t),n=function(t){return(t.hasOwnProperty(Hi)?t[Hi]:Object.defineProperty(t,Hi,{value:[]})[Hi]).push(e),t};return r&&r(n),n}var s=i(e);return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function i(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,e);for(var i in r)this[i]=r[i]}}}function o(t,e,n){function r(){function t(t,e,n){for(var r=t.hasOwnProperty(Gi)?t[Gi]:Object.defineProperty(t,Gi,{value:[]})[Gi];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(i),t}for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof r)return o.apply(this,e),this;var i=new((s=r).bind.apply(s,[void 0].concat(e)));return t.annotation=i,t;var s}var o=i(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}function s(t,e,n){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof r)return o.apply(this,t),this;var n=new((i=r).bind.apply(i,[void 0].concat(t)));return function(t,e){var r=t.constructor,i=r.hasOwnProperty(Wi)?r[Wi]:Object.defineProperty(r,Wi,{value:{}})[Wi];i[e]=i.hasOwnProperty(e)&&i[e]||[],i[e].unshift(n)};var i}var o=i(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}function a(t){return null==t||t===Ji.Default}function u(){if(!So){var t=xo.Symbol;if(t&&t.iterator)So=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(So=r)}}return So}function c(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function l(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function h(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(h).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t){return t.__forward_ref__=f,t.toString=function(){return h(this())},t}function d(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===f?t():t}function p(t){var e=b(t),n=Po,r=Ao,i=!1,o=d(t.provide);if(Do in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=d(t.useClass);else{if("function"!=typeof o)throw w("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}function g(t){return w("Cannot mix multi providers and regular providers",t)}function v(t,e){if(e)if((e=d(e))instanceof Array)for(var n=0;n<e.length;n++)v(t,e[n]);else{if("function"==typeof e)throw w("Function/Class not supported",e);if(!e||"object"!=typeof e||!e.provide)throw w("Unexpected provider",e);var r=d(e.provide),i=p(e);if(!0===e.multi){var o=t.get(r);if(o){if(o.fn!==Ro)throw g(r)}else t.set(r,o={token:e.provide,deps:[],useNew:!1,fn:Ro,value:Ao});o.deps.push({token:r=e,options:6})}var s=t.get(r);if(s&&s.fn==Ro)throw g(r);t.set(r,i)}}function y(t,e,n,r,i){try{return m(t,e,n,r,i)}catch(n){throw n instanceof Error||(n=new Error(n)),(n[Lo]=n[Lo]||[]).unshift(t),e&&e.value==jo&&(e.value=Ao),n}}function m(t,e,n,r,i){var o;if(e){if((o=e.value)==jo)throw Error(Bo+"Circular dependency");if(o===Ao){e.value=jo;var s=e.useNew,a=e.fn,u=e.deps,c=Ao;if(u.length){c=[];for(var l=0;l<u.length;l++){var h=u[l],f=h.options,d=2&f?n.get(h.token):void 0;c.push(y(h.token,d,n,d||4&f?r:No,1&f?null:ko.THROW_IF_NOT_FOUND))}}e.value=o=s?new((p=a).bind.apply(p,[void 0].concat(c))):a.apply(void 0,c)}}else o=r.get(t,i);return o;var p}function b(t){var e=Ao,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=d(n[r]))instanceof Array)for(var o=0,s=u;o<s.length;o++){var a=s[o];a instanceof vo||a==vo?i|=1:a instanceof bo||a==bo?i&=-3:a instanceof mo||a==mo?i&=-5:u=a instanceof go?a.token:d(a)}e.push({token:u,options:i})}}else if(t.useExisting){var u=d(t.useExisting);e=[{token:u,options:6}]}else if(!(n||Do in t))throw w("'deps' required",t);return e}function _(t,e){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Bo?t.substr(2):t;var n=h(e);if(e instanceof Array)n=e.map(h).join(" -> ");else if("object"==typeof e){var r=[];for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];r.push(i+":"+("string"==typeof o?JSON.stringify(o):h(o)))}n="{"+r.join(", ")+"}"}return"StaticInjectorError["+n+"]: "+t.replace(Fo,"\n  ")}function w(t,e){return new Error(_(t,e))}function C(t){return t[Uo]}function x(t){return t[zo]}function S(t){return t[Ho]||O}function O(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}function T(t,e){var n=t+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[zo]=e,r}function E(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}function k(t){return t.length>1?" ("+E(t.slice().reverse()).map(function(t){return h(t.token)}).join(" -> ")+")":""}function P(t,e,n,r){var i=[e],o=n(i),s=r?T(o,r):Error(o);return s.addKey=A,s.keys=i,s.injectors=[t],s.constructResolvingMessage=n,s[zo]=r,s}function A(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function j(t,e){return P(t,e,function(t){return"No provider for "+h(t[0].token)+"!"+k(t)})}function R(t,e){return P(t,e,function(t){return"Cannot instantiate cyclic dependency!"+k(t)})}function M(t,e,n,r){return P(t,r,function(t){var n=h(t[0].token);return e.message+": Error during instantiation of "+n+"!"+k(t)+"."},e)}function I(t){return Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t)}function D(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];n.push(o&&0!=o.length?o.map(h).join(" "):"?")}return Error("Cannot resolve all parameters for '"+h(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+h(t)+"' is decorated with Injectable.")}function L(t){return Error("Index "+t+" is out-of-bounds.")}function N(t,e){return Error("Cannot mix multi providers and regular providers, got: "+t+" "+e)}function F(t){return"function"==typeof t}function B(t){return t?t.map(function(t){var e=t.type.annotationCls;return new(e.bind.apply(e,[void 0].concat(t.args?t.args:[])))}):[]}function V(t){var e=Object.getPrototypeOf(t.prototype);return(e?e.constructor:null)||Object}function U(t){var e,n;if(t.useClass){var r=d(t.useClass);e=Zo.factory(r),n=X(r)}else t.useExisting?(e=function(t){return t},n=[$o.fromKey(Wo.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=Y(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Qo);return new ts(e,n)}function z(t){return new Jo(Wo.get(t.provide),[U(t)],t.multi||!1)}function H(t){var e=G(W(t,[]).map(z),new Map);return Array.from(e.values())}function G(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw N(i,r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var s=void 0;s=r.multiProvider?new Jo(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,s)}}return e}function W(t,e){return t.forEach(function(t){if(t instanceof Xo)e.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)e.push(t);else{if(!(t instanceof Array))throw I(t);W(t,e)}}),e}function Y(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return q(t,e,n)})}return X(t)}function X(t){var e=Zo.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw D(t,e);return e.map(function(n){return q(t,n,e)})}function q(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return e instanceof go?K(e.token,i,null):K(e,i,null);for(var o=null,s=0;s<e.length;++s){var a=e[s];a instanceof Xo?r=a:a instanceof go?r=a.token:a instanceof vo?i=!0:a instanceof mo||a instanceof bo?o=a:a instanceof zi&&(r=a)}if(null!=(r=d(r)))return K(r,i,o);throw D(t,n)}function K(t,e,n){return new $o(Wo.get(t),e,n)}function Z(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}function $(t){return!!t&&"function"==typeof t.then}function Q(t){return!!t&&"function"==typeof t.subscribe}function J(){return""+tt()+tt()+tt()}function tt(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function et(){throw new Error("Runtime compiler is not loaded")}function nt(t){var e=Error("No component factory found for "+h(t)+". Did you add it to @NgModule.entryComponents?");return e[bs]=t,e}function rt(){var t=xo.wtf;return!(!t||!(ji=t.trace)||(Ri=ji.events,0))}function it(t,e){return void 0===e&&(e=null),Ri.createScope(t,e)}function ot(t,e){return ji.leaveScope(t,e),e}function st(t,e){return ji.beginTimeRange(t,e)}function at(t){ji.endTimeRange(t)}function ut(t,e){return null}function ct(){}function lt(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function ht(t){t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,s){try{return ft(t),e.invokeTask(r,i,o,s)}finally{dt(t)}},onInvoke:function(e,n,r,i,o,s,a){try{return ft(t),e.invoke(r,i,o,s,a)}finally{dt(t)}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,lt(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,n,r,i){return e.handleError(r,i),t.runOutsideAngular(function(){return t.onError.emit(i)}),!1}})}function ft(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dt(t){t._nesting--,lt(t)}function pt(t){Ns=t}function gt(){if(Bs)throw new Error("Cannot enable prod mode after platform setup.");Fs=!1}function vt(){return Bs=!0,Fs}function yt(t){if(Mi&&!Mi.destroyed&&!Mi.injector.get(Vs,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Mi=t.get(zs);var e=t.get(us,null);return e&&e.forEach(function(t){return t()}),Mi}function mt(t,e,n){void 0===n&&(n=[]);var r=new zi("Platform: "+e);return function(e){void 0===e&&(e=[]);var i=wt();return i&&!i.injector.get(Vs,!1)||(t?t(n.concat(e).concat({provide:r,useValue:!0})):yt(ko.create(n.concat(e).concat({provide:r,useValue:!0})))),bt(r)}}function bt(t){var e=wt();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function _t(){Mi&&!Mi.destroyed&&Mi.destroy()}function wt(){return Mi&&!Mi.destroyed?Mi:null}function Ct(t){return"noop"===t?new Is:("zone.js"===t?void 0:t)||new Rs({enableLongStackTrace:vt()})}function xt(t,e,n){try{var r=n();return $(r)?r.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):r}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}}function St(t,e){return t=Array.isArray(e)?e.reduce(St,t):Object(Ni.a)({},t,e)}function Ot(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Tt(t,e){var n=Js.get(t);if(n)throw new Error("Duplicate module registered for "+t+" - "+n.moduleType.name+" vs "+e.moduleType.name);Js.set(t,e)}function Et(t){var e=Js.get(t);if(!e)throw new Error("No module with ID "+t+" loaded");return e}function kt(t){return t.reduce(function(t,e){var n=Array.isArray(e)?kt(e):e;return t.concat(n)},[])}function Pt(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}function At(t){return t.map(function(t){return t.nativeElement})}function jt(t,e,n){t.childNodes.forEach(function(t){t instanceof ha&&(e(t)&&n.push(t),jt(t,e,n))})}function Rt(t,e,n){t instanceof ha&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof ha&&Rt(t,e,n)})}function Mt(t){return fa.get(t)||null}function It(t){fa.set(t.nativeNode,t)}function Dt(t){fa.delete(t.nativeNode)}function Lt(t,e){var n=Nt(t),r=Nt(e);return n&&r?Ft(t,e,Lt):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||l(t,e)}function Nt(t){return!!Vt(t)&&(Array.isArray(t)||!(t instanceof Map)&&u()in t)}function Ft(t,e,n){for(var r=t[u()](),i=e[u()]();;){var o=r.next(),s=i.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!n(o.value,s.value))return!1}}function Bt(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[u()](),i=void 0;!(i=r.next()).done;)e(i.value)}function Vt(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ut(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function zt(t){return t.name||typeof t}function Ht(){return ka}function Gt(){return Pa}function Wt(t){return t||"en-US"}function Yt(t,e){return t.nodes[e]}function Xt(t,e){return t.nodes[e]}function qt(t,e){return t.nodes[e]}function Kt(t,e){return t.nodes[e]}function Zt(t,e){return t.nodes[e]}function $t(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),Jt(i,t)}function Qt(t,e){return t instanceof Error||(t=new Error(t.toString())),te(t,e),t}function Jt(t,e){var n=new Error(t);return te(n,e),n}function te(t,e){t[Uo]=e,t[Ho]=e.logError.bind(e)}function ee(t){return!!C(t)}function ne(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function re(t){var e=Ua.get(t);return e||(e=h(t)+"_"+Ua.size,Ua.set(t,e)),e}function ie(t,e,n,r){if(r instanceof da){r=r.wrapped;var i=t.def.nodes[e].bindingIndex+n,o=t.oldValues[i];o instanceof da&&(o=o.wrapped),t.oldValues[i]=new da(o)}return r}function oe(t){return{id:za,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}function se(t){if(t&&t.id===za){var e=null!=t.encapsulation&&t.encapsulation!==ho.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Ga++:Ha}return t&&t.id===Ha&&(t=null),t||null}function ae(t,e,n,r){return!(!(2&t.state)&&l(t.oldValues[e.bindingIndex+n],r))}function ue(t,e,n,r){return!!ae(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function ce(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Lt(i,r))throw $t(Ba.createDebugContext(t,e.nodeIndex),i,r,0!=(1&t.state))}function le(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function he(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function fe(t,e,n,r){try{return le(33554432&t.def.nodes[e].flags?Xt(t,e).componentView:t),Ba.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function de(t){return t.parent?Xt(t.parent,t.parentNodeDef.nodeIndex):null}function pe(t){return t.parent?t.parentNodeDef.parent:null}function ge(t,e){switch(201347067&e.flags){case 1:return Xt(t,e.nodeIndex).renderElement;case 2:return Yt(t,e.nodeIndex).renderText}}function ve(t,e){return t?t+":"+e:e}function ye(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function me(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function be(t){return 1<<t%32}function _e(t){var e={},n=0,r={};return t&&t.forEach(function(t){var i=t[0],o=t[1];"number"==typeof i?(e[i]=o,n|=be(i)):r[i]=o}),{matchedQueries:e,references:r,matchedQueryIds:n}}function we(t){return t.map(function(t){var e,n;return Array.isArray(t)?(n=t[0],e=t[1]):(n=0,e=t),{flags:n,token:e,tokenKey:re(e)}})}function Ce(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===ho.Native?Xt(t,n.renderParent.nodeIndex).renderElement:void 0:e}function xe(t){var e=Wa.get(t);return e||((e=t(function(){return Va})).factory=t,Wa.set(t,e)),e}function Se(t){var e=[];return Oe(t,0,void 0,void 0,e),e}function Oe(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(ge(t,t.def.lastRenderRootNode))),Te(t,e,0,t.def.nodes.length-1,n,r,i)}function Te(t,e,n,r,i,o,s){for(var a=n;a<=r;a++){var u=t.def.nodes[a];11&u.flags&&ke(t,u,e,i,o,s),a+=u.childCount}}function Ee(t,e,n,r,i,o){for(var s=t;s&&!ye(s);)s=s.parent;for(var a=s.parent,u=pe(s),c=u.nodeIndex+u.childCount,l=u.nodeIndex+1;l<=c;l++){var h=a.def.nodes[l];h.ngContentIndex===e&&ke(a,h,n,r,i,o),l+=h.childCount}if(!a.parent){var f=t.root.projectableNodes[e];if(f)for(l=0;l<f.length;l++)Pe(t,f[l],n,r,i,o)}}function ke(t,e,n,r,i,o){if(8&e.flags)Ee(t,e.ngContent.index,n,r,i,o);else{var s=ge(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Pe(t,s,n,r,i,o),32&e.bindingFlags&&Pe(Xt(t,e.nodeIndex).componentView,s,n,r,i,o)):Pe(t,s,n,r,i,o),16777216&e.flags)for(var a=Xt(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<a.length;u++)Oe(a[u],n,r,i,o);1&e.flags&&!e.element.name&&Te(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Pe(t,e,n,r,i,o){var s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}function Ae(t){if(":"===t[0]){var e=t.match(Ya);return[e[1],e[2]]}return["",t]}function je(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Re(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+Ie(e[r+1]);return n+e[2*t]}function Me(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,v,y,m,b){switch(t){case 1:return e+Ie(n)+r;case 2:return e+Ie(n)+r+Ie(i)+o;case 3:return e+Ie(n)+r+Ie(i)+o+Ie(s)+a;case 4:return e+Ie(n)+r+Ie(i)+o+Ie(s)+a+Ie(u)+c;case 5:return e+Ie(n)+r+Ie(i)+o+Ie(s)+a+Ie(u)+c+Ie(l)+h;case 6:return e+Ie(n)+r+Ie(i)+o+Ie(s)+a+Ie(u)+c+Ie(l)+h+Ie(f)+d;case 7:return e+Ie(n)+r+Ie(i)+o+Ie(s)+a+Ie(u)+c+Ie(l)+h+Ie(f)+d+Ie(p)+g;case 8:return e+Ie(n)+r+Ie(i)+o+Ie(s)+a+Ie(u)+c+Ie(l)+h+Ie(f)+d+Ie(p)+g+Ie(v)+y;case 9:return e+Ie(n)+r+Ie(i)+o+Ie(s)+a+Ie(u)+c+Ie(l)+h+Ie(f)+d+Ie(p)+g+Ie(v)+y+Ie(m)+b;default:throw new Error("Does not support more than 9 expressions")}}function Ie(t){return null!=t?t.toString():""}function De(t,e,n,r,i,o){t|=1;var s=_e(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s.matchedQueries,matchedQueryIds:s.matchedQueryIds,references:s.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?xe(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Va},provider:null,text:null,query:null,ngContent:null}}function Le(t,e,n,r,i,o,s,a,u,c,l,h){void 0===s&&(s=[]),c||(c=Va);var f=_e(n),d=f.matchedQueries,p=f.references,g=f.matchedQueryIds,v=null,y=null;o&&(v=(A=Ae(o))[0],y=A[1]),a=a||[];for(var m=new Array(a.length),b=0;b<a.length;b++){var _=a[b],w=_[0],C=_[2],x=Ae(_[1]),S=x[1],O=void 0,T=void 0;switch(15&w){case 4:T=C;break;case 1:case 8:O=C}m[b]={flags:w,ns:x[0],name:S,nonMinifiedName:S,securityContext:O,suffix:T}}u=u||[];for(var E=new Array(u.length),b=0;b<u.length;b++){var k=u[b];E[b]={type:0,target:k[0],eventName:k[1],propName:null}}var P=(s=s||[]).map(function(t){var e=t[1],n=Ae(t[0]);return[n[0],n[1],e]});return h=se(h),l&&(e|=33554432),e|=1,{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:g,references:p,ngContentIndex:r,childCount:i,bindings:m,bindingFlags:je(m),outputs:E,element:{ns:v,name:y,attrs:P,template:null,componentProvider:null,componentView:l||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||Va},provider:null,text:null,query:null,ngContent:null};var A}function Ne(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,s=t.renderer;if(t.parent||!o){r=i.name?s.createElement(i.name,i.ns):s.createComment("");var a=Ce(t,e,n);a&&s.appendChild(a,r)}else r=s.selectRootElement(o);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var c=i.attrs[u];s.setAttribute(r,c[1],c[2],c[0])}return r}function Fe(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],s=Be(t,n.nodeIndex,ve(o.target,o.eventName)),a=o.target,u=t;"component"===o.target&&(a=null,u=e);var c=u.renderer.listen(a||r,o.eventName,s);t.disposables[n.outputIndex+i]=c}}function Be(t,e,n){return function(r){return fe(t,e,n,r)}}function Ve(t,e,n,r,i,o,s,a,u,c,l,h){var f=e.bindings.length,d=!1;return f>0&&ze(t,e,0,n)&&(d=!0),f>1&&ze(t,e,1,r)&&(d=!0),f>2&&ze(t,e,2,i)&&(d=!0),f>3&&ze(t,e,3,o)&&(d=!0),f>4&&ze(t,e,4,s)&&(d=!0),f>5&&ze(t,e,5,a)&&(d=!0),f>6&&ze(t,e,6,u)&&(d=!0),f>7&&ze(t,e,7,c)&&(d=!0),f>8&&ze(t,e,8,l)&&(d=!0),f>9&&ze(t,e,9,h)&&(d=!0),d}function Ue(t,e,n){for(var r=!1,i=0;i<n.length;i++)ze(t,e,i,n[i])&&(r=!0);return r}function ze(t,e,n,r){if(!ue(t,e,n,r))return!1;var i=e.bindings[n],o=Xt(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:He(t,i,s,i.ns,a,r);break;case 2:Ge(t,s,a,r);break;case 4:We(t,i,s,a,r);break;case 8:Ye(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}function He(t,e,n,r,i,o){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}function Ge(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}function We(t,e,n,r,i){var o=t.root.sanitizer.sanitize(La.STYLE,i);if(null!=o){o=o.toString();var s=e.suffix;null!=s&&(o+=s)}else o=null;var a=t.renderer;null!=o?a.setStyle(n,r,o):a.removeStyle(n,r)}function Ye(t,e,n,r,i){var o=e.securityContext,s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}function Xe(t,e,n,r){return n=d(n),{index:-1,deps:we(r),flags:t,token:e,value:n}}function qe(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.index=n,e[re(r.token)]=r}return{factory:null,providersByKey:e,providers:t}}function Ke(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||(n[r]=$e(t,i))}}function Ze(t,e,n){if(void 0===n&&(n=ko.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var r=e.tokenKey;switch(r){case Za:case $a:return t}var i=t._def.providersByKey[r];if(i){var o=t._providers[i.index];return void 0===o&&(o=t._providers[i.index]=$e(t,i)),o===Ka?void 0:o}return t._parent.get(e.token,n)}function $e(t,e){var n;switch(201347067&e.flags){case 512:n=Qe(t,e.value,e.deps);break;case 1024:n=Je(t,e.value,e.deps);break;case 2048:n=Ze(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?Ka:n}function Qe(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(Ze(t,n[0]));case 2:return new e(Ze(t,n[0]),Ze(t,n[1]));case 3:return new e(Ze(t,n[0]),Ze(t,n[1]),Ze(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Ze(t,n[o]);return new(e.bind.apply(e,[void 0].concat(i)))}}function Je(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(Ze(t,n[0]));case 2:return e(Ze(t,n[0]),Ze(t,n[1]));case 3:return e(Ze(t,n[0]),Ze(t,n[1]),Ze(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Ze(t,n[o]);return e.apply(void 0,i)}}function tn(t,e){for(var n=t._def,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var i=t._providers[r];i&&i!==Ka&&i.ngOnDestroy()}}function en(t,e,n,r){var i=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=i.length),r.viewContainerParent=t,ln(i,n,r),nn(e,r),Ba.dirtyParentQueries(r),un(e,n>0?i[n-1]:null,r)}function nn(t,e){var n=de(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),rn(e.parent.def,e.parentNodeDef)}}function rn(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}function on(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,hn(n,e),Ba.dirtyParentQueries(r),cn(r),r}function sn(t){if(16&t.state){var e=de(t);if(e){var n=e.template._projectedViews;n&&(hn(n,n.indexOf(t)),Ba.dirtyParentQueries(t))}}}function an(t,e,n){var r=t.viewContainer._embeddedViews,i=r[e];return hn(r,e),null==n&&(n=r.length),ln(r,n,i),Ba.dirtyParentQueries(i),cn(i),un(t,n>0?r[n-1]:null,i),i}function un(t,e,n){var r=e?ge(e,e.def.lastRenderRootNode):t.renderElement;Oe(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function cn(t){Oe(t,3,null,null,void 0)}function ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hn(t,e){e>=t.length-1?t.pop():t.splice(e,1)}function fn(t,e,n,r,i,o){return new Ja(t,e,n,r,i,o)}function dn(t){return t.viewDefFactory}function pn(t,e,n){return new eu(t,e,n)}function gn(t){return new nu(t)}function vn(t,e){return new ru(t,e)}function yn(t,e){return new iu(t,e)}function mn(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Xt(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Yt(t,n.nodeIndex).renderText;if(20240&n.flags)return qt(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function bn(t){return new ou(t.renderer)}function _n(t,e,n,r){return new su(t,e,n,r)}function wn(t,e,n,r,i,o,s,a){var u=[];if(s)for(var c in s){var l=s[c];u[l[0]]={flags:8,name:c,nonMinifiedName:l[1],ns:null,securityContext:null,suffix:null}}var h=[];if(a)for(var f in a)h.push({type:1,propName:f,target:null,eventName:a[f]});return e|=16384,Sn(t,e,n,r,i,i,o,u,h)}function Cn(t,e,n){return t|=16,Sn(-1,t,null,0,e,e,n)}function xn(t,e,n,r,i){return Sn(-1,t,e,0,n,r,i)}function Sn(t,e,n,r,i,o,s,a,u){var c=_e(n),l=c.matchedQueries,h=c.references,f=c.matchedQueryIds;u||(u=[]),a||(a=[]),o=d(o);var p=we(s);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:je(a),outputs:u,element:null,provider:{token:i,value:o,deps:p},text:null,query:null,ngContent:null}}function On(t,e){return jn(t,e)}function Tn(t,e){for(var n=t;n.parent&&!ye(n);)n=n.parent;return Rn(n.parent,pe(n),!0,e.provider.value,e.provider.deps)}function En(t,e){var n=Rn(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName].subscribe(kn(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}function kn(t,e,n){return function(r){return fe(t,e,n,r)}}function Pn(t,e,n,r,i,o,s,a,u,c,l,h){var f=qt(t,e.nodeIndex),d=f.instance,p=!1,g=void 0,v=e.bindings.length;return v>0&&ae(t,e,0,n)&&(p=!0,g=Ln(t,f,e,0,n,g)),v>1&&ae(t,e,1,r)&&(p=!0,g=Ln(t,f,e,1,r,g)),v>2&&ae(t,e,2,i)&&(p=!0,g=Ln(t,f,e,2,i,g)),v>3&&ae(t,e,3,o)&&(p=!0,g=Ln(t,f,e,3,o,g)),v>4&&ae(t,e,4,s)&&(p=!0,g=Ln(t,f,e,4,s,g)),v>5&&ae(t,e,5,a)&&(p=!0,g=Ln(t,f,e,5,a,g)),v>6&&ae(t,e,6,u)&&(p=!0,g=Ln(t,f,e,6,u,g)),v>7&&ae(t,e,7,c)&&(p=!0,g=Ln(t,f,e,7,c,g)),v>8&&ae(t,e,8,l)&&(p=!0,g=Ln(t,f,e,8,l,g)),v>9&&ae(t,e,9,h)&&(p=!0,g=Ln(t,f,e,9,h,g)),g&&d.ngOnChanges(g),2&t.state&&65536&e.flags&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}function An(t,e,n){for(var r=qt(t,e.nodeIndex),i=r.instance,o=!1,s=void 0,a=0;a<n.length;a++)ae(t,e,a,n[a])&&(o=!0,s=Ln(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),2&t.state&&65536&e.flags&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}function jn(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Rn(t,e.parent,n,r.value,r.deps);case 1024:return Mn(t,e.parent,n,r.value,r.deps);case 2048:return In(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Rn(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(In(t,e,n,i[0]));case 2:return new r(In(t,e,n,i[0]),In(t,e,n,i[1]));case 3:return new r(In(t,e,n,i[0]),In(t,e,n,i[1]),In(t,e,n,i[2]));default:for(var s=new Array(o),a=0;a<o;a++)s[a]=In(t,e,n,i[a]);return new(r.bind.apply(r,[void 0].concat(s)))}}function Mn(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(In(t,e,n,i[0]));case 2:return r(In(t,e,n,i[0]),In(t,e,n,i[1]));case 3:return r(In(t,e,n,i[0]),In(t,e,n,i[1]),In(t,e,n,i[2]));default:for(var s=Array(o),a=0;a<o;a++)s[a]=In(t,e,n,i[a]);return r.apply(void 0,s)}}function In(t,e,n,r,i){if(void 0===i&&(i=ko.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var s=r.tokenKey;for(s===fu&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(s){case au:return bn(a=Dn(t,e,n));case uu:var a=Dn(t,e,n);return a.renderer;case cu:return new $s(Xt(t,e.nodeIndex).renderElement);case lu:return Xt(t,e.nodeIndex).viewContainer;case hu:if(e.element.template)return Xt(t,e.nodeIndex).template;break;case fu:return gn(Dn(t,e,n));case du:return yn(t,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[s];if(u){var c=qt(t,u.nodeIndex);return c||(c={instance:jn(t,u)},t.nodes[u.nodeIndex]=c),c.instance}}n=ye(t),e=pe(t),t=t.parent}var l=o.root.injector.get(r.token,pu);return l!==pu||i===pu?l:o.root.ngModule.injector.get(r.token,i)}function Dn(t,e,n){var r;if(n)r=Xt(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!ye(r);)r=r.parent;return r}function Ln(t,e,n,r,i,o){if(32768&n.flags){var s=Xt(t,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var a=t.oldValues[n.bindingIndex+r];a instanceof da&&(a=a.wrapped),o[n.bindings[r].nonMinifiedName]=new ga(a,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Nn(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0;r<n.length;r++){var i=n[r],o=i.parent;for(!o&&i.flags&e&&Bn(t,r,i.flags&e),0==(i.childFlags&e)&&(r+=i.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&e&&Fn(t,o,e),o=o.parent}}function Fn(t,e,n){for(var r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){var i=t.def.nodes[r];i.flags&n&&Bn(t,r,i.flags&n),r+=i.childCount}}function Bn(t,e,n){var r=qt(t,e);if(r){var i=r.instance;i&&(Ba.setCurrentNode(t,e),1048576&n&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}}function Vn(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:be(e),bindings:r},ngContent:null}}function Un(){return new ta}function zn(t){for(var e=t.def.nodeMatchedQueries;t.parent&&me(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Zt(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o=t.def.nodes[i];134217728&o.flags&&536870912&o.flags&&Zt(t,i).setDirty(),i+=o.childCount}}function Hn(t,e){var n=Zt(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Gn(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=qt(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Gn(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var s=e.query.bindings,a=!1,u=0;u<s.length;u++){var c=s[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,a=!0}r[c.propName]=l}a&&n.notifyOnChanges()}}function Gn(t,e,n,r,i){for(var o=e;o<=n;o++){var s=t.def.nodes[o],a=s.matchedQueries[r.id];if(null!=a&&i.push(Wn(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Xt(t,o);if((s.childMatchedQueries&r.filterId)===r.filterId&&(Gn(t,o+1,o+s.childCount,r,i),o+=s.childCount),16777216&s.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var h=c[l],f=de(h);f&&f===u&&Gn(h,0,h.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(l=0;l<d.length;l++){var p=d[l];Gn(p,0,p.def.nodes.length-1,r,i)}}(s.childMatchedQueries&r.filterId)!==r.filterId&&(o+=s.childCount)}return i}function Wn(t,e,n){if(null!=n)switch(n){case 1:return Xt(t,e.nodeIndex).renderElement;case 0:return new $s(Xt(t,e.nodeIndex).renderElement);case 2:return Xt(t,e.nodeIndex).template;case 3:return Xt(t,e.nodeIndex).viewContainer;case 4:return qt(t,e.nodeIndex).instance}}function Yn(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Xn(t,e,n){var r=Ce(t,e,n);r&&Ee(t,n.ngContent.index,1,r,null,void 0)}function qn(t,e){return $n(128,t,new Array(e+1))}function Kn(t,e){return $n(32,t,new Array(e))}function Zn(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var s=n[o];i[e[s]]=s}return $n(64,t,i)}function $n(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:je(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Qn(t,e){return{value:void 0}}function Jn(t,e,n,r,i,o,s,a,u,c,l,h){var f=e.bindings,d=!1,p=f.length;if(p>0&&ue(t,e,0,n)&&(d=!0),p>1&&ue(t,e,1,r)&&(d=!0),p>2&&ue(t,e,2,i)&&(d=!0),p>3&&ue(t,e,3,o)&&(d=!0),p>4&&ue(t,e,4,s)&&(d=!0),p>5&&ue(t,e,5,a)&&(d=!0),p>6&&ue(t,e,6,u)&&(d=!0),p>7&&ue(t,e,7,c)&&(d=!0),p>8&&ue(t,e,8,l)&&(d=!0),p>9&&ue(t,e,9,h)&&(d=!0),d){var g=Kt(t,e.nodeIndex),v=void 0;switch(201347067&e.flags){case 32:v=new Array(f.length),p>0&&(v[0]=n),p>1&&(v[1]=r),p>2&&(v[2]=i),p>3&&(v[3]=o),p>4&&(v[4]=s),p>5&&(v[5]=a),p>6&&(v[6]=u),p>7&&(v[7]=c),p>8&&(v[8]=l),p>9&&(v[9]=h);break;case 64:v={},p>0&&(v[f[0].name]=n),p>1&&(v[f[1].name]=r),p>2&&(v[f[2].name]=i),p>3&&(v[f[3].name]=o),p>4&&(v[f[4].name]=s),p>5&&(v[f[5].name]=a),p>6&&(v[f[6].name]=u),p>7&&(v[f[7].name]=c),p>8&&(v[f[8].name]=l),p>9&&(v[f[9].name]=h);break;case 128:var y=n;switch(p){case 1:v=y.transform(n);break;case 2:v=y.transform(r);break;case 3:v=y.transform(r,i);break;case 4:v=y.transform(r,i,o);break;case 5:v=y.transform(r,i,o,s);break;case 6:v=y.transform(r,i,o,s,a);break;case 7:v=y.transform(r,i,o,s,a,u);break;case 8:v=y.transform(r,i,o,s,a,u,c);break;case 9:v=y.transform(r,i,o,s,a,u,c,l);break;case 10:v=y.transform(r,i,o,s,a,u,c,l,h)}}g.value=v}return d}function tr(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)ue(t,e,o,n[o])&&(i=!0);if(i){var s=Kt(t,e.nodeIndex),a=void 0;switch(201347067&e.flags){case 32:a=n;break;case 64:for(a={},o=0;o<n.length;o++)a[r[o].name]=n[o];break;case 128:var u=n[0],c=n.slice(1);a=u.transform.apply(u,c)}s.value=a}return i}function er(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function nr(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Ce(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function rr(t,e,n,r,i,o,s,a,u,c,l,h){var f=!1,d=e.bindings,p=d.length;if(p>0&&ue(t,e,0,n)&&(f=!0),p>1&&ue(t,e,1,r)&&(f=!0),p>2&&ue(t,e,2,i)&&(f=!0),p>3&&ue(t,e,3,o)&&(f=!0),p>4&&ue(t,e,4,s)&&(f=!0),p>5&&ue(t,e,5,a)&&(f=!0),p>6&&ue(t,e,6,u)&&(f=!0),p>7&&ue(t,e,7,c)&&(f=!0),p>8&&ue(t,e,8,l)&&(f=!0),p>9&&ue(t,e,9,h)&&(f=!0),f){var g=e.text.prefix;p>0&&(g+=or(n,d[0])),p>1&&(g+=or(r,d[1])),p>2&&(g+=or(i,d[2])),p>3&&(g+=or(o,d[3])),p>4&&(g+=or(s,d[4])),p>5&&(g+=or(a,d[5])),p>6&&(g+=or(u,d[6])),p>7&&(g+=or(c,d[7])),p>8&&(g+=or(l,d[8])),p>9&&(g+=or(h,d[9]));var v=Yt(t,e.nodeIndex).renderText;t.renderer.setValue(v,g)}return f}function ir(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)ue(t,e,o,n[o])&&(i=!0);if(i){for(var s="",o=0;o<n.length;o++)s+=or(n[o],r[o]);s=e.text.prefix+s;var a=Yt(t,e.nodeIndex).renderText;t.renderer.setValue(a,s)}return i}function or(t,e){return(null!=t?t.toString():"")+e.suffix}function sr(t,e,n,r){for(var i=0,o=0,s=0,a=0,u=0,c=null,l=null,h=!1,f=!1,d=null,p=0;p<e.length;p++){var g=e[p];if(g.nodeIndex=p,g.parent=c,g.bindingIndex=i,g.outputIndex=o,g.renderParent=l,s|=g.flags,u|=g.matchedQueryIds,g.element){var v=g.element;v.publicProviders=c?c.element.publicProviders:Object.create(null),v.allProviders=v.publicProviders,h=!1,f=!1,g.element.template&&(u|=g.element.template.nodeMatchedQueries)}if(ur(c,g,e.length),i+=g.bindings.length,o+=g.outputs.length,!l&&3&g.flags&&(d=g),20224&g.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var y=0!=(32768&g.flags);0==(8192&g.flags)||y?c.element.publicProviders[re(g.provider.token)]=g:(f||(f=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[re(g.provider.token)]=g),y&&(c.element.componentProvider=g)}if(c?(c.childFlags|=g.flags,c.directChildFlags|=g.flags,c.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(c.childMatchedQueries|=g.element.template.nodeMatchedQueries)):a|=g.flags,g.childCount>0)c=g,ar(g)||(l=g);else for(;c&&p===c.nodeIndex+c.childCount;){var m=c.parent;m&&(m.childFlags|=c.childFlags,m.childMatchedQueries|=c.childMatchedQueries),l=(c=m)&&ar(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Va,updateRenderer:r||Va,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function ar(t){return 0!=(1&t.flags)&&null===t.element.name}function ur(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function cr(t,e,n,r){var i=fr(t.root,t.renderer,t,e,n);return dr(i,t.component,r),pr(i),i}function lr(t,e,n){var r=fr(t,t.renderer,null,null,e);return dr(r,n,n),pr(r),r}function hr(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,fr(t.root,i,t,e.element.componentProvider,n)}function fr(t,e,n,r,i){var o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s}}function dr(t,e,n){t.component=e,t.context=n}function pr(t){var e;ye(t)&&(e=Xt(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];Ba.setCurrentNode(t,i);var s=void 0;switch(201347067&o.flags){case 1:var a=Ne(t,e,o),u=void 0;if(33554432&o.flags){var c=xe(o.element.componentView);u=Ba.createComponentView(t,o,c,a)}Fe(t,u,o,a),s={renderElement:a,componentView:u,viewContainer:null,template:o.element.template?vn(t,o):void 0},16777216&o.flags&&(s.viewContainer=pn(t,o,s));break;case 2:s=nr(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:l=On(t,o)});break;case 16:s={instance:l=Tn(t,o)};break;case 16384:if(!(s=r[i])){var l=En(t,o);s={instance:l}}32768&o.flags&&dr(Xt(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s=Qn(t,o);break;case 67108864:case 134217728:s=Un();break;case 8:Xn(t,e,o),s=void 0}r[i]=s}Er(t,gu.CreateViewNodes),jr(t,201326592,268435456,0)}function gr(t){mr(t),Ba.updateDirectives(t,1),kr(t,gu.CheckNoChanges),Ba.updateRenderer(t,1),Er(t,gu.CheckNoChanges),t.state&=-97}function vr(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,mr(t),Ba.updateDirectives(t,0),kr(t,gu.CheckAndUpdate),jr(t,67108864,536870912,0),Nn(t,2097152|(2&t.state?1048576:0)),Ba.updateRenderer(t,0),Er(t,gu.CheckAndUpdate),jr(t,134217728,536870912,0),Nn(t,8388608|(2&t.state?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97}function yr(t,e,n,r,i,o,s,a,u,c,l,h,f){return 0===n?br(t,e,r,i,o,s,a,u,c,l,h,f):_r(t,e,r)}function mr(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Xt(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var s=i[o];s.state|=32,he(s,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function br(t,e,n,r,i,o,s,a,u,c,l,h){switch(201347067&e.flags){case 1:return Ve(t,e,n,r,i,o,s,a,u,c,l,h);case 2:return rr(t,e,n,r,i,o,s,a,u,c,l,h);case 16384:return Pn(t,e,n,r,i,o,s,a,u,c,l,h);case 32:case 64:case 128:return Jn(t,e,n,r,i,o,s,a,u,c,l,h);default:throw"unreachable"}}function _r(t,e,n){switch(201347067&e.flags){case 1:return Ue(t,e,n);case 2:return ir(t,e,n);case 16384:return An(t,e,n);case 32:case 64:case 128:return tr(t,e,n);default:throw"unreachable"}}function wr(t,e,n,r,i,o,s,a,u,c,l,h,f){return 0===n?Cr(t,e,r,i,o,s,a,u,c,l,h,f):xr(t,e,r),!1}function Cr(t,e,n,r,i,o,s,a,u,c,l,h){var f=e.bindings.length;f>0&&ce(t,e,0,n),f>1&&ce(t,e,1,r),f>2&&ce(t,e,2,i),f>3&&ce(t,e,3,o),f>4&&ce(t,e,4,s),f>5&&ce(t,e,5,a),f>6&&ce(t,e,6,u),f>7&&ce(t,e,7,c),f>8&&ce(t,e,8,l),f>9&&ce(t,e,9,h)}function xr(t,e,n){for(var r=0;r<n.length;r++)ce(t,e,r,n[r])}function Sr(t,e){if(Zt(t,e.nodeIndex).dirty)throw $t(Ba.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function Or(t){if(!(128&t.state)){if(kr(t,gu.Destroy),Er(t,gu.Destroy),Nn(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();sn(t),t.renderer.destroyNode&&Tr(t),ye(t)&&t.renderer.destroy(),t.state|=128}}function Tr(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Xt(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Yt(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Zt(t,n).destroy()}}function Er(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Pr(Xt(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function kr(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Xt(t,r).viewContainer._embeddedViews,s=0;s<o.length;s++)Pr(o[s],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Pr(t,e){var n=t.state;switch(e){case gu.CheckNoChanges:0==(128&n)&&(12==(12&n)?gr(t):64&n&&Ar(t,gu.CheckNoChangesProjectedViews));break;case gu.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?gr(t):64&n&&Ar(t,e));break;case gu.CheckAndUpdate:0==(128&n)&&(12==(12&n)?vr(t):64&n&&Ar(t,gu.CheckAndUpdateProjectedViews));break;case gu.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?vr(t):64&n&&Ar(t,e));break;case gu.Destroy:Or(t);break;case gu.CreateViewNodes:pr(t)}}function Ar(t,e){kr(t,e),Er(t,e)}function jr(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var s=t.def.nodes[o];if(s.flags&e&&s.flags&n)switch(Ba.setCurrentNode(t,s.nodeIndex),r){case 0:Hn(t,s);break;case 1:Sr(t,s)}s.childFlags&e&&s.childFlags&n||(o+=s.childCount)}}function Rr(){if(!vu){vu=!0;var t=vt()?Ir():Mr();Ba.setCurrentNode=t.setCurrentNode,Ba.createRootView=t.createRootView,Ba.createEmbeddedView=t.createEmbeddedView,Ba.createComponentView=t.createComponentView,Ba.createNgModuleRef=t.createNgModuleRef,Ba.overrideProvider=t.overrideProvider,Ba.clearProviderOverrides=t.clearProviderOverrides,Ba.checkAndUpdateView=t.checkAndUpdateView,Ba.checkNoChangesView=t.checkNoChangesView,Ba.destroyView=t.destroyView,Ba.resolveDep=In,Ba.createDebugContext=t.createDebugContext,Ba.handleEvent=t.handleEvent,Ba.updateDirectives=t.updateDirectives,Ba.updateRenderer=t.updateRenderer,Ba.dirtyParentQueries=zn}}function Mr(){return{setCurrentNode:function(){},createRootView:Dr,createEmbeddedView:cr,createComponentView:hr,createNgModuleRef:_n,overrideProvider:Va,clearProviderOverrides:Va,checkAndUpdateView:vr,checkNoChangesView:gr,destroyView:Or,createDebugContext:function(t,e){return new _u(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Wr:Yr,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Wr:Yr,t)}}}function Ir(){return{setCurrentNode:Zr,createRootView:Lr,createEmbeddedView:Fr,createComponentView:Br,createNgModuleRef:Vr,overrideProvider:Ur,clearProviderOverrides:zr,checkAndUpdateView:Xr,checkNoChangesView:qr,destroyView:Kr,createDebugContext:function(t,e){return new _u(t,e)},handleEvent:$r,updateDirectives:Qr,updateRenderer:Jr}}function Dr(t,e,n,r,i,o){return lr(Nr(t,i,i.injector.get(qs),e,n),r,o)}function Lr(t,e,n,r,i,o){var s=i.injector.get(qs),a=Nr(t,i,new wu(s),e,n),u=Hr(r);return li(mu.create,lr,null,[a,u,o])}function Nr(t,e,n,r,i){var o=e.injector.get(Na),s=e.injector.get(Go);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:s}}function Fr(t,e,n,r){var i=Hr(n);return li(mu.create,cr,null,[t,e,i,r])}function Br(t,e,n,r){var i=Hr(n);return li(mu.create,hr,null,[t,e,i,r])}function Vr(t,e,n,r){return _n(t,e,n,Gr(r))}function Ur(t){yu.set(t.token,t)}function zr(){yu.clear()}function Hr(t){if(0===yu.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&yu.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Va});for(var n=0;n<e.length;n++)!function(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=yu.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=we(o.deps),i.value=o.value)}}}(t,e[n]);return t}function Gr(t){var e=function(t){var e=!1,n=!1;return 0===yu.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=yu.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(t=t.factory(function(){return Va}),function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=yu.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=we(i.deps),r.value=i.value)}}(t),t):t}function Wr(t,e,n,r,i,o,s,a,u,c,l,h,f){var d=t.def.nodes[e];return yr(t,d,n,r,i,o,s,a,u,c,l,h,f),224&d.flags?Kt(t,e).value:void 0}function Yr(t,e,n,r,i,o,s,a,u,c,l,h,f){var d=t.def.nodes[e];return wr(t,d,n,r,i,o,s,a,u,c,l,h,f),224&d.flags?Kt(t,e).value:void 0}function Xr(t){return li(mu.detectChanges,vr,null,[t])}function qr(t){return li(mu.checkNoChanges,gr,null,[t])}function Kr(t){return li(mu.destroy,Or,null,[t])}function Zr(t,e){Di=t,Li=e}function $r(t,e,n,r){return Zr(t,e),li(mu.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Qr(t,e){if(128&t.state)throw ne(mu[Ii]);return Zr(t,oi(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?ti(t,s,r,i):ei(t,s,r,i),16384&s.flags&&Zr(t,oi(t,n)),224&s.flags?Kt(t,s.nodeIndex).value:void 0},t)}function Jr(t,e){if(128&t.state)throw ne(mu[Ii]);return Zr(t,si(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?ti(t,s,r,i):ei(t,s,r,i),3&s.flags&&Zr(t,si(t,n)),224&s.flags?Kt(t,s.nodeIndex).value:void 0},t)}function ti(t,e,n,r){if(yr.apply(void 0,[t,e,n].concat(r))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},s=0;s<e.bindings.length;s++){var a=e.bindings[s],u=i[s];8&a.flags&&(o[ni(a.nonMinifiedName)]=ii(u))}var c=e.parent,l=Xt(t,c.nodeIndex).renderElement;if(c.element.name)for(var h in o)null!=(u=o[h])?t.renderer.setAttribute(l,h,u):t.renderer.removeAttribute(l,h);else t.renderer.setValue(l,"bindings="+JSON.stringify(o,null,2))}}}function ei(t,e,n,r){wr.apply(void 0,[t,e,n].concat(r))}function ni(t){return"ng-reflect-"+(t=ri(t.replace(/[$@]/g,"_")))}function ri(t){return t.replace(bu,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})}function ii(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function oi(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function si(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}function ai(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}function ui(t){for(;t&&!ye(t);)t=t.parent;return t.parent?Xt(t.parent,pe(t).nodeIndex):null}function ci(t,e,n){for(var r in e.references)n[r]=Wn(t,e,e.references[r])}function li(t,e,n,r){var i=Ii,o=Di,s=Li;try{Ii=t;var a=e.apply(n,r);return Di=o,Li=s,Ii=i,a}catch(t){if(ee(t)||!Di)throw t;throw Qt(t,hi())}}function hi(){return Di?new _u(Di,Li):null}function fi(t){return Rr(),Ba.overrideProvider(t)}function di(){return Rr(),Ba.clearProviderOverrides()}function pi(t,e,n){return new xu(t,e,n)}function gi(t,e){return{type:7,name:t,definitions:e,options:{}}}function vi(t,e){return void 0===e&&(e=null),{type:4,styles:e,timings:t}}function yi(t,e){return void 0===e&&(e=null),{type:3,steps:t,options:e}}function mi(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function bi(t){return{type:6,styles:t,offset:null}}function _i(t,e,n){return{type:0,name:t,styles:e,options:n}}function wi(t){return{type:5,steps:t}}function Ci(t,e,n){return void 0===n&&(n=null),{type:1,expr:t,animation:e,options:n}}function xi(t,e){return gi(t,e)}function Si(t,e){return vi(t,e)}function Oi(t){return yi(t)}function Ti(t){return mi(t)}function Ei(t){return bi(t)}function ki(t,e){return _i(t,e)}function Pi(t){return wi(t)}function Ai(t,e){return Ci(t,e)}n.d(e,"createPlatform",function(){return yt}),n.d(e,"assertPlatform",function(){return bt}),n.d(e,"destroyPlatform",function(){return _t}),n.d(e,"getPlatform",function(){return wt}),n.d(e,"PlatformRef",function(){return zs}),n.d(e,"ApplicationRef",function(){return Hs}),n.d(e,"enableProdMode",function(){return gt}),n.d(e,"isDevMode",function(){return vt}),n.d(e,"createPlatformFactory",function(){return mt}),n.d(e,"NgProbeToken",function(){return Us}),n.d(e,"APP_ID",function(){return ss}),n.d(e,"PACKAGE_ROOT_URL",function(){return hs}),n.d(e,"PLATFORM_INITIALIZER",function(){return us}),n.d(e,"PLATFORM_ID",function(){return cs}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return ls}),n.d(e,"APP_INITIALIZER",function(){return is}),n.d(e,"ApplicationInitStatus",function(){return os}),n.d(e,"DebugElement",function(){return ha}),n.d(e,"DebugNode",function(){return la}),n.d(e,"asNativeElements",function(){return At}),n.d(e,"getDebugNode",function(){return Mt}),n.d(e,"Testability",function(){return Ds}),n.d(e,"TestabilityRegistry",function(){return Ls}),n.d(e,"setTestabilityGetter",function(){return pt}),n.d(e,"TRANSLATIONS",function(){return Ra}),n.d(e,"TRANSLATIONS_FORMAT",function(){return Ma}),n.d(e,"LOCALE_ID",function(){return ja}),n.d(e,"MissingTranslationStrategy",function(){return Ia}),n.d(e,"ApplicationModule",function(){return Da}),n.d(e,"wtfCreateScope",function(){return Es}),n.d(e,"wtfLeave",function(){return ks}),n.d(e,"wtfStartTimeRange",function(){return Ps}),n.d(e,"wtfEndTimeRange",function(){return As}),n.d(e,"Type",function(){return Xo}),n.d(e,"EventEmitter",function(){return js}),n.d(e,"ErrorHandler",function(){return Go}),n.d(e,"Sanitizer",function(){return Na}),n.d(e,"SecurityContext",function(){return La}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return Yi}),n.d(e,"Attribute",function(){return Xi}),n.d(e,"ContentChild",function(){return Zi}),n.d(e,"ContentChildren",function(){return Ki}),n.d(e,"Query",function(){return qi}),n.d(e,"ViewChild",function(){return Qi}),n.d(e,"ViewChildren",function(){return $i}),n.d(e,"Component",function(){return no}),n.d(e,"Directive",function(){return eo}),n.d(e,"HostBinding",function(){return so}),n.d(e,"HostListener",function(){return ao}),n.d(e,"Input",function(){return io}),n.d(e,"Output",function(){return oo}),n.d(e,"Pipe",function(){return ro}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return uo}),n.d(e,"NO_ERRORS_SCHEMA",function(){return co}),n.d(e,"NgModule",function(){return lo}),n.d(e,"ViewEncapsulation",function(){return ho}),n.d(e,"Version",function(){return fo}),n.d(e,"VERSION",function(){return po}),n.d(e,"forwardRef",function(){return f}),n.d(e,"resolveForwardRef",function(){return d}),n.d(e,"Injector",function(){return ko}),n.d(e,"ReflectiveInjector",function(){return ns}),n.d(e,"ResolvedReflectiveFactory",function(){return ts}),n.d(e,"ReflectiveKey",function(){return Wo}),n.d(e,"InjectionToken",function(){return zi}),n.d(e,"Inject",function(){return go}),n.d(e,"Optional",function(){return vo}),n.d(e,"Injectable",function(){return yo}),n.d(e,"Self",function(){return mo}),n.d(e,"SkipSelf",function(){return bo}),n.d(e,"Host",function(){return _o}),n.d(e,"NgZone",function(){return Rs}),n.d(e,"RenderComponentType",function(){return Gs}),n.d(e,"Renderer",function(){return Ys}),n.d(e,"Renderer2",function(){return Zs}),n.d(e,"RendererFactory2",function(){return qs}),n.d(e,"RendererStyleFlags2",function(){return Ks}),n.d(e,"RootRenderer",function(){return Xs}),n.d(e,"COMPILER_OPTIONS",function(){return gs}),n.d(e,"Compiler",function(){return ps}),n.d(e,"CompilerFactory",function(){return vs}),n.d(e,"ModuleWithComponentFactories",function(){return ds}),n.d(e,"ComponentFactory",function(){return ms}),n.d(e,"ComponentRef",function(){return ys}),n.d(e,"ComponentFactoryResolver",function(){return ws}),n.d(e,"ElementRef",function(){return $s}),n.d(e,"NgModuleFactory",function(){return Os}),n.d(e,"NgModuleRef",function(){return Ss}),n.d(e,"NgModuleFactoryLoader",function(){return Qs}),n.d(e,"getModuleFactory",function(){return Et}),n.d(e,"QueryList",function(){return ta}),n.d(e,"SystemJsNgModuleLoader",function(){return ra}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return ea}),n.d(e,"TemplateRef",function(){return ia}),n.d(e,"ViewContainerRef",function(){return oa}),n.d(e,"EmbeddedViewRef",function(){return ua}),n.d(e,"ViewRef",function(){return aa}),n.d(e,"ChangeDetectionStrategy",function(){return Ji}),n.d(e,"ChangeDetectorRef",function(){return sa}),n.d(e,"DefaultIterableDiffer",function(){return ma}),n.d(e,"IterableDiffers",function(){return Oa}),n.d(e,"KeyValueDiffers",function(){return Ta}),n.d(e,"SimpleChange",function(){return ga}),n.d(e,"WrappedValue",function(){return da}),n.d(e,"platformCore",function(){return Aa}),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return Vs}),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",function(){return as}),n.d(e,"\u0275ValueUnwrapper",function(){return pa}),n.d(e,"\u0275devModeEqual",function(){return Lt}),n.d(e,"\u0275isListLikeIterable",function(){return Nt}),n.d(e,"\u0275ChangeDetectorStatus",function(){return to}),n.d(e,"\u0275isDefaultChangeDetectionStrategy",function(){return a}),n.d(e,"\u0275Console",function(){return fs}),n.d(e,"\u0275ComponentFactory",function(){return ms}),n.d(e,"\u0275CodegenComponentFactoryResolver",function(){return Cs}),n.d(e,"\u0275ReflectionCapabilities",function(){return Ko}),n.d(e,"\u0275RenderDebugInfo",function(){return Ws}),n.d(e,"\u0275global",function(){return xo}),n.d(e,"\u0275looseIdentical",function(){return l}),n.d(e,"\u0275stringify",function(){return h}),n.d(e,"\u0275makeDecorator",function(){return r}),n.d(e,"\u0275isObservable",function(){return Q}),n.d(e,"\u0275isPromise",function(){return $}),n.d(e,"\u0275clearProviderOverrides",function(){return di}),n.d(e,"\u0275overrideProvider",function(){return fi}),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return pu}),n.d(e,"\u0275registerModuleFactory",function(){return Tt}),n.d(e,"\u0275EMPTY_ARRAY",function(){return Xa}),n.d(e,"\u0275EMPTY_MAP",function(){return qa}),n.d(e,"\u0275and",function(){return De}),n.d(e,"\u0275ccf",function(){return fn}),n.d(e,"\u0275cmf",function(){return pi}),n.d(e,"\u0275crt",function(){return oe}),n.d(e,"\u0275did",function(){return wn}),n.d(e,"\u0275eld",function(){return Le}),n.d(e,"\u0275elementEventFullName",function(){return ve}),n.d(e,"\u0275getComponentViewDefinitionFactory",function(){return dn}),n.d(e,"\u0275inlineInterpolate",function(){return Me}),n.d(e,"\u0275interpolate",function(){return Re}),n.d(e,"\u0275mod",function(){return qe}),n.d(e,"\u0275mpd",function(){return Xe}),n.d(e,"\u0275ncd",function(){return Yn}),n.d(e,"\u0275nov",function(){return mn}),n.d(e,"\u0275pid",function(){return Cn}),n.d(e,"\u0275prd",function(){return xn}),n.d(e,"\u0275pad",function(){return Kn}),n.d(e,"\u0275pod",function(){return Zn}),n.d(e,"\u0275ppd",function(){return qn}),n.d(e,"\u0275qud",function(){return Vn}),n.d(e,"\u0275ted",function(){return er}),n.d(e,"\u0275unv",function(){return ie}),n.d(e,"\u0275vid",function(){return sr}),n.d(e,"AUTO_STYLE",function(){return Su}),n.d(e,"trigger",function(){return xi}),n.d(e,"animate",function(){return Si}),n.d(e,"group",function(){return Oi}),n.d(e,"sequence",function(){return Ti}),n.d(e,"style",function(){return Ei}),n.d(e,"state",function(){return ki}),n.d(e,"keyframes",function(){return Pi}),n.d(e,"transition",function(){return Ai}),n.d(e,"\u0275x",function(){return vi}),n.d(e,"\u0275y",function(){return yi}),n.d(e,"\u0275bc",function(){return wi}),n.d(e,"\u0275z",function(){return mi}),n.d(e,"\u0275bb",function(){return _i}),n.d(e,"\u0275ba",function(){return bi}),n.d(e,"\u0275bd",function(){return Ci}),n.d(e,"\u0275w",function(){return gi}),n.d(e,"\u0275k",function(){return Ht}),n.d(e,"\u0275l",function(){return Gt}),n.d(e,"\u0275m",function(){return Wt}),n.d(e,"\u0275f",function(){return J}),n.d(e,"\u0275g",function(){return ka}),n.d(e,"\u0275h",function(){return Pa}),n.d(e,"\u0275i",function(){return va}),n.d(e,"\u0275j",function(){return Ca}),n.d(e,"\u0275b",function(){return Vo}),n.d(e,"\u0275c",function(){return rs}),n.d(e,"\u0275d",function(){return $o}),n.d(e,"\u0275e",function(){return H}),n.d(e,"\u0275n",function(){return Ts}),n.d(e,"\u0275p",function(){return it}),n.d(e,"\u0275o",function(){return rt}),n.d(e,"\u0275s",function(){return at}),n.d(e,"\u0275q",function(){return ot}),n.d(e,"\u0275r",function(){return st}),n.d(e,"\u0275a",function(){return o}),n.d(e,"\u0275t",function(){return Sn}),n.d(e,"\u0275u",function(){return Fa});var ji,Ri,Mi,Ii,Di,Li,Ni=n("6Xbx"),Fi=n("AP4T"),Bi=n("2kLc"),Vi=n("URbD"),Ui=n("TO51"),zi=function(){function t(t){this._desc=t,this.ngMetadataName="InjectionToken"}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),Hi="__annotations__",Gi="__paramaters__",Wi="__prop__metadata__",Yi=new zi("AnalyzeForEntryComponents"),Xi=o("Attribute",function(t){return{attributeName:t}}),qi=function(){},Ki=s("ContentChildren",function(t,e){return void 0===e&&(e={}),Object(Ni.a)({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},qi),Zi=s("ContentChild",function(t,e){return void 0===e&&(e={}),Object(Ni.a)({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},qi),$i=s("ViewChildren",function(t,e){return void 0===e&&(e={}),Object(Ni.a)({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},qi),Qi=s("ViewChild",function(t,e){return Object(Ni.a)({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},qi),Ji=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),to=function(){var t={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};return t[t.CheckOnce]="CheckOnce",t[t.Checked]="Checked",t[t.CheckAlways]="CheckAlways",t[t.Detached]="Detached",t[t.Errored]="Errored",t[t.Destroyed]="Destroyed",t}(),eo=r("Directive",function(t){return void 0===t&&(t={}),t}),no=r("Component",function(t){return void 0===t&&(t={}),Object(Ni.a)({changeDetection:Ji.Default},t)},eo),ro=r("Pipe",function(t){return Object(Ni.a)({pure:!0},t)}),io=s("Input",function(t){return{bindingPropertyName:t}}),oo=s("Output",function(t){return{bindingPropertyName:t}}),so=s("HostBinding",function(t){return{hostPropertyName:t}}),ao=s("HostListener",function(t,e){return{eventName:t,args:e}}),uo={name:"custom-elements"},co={name:"no-errors-schema"},lo=r("NgModule",function(t){return t}),ho=function(){var t={Emulated:0,Native:1,None:2};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t}(),fo=function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},po=new fo("5.0.0"),go=o("Inject",function(t){return{token:t}}),vo=o("Optional"),yo=r("Injectable"),mo=o("Self"),bo=o("SkipSelf"),_o=o("Host"),wo="undefined"!=typeof window&&window,Co="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xo=wo||void 0!==t&&t||Co,So=null,Oo=new Object,To=Oo,Eo=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Oo),e===Oo)throw new Error("NullInjectorError: No provider for "+h(t)+"!");return e},t}(),ko=function(){function t(){}return t.create=function(t,e){return new Vo(t,e)},t.THROW_IF_NOT_FOUND=Oo,t.NULL=new Eo,t}(),Po=function(t){return t},Ao=[],jo=Po,Ro=function(){return Array.prototype.slice.call(arguments)},Mo={},Io=Mo,Do=function(t){for(var e in t)if(t[e]===Mo)return e;throw Error("!prop")}({provide:String,useValue:Io}),Lo="ngTempTokenPath",No=ko.NULL,Fo=/\n/gm,Bo="\u0275",Vo=function(){function t(t,e){void 0===e&&(e=No),this.parent=e;var n=this._records=new Map;n.set(ko,{token:ko,fn:Po,deps:Ao,value:this,useNew:!1}),v(n,t)}return t.prototype.get=function(t,e){var n=this._records.get(t);try{return y(t,n,this._records,this.parent,e)}catch(t){var r=t[Lo];throw t.message=_("\n"+t.message,r),t.ngTokenPath=r,t[Lo]=null,t}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(h(n))}),"StaticInjector["+t.join(", ")+"]"},t}(),Uo="ngDebugContext",zo="ngOriginalError",Ho="ngErrorLogger",Go=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=S(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?C(t)?C(t):this._findContext(x(t)):null},t.prototype._findOriginalError=function(t){for(var e=x(t);e&&x(e);)e=x(e);return e},t}(),Wo=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=h(this.token)}return t.get=function(t){return Yo.get(d(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return Yo.numberOfKeys},enumerable:!0,configurable:!0}),t}(),Yo=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof Wo)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new Wo(t,Wo.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),Xo=Function,qo=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Ko=function(){function t(t){this._reflect=t||xo.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,[void 0].concat(e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){if(qo.exec(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var n=t.ctorParameters;if(n&&n!==e.ctorParameters){var r="function"==typeof n?n():n,i=r.map(function(t){return t&&t.type}),o=r.map(function(t){return t&&B(t.decorators)});return this._zipTypesAndAnnotations(i,o)}var s=t.hasOwnProperty(Gi)&&t[Gi],a=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return a||s?this._zipTypesAndAnnotations(a,s):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!F(t))return[];var e=V(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?B(t.decorators):t.hasOwnProperty(Hi)?t[Hi]:null},t.prototype.annotations=function(t){if(!F(t))return[];var e=V(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=B(r[t])}),i}return t.hasOwnProperty(Wi)?t[Wi]:null},t.prototype.propMetadata=function(t){if(!F(t))return{};var e=V(t),n={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach(function(t){n[t]=r[t]})}var i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,n[t]),e.push.apply(e,i[t]),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof Xo&&e in t.prototype},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){var e="if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);";return new Function("o","args",e)},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+h(t)},t.prototype.resourceUri=function(t){return"./"+h(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}(),Zo=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new Ko),$o=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Qo=[],Jo=function(){function t(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}return Object.defineProperty(t.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),t}(),ts=function(t,e){this.factory=t,this.dependencies=e},es=new Object,ns=function(){function t(){}return t.resolve=function(t){return H(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new rs(t,e)},t}(),rs=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=es}return t.prototype.get=function(t,e){return void 0===e&&(e=To),this._getByKey(Wo.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=ns.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(ns.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw L(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw R(this,t.key);return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r=this,i=e.factory;try{n=e.dependencies.map(function(t){return r._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}var o;try{o=i.apply(void 0,n)}catch(e){throw M(this,e,0,t.key)}return o},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:To)},t.prototype._getByKey=function(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof mo?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===es&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return es},t.prototype._throwOrNull=function(t,e){if(e!==To)return e;throw j(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==es?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof bo?this.parent:this;i instanceof t;){var o=i,s=o._getObjByKeyId(e.id);if(s!==es)return s;i=o.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+Z(this,function(t){return' "'+t.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=Wo.get(ko),t}(),is=new zi("Application Initializer"),os=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();$(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),ss=new zi("AppId"),as={provide:ss,useFactory:J,deps:[]},us=new zi("Platform Initializer"),cs=new zi("Platform ID"),ls=new zi("appBootstrapListener"),hs=new zi("Application Packages Root URL"),fs=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t.ctorParameters=function(){return[]},t}(),ds=function(t,e){this.ngModuleFactory=t,this.componentFactories=e},ps=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw et()},t.prototype.compileModuleAsync=function(t){throw et()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw et()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw et()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),gs=new zi("compilerOptions"),vs=function(){},ys=function(){},ms=function(){},bs="ngComponent",_s=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw nt(t)},t}(),ws=function(){function t(){}return t.NULL=new _s,t}(),Cs=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw nt(t);return new xs(e,this._ngModule)},t}(),xs=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r}return Object(Ni.c)(e,t),Object.defineProperty(e.prototype,"selector",{get:function(){return this.factory.selector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this.factory.componentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngContentSelectors",{get:function(){return this.factory.ngContentSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.factory.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.factory.outputs},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(ms),Ss=function(){},Os=function(){},Ts=rt(),Es=Ts?it:function(t,e){return ut},ks=Ts?ot:function(t,e){return e},Ps=Ts?st:function(t,e){return null},As=Ts?at:function(t){return null},js=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(Ni.c)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},s=function(){return null};return e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,i,o,s)},e}(Ui.a),Rs=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new js(!1),this.onMicrotaskEmpty=new js(!1),this.onStable=new js(!1),this.onError=new js(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched();var r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.wtfZoneSpec&&(r._inner=r._inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),ht(r)}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ms,ct,ct);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}(),Ms={},Is=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new js,this.onMicrotaskEmpty=new js,this.onStable=new js,this.onError=new js}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Ds=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Rs.assertNotInAngularZone(),c(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?c(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Ls=function(){function t(){this._applications=new Map,Ns.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Ns.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}(),Ns=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Fs=!0,Bs=!1,Vs=new zi("AllowMultipleToken"),Us=function(t,e){this.name=t,this.token=e},zs=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n=this,r=Ct(e?e.ngZone:void 0);return r.run(function(){var e=ko.create([{provide:Rs,useValue:r}],n.injector),i=t.create(e),o=i.injector.get(Go,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(function(){return Ot(n._modules,i)}),r.runOutsideAngular(function(){return r.onError.subscribe({next:function(t){o.handleError(t)}})}),xt(o,r,function(){var t=i.injector.get(os);return t.runInitializers(),t.donePromise.then(function(){return n._moduleDoBootstrap(i),i})})})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(vs),i=St({},e);return r.createCompiler([i]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Hs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+h(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}(),Hs=function(){function t(t,e,n,r,i,o){var s=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=vt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var a=new Fi.a(function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){t.next(s._stable),t.complete()})}),u=new Fi.a(function(t){var e;s._zone.runOutsideAngular(function(){e=s._zone.onStable.subscribe(function(){Rs.assertNotInAngularZone(),c(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){Rs.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(Bi.a)(a,Vi.a.call(u))}return t.prototype.bootstrap=function(t,e){var n=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var r;r=t instanceof ms?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);var i=r instanceof xs?null:this._injector.get(Ss),o=r.create(ko.NULL,[],e||r.selector,i);o.onDestroy(function(){n._unloadComponent(o)});var s=o.injector.get(Ds,null);return s&&o.injector.get(Ls).registerApplication(o.location.nativeElement,s),this._loadComponent(o),vt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,ks(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Ot(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ls,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Ot(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Es("ApplicationRef#tick()"),t}(),Gs=function(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o},Ws=function(){},Ys=function(){},Xs=function(){},qs=function(){},Ks=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),Zs=function(){},$s=function(t){this.nativeElement=t},Qs=function(){},Js=new Map,ta=function(){function t(){this.dirty=!0,this._results=[],this.changes=new js}return Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[u()]=function(){return this._results[u()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=kt(t),this.dirty=!1},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),ea=function(){},na={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ra=function(){function t(t,e){this._compiler=t,this._config=e||na}return t.prototype.load=function(t){return this._compiler instanceof ps?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=t.split("#"),i=r[0],o=r[1];return void 0===o&&(o="default"),n("YuZA")(i).then(function(t){return t[o]}).then(function(t){return Pt(t,i,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("YuZA")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return Pt(t,r,i)})},t}(),ia=function(){},oa=function(){},sa=function(){},aa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ni.c)(e,t),e}(sa),ua=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ni.c)(e,t),e}(aa),ca=function(t,e){this.name=t,this.callback=e},la=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof ha?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),ha=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(Ni.c)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this,r=this.childNodes.indexOf(t);-1!==r&&((i=this.childNodes).splice.apply(i,[r+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=n}));var i},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return jt(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return Rt(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(la),fa=new Map,da=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t}(),pa=function(){function t(){this.hasWrappedValue=!1}return t.prototype.unwrap=function(t){return t instanceof da?(this.hasWrappedValue=!0,t.wrapped):t},t.prototype.reset=function(){this.hasWrappedValue=!1},t}(),ga=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}(),va=function(){function t(){}return t.prototype.supports=function(t){return Nt(t)},t.prototype.create=function(t){return new ma(t)},t}(),ya=function(t,e){return e},ma=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ya}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Ut(n,r,i)?e:n,s=Ut(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}s!==a&&t(o,s,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Nt(t))throw new Error("Error trying to diff '"+h(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)i=this._trackByFn(a,r=t[a]),null!==o&&l(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),l(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,Bt(t,function(t){i=e._trackByFn(n,t),null!==o&&l(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),l(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(l(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(l(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ba(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new wa),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),ba=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},_a=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&l(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),wa=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new _a,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}(),Ca=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Vt(t)},t.prototype.create=function(){return new xa},t}(),xa=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Vt(t)))throw new Error("Error trying to diff '"+h(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Sa(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){l(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Sa=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Oa=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();return e=e.concat(r),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new bo,new vo]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+zt(t)+"'")},t}(),Ta=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new bo,new vo]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),Ea=[new Ca],ka=new Oa([new va]),Pa=new Ta(Ea),Aa=mt(null,"core",[{provide:cs,useValue:"unknown"},{provide:zs,deps:[ko]},{provide:Ls,deps:[]},{provide:fs,deps:[]}]),ja=new zi("LocaleId"),Ra=new zi("Translations"),Ma=new zi("TranslationsFormat"),Ia=function(){var t={Error:0,Warning:1,Ignore:2};return t[t.Error]="Error",t[t.Warning]="Warning",t[t.Ignore]="Ignore",t}(),Da=function(t){},La=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Na=function(){},Fa=function(){},Ba={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,clearProviderOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Va=function(){},Ua=new Map,za="$$undefined",Ha="$$empty",Ga=0,Wa=new WeakMap,Ya=/^:([^:]+):(.+)$/,Xa=[],qa={},Ka=new Object,Za=re(ko),$a=re(Ss),Qa=new Object,Ja=function(t){function e(e,n,r,i,o,s){var a=t.call(this)||this;return a.selector=e,a.componentType=n,a._inputs=i,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=r,a}return Object(Ni.c)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=xe(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Ba.createRootView(t,e||[],n,i,r,Qa),a=qt(s,o).instance;return n&&s.renderer.setAttribute(Xt(s,0).renderElement,"ng-version",po.full),new tu(s,new nu(s),a)},e}(ms),tu=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(Ni.c)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new $s(Xt(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new iu(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(ys),eu=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new $s(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new iu(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=pe(t),t=t.parent;return t?new iu(t,e):new iu(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=on(this._data,t);Ba.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new nu(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof xs||(i=o.get(Ss));var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t;return en(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this._embeddedViews.indexOf(t._view);return an(this._data,n,e),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=on(this._data,t);e&&Ba.destroyView(e)},t.prototype.detach=function(t){var e=on(this._data,t);return e?new nu(e):null},t}(),nu=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return Se(this._view)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){le(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin(),Ba.checkAndUpdateView(this._view),t.end&&t.end()},t.prototype.checkNoChanges=function(){Ba.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ba.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,cn(this._view),Ba.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}(),ru=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(Ni.c)(e,t),e.prototype.createEmbeddedView=function(t){return new nu(Ba.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new $s(Xt(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(ia),iu=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=ko.THROW_IF_NOT_FOUND),Ba.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:re(t)},e)},t}(),ou=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Ae(e),r=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,r),r},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=Ae(e),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}(),su=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,Ke(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=ko.THROW_IF_NOT_FOUND),Ze(this,{token:t,tokenKey:re(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(ws)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+h(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,tn(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),au=re(Ys),uu=re(Zs),cu=re($s),lu=re(oa),hu=re(ia),fu=re(sa),du=re(ko),pu={},gu=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}(),vu=!1,yu=new Map,mu=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}(),bu=/([A-Z])/g,_u=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=pe(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Xt(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return yn(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){ci(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&ci(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=ui(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?ge(this.view,this.nodeDef):ge(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i;2&this.nodeDef.flags?(r=this.view.def,i=this.nodeDef.nodeIndex):(r=this.elView.def,i=this.elDef.nodeIndex);var o=ai(r,i),s=-1;r.factory(function(){return++s===o?(n=t.error).bind.apply(n,[t].concat(e)):Va;var n}),s<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,e))},t}(),wu=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Cu(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Cu=function(){function t(t){this.delegate=t}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroyNode=function(t){Dt(Mt(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=hi();if(r){var i=new ha(n,null,r);i.name=t,It(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=hi();return n&&It(new la(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=hi();return n&&It(new la(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Mt(t),r=Mt(e);n&&r&&n instanceof ha&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=Mt(t),i=Mt(e),o=Mt(n);r&&i&&r instanceof ha&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Mt(t),r=Mt(e);n&&r&&n instanceof ha&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=hi();return n&&It(new ha(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=Mt(t);i&&i instanceof ha&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=Mt(t);r&&r instanceof ha&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Mt(t);n&&n instanceof ha&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Mt(t);n&&n instanceof ha&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=Mt(t);i&&i instanceof ha&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=Mt(t);r&&r instanceof ha&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=Mt(t);r&&r instanceof ha&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=Mt(t);r&&r.listeners.push(new ca(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),xu=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(Ni.c)(e,t),e.prototype.create=function(t){Rr();var e=xe(this._ngModuleDefFactory);return Ba.createNgModuleRef(this.moduleType,t||ko.NULL,this._bootstrapComponents,e)},e}(Os),Su="*"}.call(e,n("fRUx"))},NGRF:function(t,e,n){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},Oryw:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("6Xbx"),i=n("AP4T"),o=n("8Ut3"),s=n("Ecq+"),a=n("3iOE"),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Object(r.c)(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];Object(a.a)(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o.a(t[0],r):new s.a(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.subscriber;n>=t.count?r.complete():(r.next(e[n]),r.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(i.a)},Osec:function(t,e,n){(e=t.exports=n("INGy")).Stream=e,e.Readable=e,e.Writable=n("6QZ3"),e.Duplex=n("dJzE"),e.Transform=n("C7jF"),e.PassThrough=n("5E84")},QBTG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("LMZF"),i=n("Un6q"),o=n("soyD"),s=n("37wT");e.Angular2FontawesomeModule=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{imports:[i.CommonModule],declarations:[o.FaDirective,s.FaComponent],exports:[o.FaDirective,s.FaComponent]}]}],t}()},TO51:function(t,e,n){"use strict";var r=n("6Xbx"),i=n("AP4T"),o=n("E9/g"),s=n("qLnt"),a=n("Upor"),u=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return Object(r.c)(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(s.a),c=n("V7AE");n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h});var l=function(t){function e(e){t.call(this,e),this.destination=e}return Object(r.c)(e,t),e}(o.a),h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return Object(r.c)(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.a),f=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return Object(r.c)(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.a.EMPTY},e}(h)},URbD:function(t,e,n){"use strict";function r(){return function(t){return t.lift(new f(t))}}function i(t,e){return function(n){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new y(r,e));var i=Object.create(n,g);return i.source=n,i.subjectFactory=r,i}}function o(){return new u.a}function s(){return function(t){return r()(i(o)(t))}}var a=n("6Xbx"),u=n("TO51"),c=n("AP4T"),l=n("E9/g"),h=n("qLnt"),f=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new d(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),d=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(a.c)(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(l.a),p=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return Object(a.c)(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new h.a).add(this.source.subscribe(new v(this.getSubject(),this))),t.closed?(this._connection=null,t=h.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return r()(this)},e}(c.a).prototype,g={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:p._subscribe},_isComplete:{value:p._isComplete,writable:!0},getSubject:{value:p.getSubject},connect:{value:p.connect},refCount:{value:p.refCount}},v=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(a.c)(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(u.b),y=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();e.a=function(){return s()(this)}},Un6q:function(t,e,n){"use strict";function r(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}function i(t){return t.replace(/\/index.html$/,"")}function o(t,e){var n=t[0].toLowerCase().replace(/_/g,"-");Rt[n]=t,e&&(Rt[n][18]=e)}function s(t){return T(t)[0]}function a(t,e,n){var r=T(t);return S(S([r[1],r[2]],e),n)}function u(t,e,n){var r=T(t);return S(S([r[3],r[4]],e),n)}function c(t,e,n){var r=T(t);return S(S([r[5],r[6]],e),n)}function l(t,e){return S(T(t)[7],e)}function h(t){return T(t)[8]}function f(t){return T(t)[9]}function d(t,e){return T(t)[10][e]}function p(t,e){return T(t)[11][e]}function g(t,e){return S(T(t)[12],e)}function v(t,e){var n=T(t),r=n[13][e];if(void 0===r){if(e===Ft.CurrencyDecimal)return n[13][Ft.Decimal];if(e===Ft.CurrencyGroup)return n[13][Ft.Group]}return r}function y(t,e){return T(t)[14][e]}function m(t){return T(t)[15]||null}function b(t){return T(t)[16]||null}function _(t){return T(t)[17]}function w(t){if(!t[18])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function C(t){var e=T(t);return w(e),(e[18][2]||[]).map(function(t){return"string"==typeof t?O(t):[O(t[0]),O(t[1])]})}function x(t,e,n){var r=T(t);return w(r),S(S([r[18][0],r[18][1]],e)||[],n)||[]}function S(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function O(t){var e=t.split(":");return{hours:+e[0],minutes:+e[1]}}function T(t){var e=t.toLowerCase().replace(/_/g,"-"),n=Rt[e];if(n)return n;var r=e.split("-")[0];if(n=Rt[r])return n;if("en"===r)return jt;throw new Error('Missing locale data for the locale "'+t+'".')}function E(t,e){var n=At[t]||{},r=n[0]||t;return"wide"===e?r:n[1]||r}function k(t,e,n,r){var i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,r),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}function P(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,s=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?It.One:It.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?It.One:It.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?It.One:It.Other;case"ar":return 0===n?It.Zero:1===n?It.One:2===n?It.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?It.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?It.Many:It.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?It.One:It.Other;case"be":return n%10==1&&n%100!=11?It.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?It.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?It.Many:It.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?It.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?It.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?It.Few:0!==n&&n%1e6==0?It.Many:It.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||s%10==1&&s%100!=11?It.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?It.Few:It.Other;case"cs":case"sk":return 1===i&&0===o?It.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?It.Few:0!==o?It.Many:It.Other;case"cy":return 0===n?It.Zero:1===n?It.One:2===n?It.Two:3===n?It.Few:6===n?It.Many:It.Other;case"da":return 1===n||0!==a&&(0===i||1===i)?It.One:It.Other;case"dsb":case"hsb":return 0===o&&i%100==1||s%100==1?It.One:0===o&&i%100==2||s%100==2?It.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?It.Few:It.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?It.One:It.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&s%10!=4&&s%10!=6&&s%10!=9?It.One:It.Other;case"ga":return 1===n?It.One:2===n?It.Two:n===Math.floor(n)&&n>=3&&n<=6?It.Few:n===Math.floor(n)&&n>=7&&n<=10?It.Many:It.Other;case"gd":return 1===n||11===n?It.One:2===n||12===n?It.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?It.Few:It.Other;case"gv":return 0===o&&i%10==1?It.One:0===o&&i%10==2?It.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?It.Many:It.Other:It.Few;case"he":return 1===i&&0===o?It.One:2===i&&0===o?It.Two:0!==o||n>=0&&n<=10||n%10!=0?It.Other:It.Many;case"is":return 0===a&&i%10==1&&i%100!=11||0!==a?It.One:It.Other;case"ksh":return 0===n?It.Zero:1===n?It.One:It.Other;case"kw":case"naq":case"se":case"smn":return 1===n?It.One:2===n?It.Two:It.Other;case"lag":return 0===n?It.Zero:0!==i&&1!==i||0===n?It.Other:It.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?It.Few:0!==s?It.Many:It.Other:It.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?It.Zero:n%10==1&&n%100!=11||2===o&&s%10==1&&s%100!=11||2!==o&&s%10==1?It.One:It.Other;case"mk":return 0===o&&i%10==1||s%10==1?It.One:It.Other;case"mt":return 1===n?It.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?It.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?It.Many:It.Other;case"pl":return 1===i&&0===o?It.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?It.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?It.Many:It.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?It.One:It.Other;case"ro":return 1===i&&0===o?It.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?It.Few:It.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?It.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?It.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?It.Many:It.Other;case"shi":return 0===i||1===n?It.One:n===Math.floor(n)&&n>=2&&n<=10?It.Few:It.Other;case"si":return 0===n||1===n||0===i&&1===s?It.One:It.Other;case"sl":return 0===o&&i%100==1?It.One:0===o&&i%100==2?It.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?It.Few:It.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?It.One:It.Other;default:return It.Other}}function A(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],o=i.indexOf("="),s=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],a=s[1];if(s[0].trim()===e)return decodeURIComponent(a)}return null}function j(t){return t.name||typeof t}function R(t,e,n,r){e=M(n,e)||e;for(var i,o=[];e;){if(!(i=se.exec(e))){o.push(e);break}var s=(o=o.concat(i.slice(1))).pop();if(!s)break;e=s}var a=t.getTimezoneOffset();r&&(a=W(r,a),t=X(t,r,!0));var u="";return o.forEach(function(e){var r=G(e);u+=r?r(t,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function M(t,e){var n=s(t);if(oe[n]=oe[n]||{},oe[n][e])return oe[n][e];var r="";switch(e){case"shortDate":r=d(t,Nt.Short);break;case"mediumDate":r=d(t,Nt.Medium);break;case"longDate":r=d(t,Nt.Long);break;case"fullDate":r=d(t,Nt.Full);break;case"shortTime":r=p(t,Nt.Short);break;case"mediumTime":r=p(t,Nt.Medium);break;case"longTime":r=p(t,Nt.Long);break;case"fullTime":r=p(t,Nt.Full);break;case"short":var i=M(t,"shortTime"),o=M(t,"shortDate");r=I(g(t,Nt.Short),[i,o]);break;case"medium":var a=M(t,"mediumTime"),u=M(t,"mediumDate");r=I(g(t,Nt.Medium),[a,u]);break;case"long":var c=M(t,"longTime"),l=M(t,"longDate");r=I(g(t,Nt.Long),[c,l]);break;case"full":var h=M(t,"fullTime"),f=M(t,"fullDate");r=I(g(t,Nt.Full),[h,f])}return r&&(oe[n][e]=r),r}function I(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function D(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var s=""+t;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function L(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,s){var a=N(t,o,e);return(n>0||a>-n)&&(a+=n),t===ue.Hours&&0===a&&-12===n&&(a=12),D(a,e,v(s,Ft.MinusSign),r,i)}}function N(t,e,n){switch(t){case ue.FullYear:return e.getFullYear();case ue.Month:return e.getMonth();case ue.Date:return e.getDate();case ue.Hours:return e.getHours();case ue.Minutes:return e.getMinutes();case ue.Seconds:return e.getSeconds();case ue.Milliseconds:var r=1===n?100:2===n?10:1;return Math.round(e.getMilliseconds()/r);case ue.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}function F(t,e,n,r){return void 0===n&&(n=Dt.Format),void 0===r&&(r=!1),function(i,o){return B(i,o,t,e,n,r)}}function B(t,e,n,r,i,o){switch(n){case ce.Months:return c(e,i,r)[t.getMonth()];case ce.Days:return u(e,i,r)[t.getDay()];case ce.DayPeriods:var s=t.getHours(),h=t.getMinutes();if(o){var f,d=C(e),p=x(e,i,r);if(d.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=t[1],i=r.hours;s>=n.hours&&h>=n.minutes&&(s<i||s===i&&h<r.minutes)&&(f=p[e])}else t.hours===s&&t.minutes===h&&(f=p[e])}),f)return f}return a(e,i,r)[s<12?0:1];case ce.Eras:return l(e,r)[t.getFullYear()<=0?0:1]}}function V(t){return function(e,n,r){var i=-1*r,o=v(n,Ft.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case ae.Short:return(i>=0?"+":"")+D(s,2,o)+D(Math.abs(i%60),2,o);case ae.ShortGMT:return"GMT"+(i>=0?"+":"")+D(s,1,o);case ae.Long:return"GMT"+(i>=0?"+":"")+D(s,2,o)+":"+D(Math.abs(i%60),2,o);case ae.Extended:return 0===r?"Z":(i>=0?"+":"")+D(s,2,o)+":"+D(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}function U(t){var e=new Date(t,le,1).getDay();return new Date(t,0,1+(e<=he?he:he+7)-e)}function z(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(he-t.getDay()))}function H(t,e){return void 0===e&&(e=!1),function(n,r){var i;if(e){var o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{var a=U(n.getFullYear()),u=z(n).getTime()-a.getTime();i=1+Math.round(u/6048e5)}return D(i,t,v(r,Ft.MinusSign))}}function G(t){if(fe[t])return fe[t];var e;switch(t){case"G":case"GG":case"GGG":e=F(ce.Eras,Lt.Abbreviated);break;case"GGGG":e=F(ce.Eras,Lt.Wide);break;case"GGGGG":e=F(ce.Eras,Lt.Narrow);break;case"y":e=L(ue.FullYear,1,0,!1,!0);break;case"yy":e=L(ue.FullYear,2,0,!0,!0);break;case"yyy":e=L(ue.FullYear,3,0,!1,!0);break;case"yyyy":e=L(ue.FullYear,4,0,!1,!0);break;case"M":case"L":e=L(ue.Month,1,1);break;case"MM":case"LL":e=L(ue.Month,2,1);break;case"MMM":e=F(ce.Months,Lt.Abbreviated);break;case"MMMM":e=F(ce.Months,Lt.Wide);break;case"MMMMM":e=F(ce.Months,Lt.Narrow);break;case"LLL":e=F(ce.Months,Lt.Abbreviated,Dt.Standalone);break;case"LLLL":e=F(ce.Months,Lt.Wide,Dt.Standalone);break;case"LLLLL":e=F(ce.Months,Lt.Narrow,Dt.Standalone);break;case"w":e=H(1);break;case"ww":e=H(2);break;case"W":e=H(1,!0);break;case"d":e=L(ue.Date,1);break;case"dd":e=L(ue.Date,2);break;case"E":case"EE":case"EEE":e=F(ce.Days,Lt.Abbreviated);break;case"EEEE":e=F(ce.Days,Lt.Wide);break;case"EEEEE":e=F(ce.Days,Lt.Narrow);break;case"EEEEEE":e=F(ce.Days,Lt.Short);break;case"a":case"aa":case"aaa":e=F(ce.DayPeriods,Lt.Abbreviated);break;case"aaaa":e=F(ce.DayPeriods,Lt.Wide);break;case"aaaaa":e=F(ce.DayPeriods,Lt.Narrow);break;case"b":case"bb":case"bbb":e=F(ce.DayPeriods,Lt.Abbreviated,Dt.Standalone,!0);break;case"bbbb":e=F(ce.DayPeriods,Lt.Wide,Dt.Standalone,!0);break;case"bbbbb":e=F(ce.DayPeriods,Lt.Narrow,Dt.Standalone,!0);break;case"B":case"BB":case"BBB":e=F(ce.DayPeriods,Lt.Abbreviated,Dt.Format,!0);break;case"BBBB":e=F(ce.DayPeriods,Lt.Wide,Dt.Format,!0);break;case"BBBBB":e=F(ce.DayPeriods,Lt.Narrow,Dt.Format,!0);break;case"h":e=L(ue.Hours,1,-12);break;case"hh":e=L(ue.Hours,2,-12);break;case"H":e=L(ue.Hours,1);break;case"HH":e=L(ue.Hours,2);break;case"m":e=L(ue.Minutes,1);break;case"mm":e=L(ue.Minutes,2);break;case"s":e=L(ue.Seconds,1);break;case"ss":e=L(ue.Seconds,2);break;case"S":e=L(ue.Milliseconds,1);break;case"SS":e=L(ue.Milliseconds,2);break;case"SSS":e=L(ue.Milliseconds,3);break;case"Z":case"ZZ":case"ZZZ":e=V(ae.Short);break;case"ZZZZZ":e=V(ae.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=V(ae.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=V(ae.Long);break;default:return null}return fe[t]=e,e}function W(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Y(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function X(t,e,n){var r=n?-1:1,i=t.getTimezoneOffset();return Y(t,r*(W(e,i)-i))}function q(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(wt["\u0275stringify"])(t)+"'")}function K(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=+(t[9]+t[10]),r=+(t[9]+t[11])),(t[8]?e.setUTCFullYear:e.setFullYear).call(e,+t[1],+t[2]-1,+t[3]);var o=+(t[4]||"0")-n,s=+(t[5]||"0")-r,a=+(t[6]||"0"),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return i.call(e,o,s,a,u),e}function Z(t){return t instanceof Date&&!isNaN(t.valueOf())}function $(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function Q(t){return function(e,n){return t(e,n).split(" ")[0]}}function J(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function tt(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=J(t,n,e);return r?r.substring(3):""}}function et(t,e){return t.hour12=e,t}function nt(t,e){return function(){var n={};return n[t]=2===e?"2-digit":"numeric",n}()}function rt(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function it(t){return t.reduce(function(t,e){return Object(Ct.a)({},t,e)},{})}function ot(t){return function(e,n){return J(e,n,t)}}function st(t,e,n){var r=ye[t];if(r)return r(e,n);var i=t,o=be.get(i);if(!o){o=[];var s=void 0;ve.exec(t);for(var a=t;a;)(s=ve.exec(a))?a=(o=o.concat(s.slice(1))).pop():(o.push(a),a=null);be.set(i,o)}return o.reduce(function(t,r){var i=me[r];return t+(i?i(e,n):at(r))},"")}function at(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}function ut(t){return t instanceof Date&&!isNaN(t.valueOf())}function ct(t,e,n,r,i){void 0===i&&(i=null);var o,s={str:null},a=y(e,n);if("string"!=typeof t||isNaN(+t-parseFloat(t))){if("number"!=typeof t)return s.error=t+" is not a number",s;o=t}else o=+t;n===Mt.Percent&&(o*=100);var u=Math.abs(o)+"",c=lt(a,v(e,Ft.MinusSign)),l="",h=!1;if(isFinite(o)){var f=ht(u),d=c.minInt,p=c.minFrac,g=c.maxFrac;if(r){var m=r.match(Ce);if(null===m)return s.error=r+" is not a valid digit info",s;var b=m[1],_=m[3],w=m[5];null!=b&&(d=dt(b)),null!=_&&(p=dt(_)),null!=w?g=dt(w):null!=_&&p>g&&(g=p)}ft(f,p,g);var C=f.digits,x=f.integerLen,S=f.exponent,O=[];for(h=C.every(function(t){return!t});x<d;x++)C.unshift(0);for(;x<0;x++)C.unshift(0);x>0?O=C.splice(x,C.length):(O=C,C=[0]);var T=[];for(C.length>=c.lgSize&&T.unshift(C.splice(-c.lgSize,C.length).join(""));C.length>c.gSize;)T.unshift(C.splice(-c.gSize,C.length).join(""));C.length&&T.unshift(C.join("")),l=T.join(v(e,i?Ft.CurrencyGroup:Ft.Group)),O.length&&(l+=v(e,i?Ft.CurrencyDecimal:Ft.Decimal)+O.join("")),S&&(l+=v(e,Ft.Exponential)+"+"+S)}else l=v(e,Ft.Infinity);return l=o<0&&!h?c.negPre+l+c.negSuf:c.posPre+l+c.posSuf,n===Mt.Currency&&null!==i?(s.str=l.replace(Pe,i).replace(Pe,""),s):n===Mt.Percent?(s.str=l.replace(new RegExp(Ae,"g"),v(e,Ft.PercentSign)),s):(s.str=l,s)}function lt(t,e){void 0===e&&(e="-");var n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Te),i=r[0],o=r[1],s=-1!==i.indexOf(Se)?i.split(Se):[i.substring(0,i.lastIndexOf(Oe)+1),i.substring(i.lastIndexOf(Oe)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf(ke));for(var c=0;c<u.length;c++){var l=u.charAt(c);l===Oe?n.minFrac=n.maxFrac=c+1:l===ke?n.maxFrac=c+1:n.posSuf+=l}var h=a.split(Ee);if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(ke);n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function ht(t){var e,n,r,i,o,s=0;for((n=t.indexOf(Se))>-1&&(t=t.replace(Se,"")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)===Oe;r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===Oe;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>xe&&(e=e.splice(0,xe-1),s=n-1,n=1),{digits:e,exponent:s,integerLen:n}}function ft(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction ("+e+") is higher than the maximum ("+n+").");var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(var u=s;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(var c=1;c<s;c++)r[c]=0}if(a>=5)if(s-1<0){for(var l=0;l>s;l--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=r.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);h&&(r.unshift(h),t.integerLen++)}function dt(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function pt(t,e,n,r,i,o,s){if(void 0===o&&(o=null),void 0===s&&(s=!1),null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw q(t,n);var a,u,c;if(r!==Mt.Currency&&(a=1,u=0,c=3),i){var l=i.match(Ce);if(null===l)throw new Error(i+" is not a valid digit info for number pipes");null!=l[1]&&(a=dt(l[1])),null!=l[3]&&(u=dt(l[3])),null!=l[5]&&(c=dt(l[5]))}return ge.format(n,e,r,{minimumIntegerDigits:a,minimumFractionDigits:u,maximumFractionDigits:c,currency:o,currencyAsSymbol:s})}function gt(t){return t?t[0].toUpperCase()+t.substr(1).toLowerCase():t}function vt(t){return null==t||""===t||t!=t}function yt(t){return t===tn}function mt(t){return t===en}function bt(t){return t===nn}function _t(t){return t===rn}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"NgLocaleLocalization",function(){return zt}),n.d(e,"NgLocalization",function(){return Ut}),n.d(e,"registerLocaleData",function(){return o}),n.d(e,"Plural",function(){return It}),n.d(e,"NumberFormatStyle",function(){return Mt}),n.d(e,"FormStyle",function(){return Dt}),n.d(e,"TranslationWidth",function(){return Lt}),n.d(e,"FormatWidth",function(){return Nt}),n.d(e,"NumberSymbol",function(){return Ft}),n.d(e,"WeekDay",function(){return Bt}),n.d(e,"getLocaleDayPeriods",function(){return a}),n.d(e,"getLocaleDayNames",function(){return u}),n.d(e,"getLocaleMonthNames",function(){return c}),n.d(e,"getLocaleId",function(){return s}),n.d(e,"getLocaleEraNames",function(){return l}),n.d(e,"getLocaleWeekEndRange",function(){return f}),n.d(e,"getLocaleFirstDayOfWeek",function(){return h}),n.d(e,"getLocaleDateFormat",function(){return d}),n.d(e,"getLocaleDateTimeFormat",function(){return g}),n.d(e,"getLocaleExtraDayPeriodRules",function(){return C}),n.d(e,"getLocaleExtraDayPeriods",function(){return x}),n.d(e,"getLocalePluralCase",function(){return _}),n.d(e,"getLocaleTimeFormat",function(){return p}),n.d(e,"getLocaleNumberSymbol",function(){return v}),n.d(e,"getLocaleNumberFormat",function(){return y}),n.d(e,"getLocaleCurrencyName",function(){return b}),n.d(e,"getLocaleCurrencySymbol",function(){return m}),n.d(e,"CURRENCIES",function(){return At}),n.d(e,"\u0275parseCookieValue",function(){return A}),n.d(e,"CommonModule",function(){return $e}),n.d(e,"DeprecatedI18NPipesModule",function(){return Qe}),n.d(e,"NgClass",function(){return Ht}),n.d(e,"NgForOf",function(){return Yt}),n.d(e,"NgForOfContext",function(){return Wt}),n.d(e,"NgIf",function(){return qt}),n.d(e,"NgIfContext",function(){return Kt}),n.d(e,"NgPlural",function(){return te}),n.d(e,"NgPluralCase",function(){return ee}),n.d(e,"NgStyle",function(){return ne}),n.d(e,"NgSwitch",function(){return $t}),n.d(e,"NgSwitchCase",function(){return Qt}),n.d(e,"NgSwitchDefault",function(){return Jt}),n.d(e,"NgTemplateOutlet",function(){return re}),n.d(e,"NgComponentOutlet",function(){return Gt}),n.d(e,"DOCUMENT",function(){return Je}),n.d(e,"AsyncPipe",function(){return Fe}),n.d(e,"DatePipe",function(){return pe}),n.d(e,"I18nPluralPipe",function(){return He}),n.d(e,"I18nSelectPipe",function(){return Ge}),n.d(e,"JsonPipe",function(){return We}),n.d(e,"LowerCasePipe",function(){return Be}),n.d(e,"CurrencyPipe",function(){return qe}),n.d(e,"DecimalPipe",function(){return Ye}),n.d(e,"PercentPipe",function(){return Xe}),n.d(e,"SlicePipe",function(){return Ke}),n.d(e,"UpperCasePipe",function(){return Ue}),n.d(e,"TitleCasePipe",function(){return Ve}),n.d(e,"DeprecatedDatePipe",function(){return we}),n.d(e,"DeprecatedCurrencyPipe",function(){return Me}),n.d(e,"DeprecatedDecimalPipe",function(){return je}),n.d(e,"DeprecatedPercentPipe",function(){return Re}),n.d(e,"\u0275PLATFORM_BROWSER_ID",function(){return tn}),n.d(e,"\u0275PLATFORM_SERVER_ID",function(){return en}),n.d(e,"\u0275PLATFORM_WORKER_APP_ID",function(){return nn}),n.d(e,"\u0275PLATFORM_WORKER_UI_ID",function(){return rn}),n.d(e,"isPlatformBrowser",function(){return yt}),n.d(e,"isPlatformServer",function(){return mt}),n.d(e,"isPlatformWorkerApp",function(){return bt}),n.d(e,"isPlatformWorkerUi",function(){return _t}),n.d(e,"VERSION",function(){return on}),n.d(e,"PlatformLocation",function(){return xt}),n.d(e,"LOCATION_INITIALIZED",function(){return St}),n.d(e,"LocationStrategy",function(){return Ot}),n.d(e,"APP_BASE_HREF",function(){return Tt}),n.d(e,"HashLocationStrategy",function(){return kt}),n.d(e,"PathLocationStrategy",function(){return Pt}),n.d(e,"Location",function(){return Et}),n.d(e,"\u0275e",function(){return ie}),n.d(e,"\u0275d",function(){return T}),n.d(e,"\u0275a",function(){return Vt}),n.d(e,"\u0275b",function(){return P}),n.d(e,"\u0275g",function(){return Ie}),n.d(e,"\u0275f",function(){return Ze});var wt=n("LMZF"),Ct=n("6Xbx"),xt=function(){},St=new wt.InjectionToken("Location Initialized"),Ot=function(){},Tt=new wt.InjectionToken("appBaseHref"),Et=function(){function t(e){var n=this;this._subject=new wt.EventEmitter,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(i(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(r(this._baseHref,i(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}(),kt=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(Ct.c)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=Et.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Et.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Et.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(Ot),Pt=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(Ct.c)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return Et.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+Et.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Et.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Et.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(Ot),At={AOA:[,"Kz"],ARS:[,"$"],AUD:["A$","$"],BAM:[,"KM"],BBD:[,"$"],BDT:[,"\u09f3"],BMD:[,"$"],BND:[,"$"],BOB:[,"Bs"],BRL:["R$"],BSD:[,"$"],BWP:[,"P"],BYN:[,"\u0440."],BZD:[,"$"],CAD:["CA$","$"],CLP:[,"$"],CNY:["CN\xa5","\xa5"],COP:[,"$"],CRC:[,"\u20a1"],CUC:[,"$"],CUP:[,"$"],CZK:[,"K\u010d"],DKK:[,"kr"],DOP:[,"$"],EGP:[,"E\xa3"],ESP:[,"\u20a7"],EUR:["\u20ac"],FJD:[,"$"],FKP:[,"\xa3"],GBP:["\xa3"],GEL:[,"\u20be"],GIP:[,"\xa3"],GNF:[,"FG"],GTQ:[,"Q"],GYD:[,"$"],HKD:["HK$","$"],HNL:[,"L"],HRK:[,"kn"],HUF:[,"Ft"],IDR:[,"Rp"],ILS:["\u20aa"],INR:["\u20b9"],ISK:[,"kr"],JMD:[,"$"],JPY:["\xa5"],KHR:[,"\u17db"],KMF:[,"CF"],KPW:[,"\u20a9"],KRW:["\u20a9"],KYD:[,"$"],KZT:[,"\u20b8"],LAK:[,"\u20ad"],LBP:[,"L\xa3"],LKR:[,"Rs"],LRD:[,"$"],LTL:[,"Lt"],LVL:[,"Ls"],MGA:[,"Ar"],MMK:[,"K"],MNT:[,"\u20ae"],MUR:[,"Rs"],MXN:["MX$","$"],MYR:[,"RM"],NAD:[,"$"],NGN:[,"\u20a6"],NIO:[,"C$"],NOK:[,"kr"],NPR:[,"Rs"],NZD:["NZ$","$"],PHP:[,"\u20b1"],PKR:[,"Rs"],PLN:[,"z\u0142"],PYG:[,"\u20b2"],RON:[,"lei"],RUB:[,"\u20bd"],RUR:[,"\u0440."],RWF:[,"RF"],SBD:[,"$"],SEK:[,"kr"],SGD:[,"$"],SHP:[,"\xa3"],SRD:[,"$"],SSP:[,"\xa3"],STD:[,"Db"],SYP:[,"\xa3"],THB:[,"\u0e3f"],TOP:[,"T$"],TRY:[,"\u20ba"],TTD:[,"$"],TWD:["NT$","$"],UAH:[,"\u20b4"],USD:["$"],UYU:[,"$"],VEF:[,"Bs"],VND:["\u20ab"],XAF:["FCFA"],XCD:["EC$","$"],XOF:["CFA"],XPF:["CFPF"],ZAR:[,"R"],ZMW:[,"ZK"]},jt=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Rt={},Mt=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),It=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Dt=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),Lt=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),Nt=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),Ft=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}(),Bt=function(){var t={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};return t[t.Sunday]="Sunday",t[t.Monday]="Monday",t[t.Tuesday]="Tuesday",t[t.Wednesday]="Wednesday",t[t.Thursday]="Thursday",t[t.Friday]="Friday",t[t.Saturday]="Saturday",t}(),Vt=new wt.InjectionToken("UseV4Plurals"),Ut=function(){},zt=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(Ct.c)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):_(e||this.locale)(t)){case It.Zero:return"zero";case It.One:return"one";case It.Two:return"two";case It.Few:return"few";case It.Many:return"many";default:return"other"}},e}(Ut),Ht=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._applyInitialClasses(!0),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(wt["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(wt["\u0275stringify"])(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):Object.keys(t).forEach(function(r){null!=t[r]&&n._toggleClass(r,!e)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),Gt=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(wt.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var r=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(wt.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(r,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}(),Wt=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),Yt=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(wt.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+j(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];for(t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Wt(null,e.ngForOf,-1,-1),i),s=new Xt(t,o);n.push(s)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),s=new Xt(t,o),n.push(s))}),r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var r=0,i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),Xt=function(t,e){this.record=t,this.view=e},qt=function(){function t(t,e){this._viewContainer=t,this._context=new Kt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),Kt=function(){this.$implicit=null,this.ngIf=null},Zt=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),$t=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}},t}(),Qt=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Zt(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}(),Jt=function(){return function(t,e,n){n._addDefault(new Zt(t,e))}}(),te=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=k(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}(),ee=function(){return function(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new Zt(n,e))}}(),ne=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),r=n[1];this._renderer.setStyle(this._ngEl.nativeElement,n[0],e=null!=e&&r?""+e+r:e)},t}(),re=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(var r=0,i=n;r<i.length;r++)if(-1===e.indexOf(i[r]))return!0;return!1}return!0},t.prototype._updateExistingContext=function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}},t}(),ie=[Ht,Gt,Yt,qt,re,ne,$t,Qt,Jt,te,ee],oe={},se=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ae=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),ue=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,Milliseconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.Milliseconds]="Milliseconds",t[t.Day]="Day",t}(),ce=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}(),le=0,he=4,fe={},de=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pe=function(){function t(t){this.locale=t}return t.prototype.transform=function(e,n,r,i){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;"string"==typeof e&&(e=e.trim());var o;if(Z(e))o=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var s=e.split("-").map(function(t){return+t}),a=s[0],u=s[1],c=s[2];o=new Date(a,u-1,c)}else o=new Date(e);else o=new Date(parseFloat(e));if(!Z(o)){var l=void 0;if("string"!=typeof e||!(l=e.match(de)))throw q(t,e);o=K(l)}return R(o,n,i||this.locale,r)},t}(),ge=function(){function t(){}return t.format=function(t,e,n,r){void 0===r&&(r={});var i=r.currency,o=r.currencyAsSymbol,s=void 0!==o&&o,a={minimumIntegerDigits:r.minimumIntegerDigits,minimumFractionDigits:r.minimumFractionDigits,maximumFractionDigits:r.maximumFractionDigits,style:Mt[n].toLowerCase()};return n==Mt.Currency&&(a.currency="string"==typeof i?i:void 0,a.currencyDisplay=s?"symbol":"code"),new Intl.NumberFormat(e,a).format(t)},t}(),ve=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,ye={yMMMdjms:ot(it([nt("year",1),rt("month",3),nt("day",1),nt("hour",1),nt("minute",1),nt("second",1)])),yMdjm:ot(it([nt("year",1),nt("month",1),nt("day",1),nt("hour",1),nt("minute",1)])),yMMMMEEEEd:ot(it([nt("year",1),rt("month",4),rt("weekday",4),nt("day",1)])),yMMMMd:ot(it([nt("year",1),rt("month",4),nt("day",1)])),yMMMd:ot(it([nt("year",1),rt("month",3),nt("day",1)])),yMd:ot(it([nt("year",1),nt("month",1),nt("day",1)])),jms:ot(it([nt("hour",1),nt("second",1),nt("minute",1)])),jm:ot(it([nt("hour",1),nt("minute",1)]))},me={yyyy:ot(nt("year",4)),yy:ot(nt("year",2)),y:ot(nt("year",1)),MMMM:ot(rt("month",4)),MMM:ot(rt("month",3)),MM:ot(nt("month",2)),M:ot(nt("month",1)),LLLL:ot(rt("month",4)),L:ot(rt("month",1)),dd:ot(nt("day",2)),d:ot(nt("day",1)),HH:$(Q(ot(et(nt("hour",2),!1)))),H:Q(ot(et(nt("hour",1),!1))),hh:$(Q(ot(et(nt("hour",2),!0)))),h:Q(ot(et(nt("hour",1),!0))),jj:ot(nt("hour",2)),j:ot(nt("hour",1)),mm:$(ot(nt("minute",2))),m:ot(nt("minute",1)),ss:$(ot(nt("second",2))),s:ot(nt("second",1)),sss:ot(nt("second",3)),EEEE:ot(rt("weekday",4)),EEE:ot(rt("weekday",3)),EE:ot(rt("weekday",2)),E:ot(rt("weekday",1)),a:function(t){return function(e,n){return t(e,n).split(" ")[1]}}(ot(et(nt("hour",1),!0))),Z:tt("short"),z:tt("long"),ww:ot({}),w:ot({}),G:ot(rt("era",1)),GG:ot(rt("era",2)),GGG:ot(rt("era",3)),GGGG:ot(rt("era",4))},be=new Map,_e=function(){function t(){}return t.format=function(t,e,n){return st(n,t,e)},t}(),we=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;var r;if("string"==typeof e&&(e=e.trim()),ut(e))r=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=e.split("-").map(function(t){return parseInt(t,10)}),o=i[0],s=i[1],a=i[2];r=new Date(o,s-1,a)}else r=new Date(e);else r=new Date(parseFloat(e));if(!ut(r)){var u=void 0;if("string"!=typeof e||!(u=e.match(de)))throw q(t,e);r=K(u)}return _e.format(r,this._locale,t._ALIASES[n]||n)},t._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},t}(),Ce=/^(\d+)?\.((\d+)(-(\d+))?)?$/,xe=22,Se=".",Oe="0",Te=";",Ee=",",ke="#",Pe="\xa4",Ae="%",je=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return pt(t,this._locale,e,Mt.Decimal,n)},t}(),Re=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return pt(t,this._locale,e,Mt.Percent,n)},t}(),Me=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,i){return void 0===n&&(n="USD"),void 0===r&&(r=!1),pt(t,this._locale,e,Mt.Currency,i,n,r)},t}(),Ie=[je,Re,Me,we],De=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),Le=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),Ne=new De,Fe=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,wt.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Object(wt["\u0275isPromise"])(e))return Le;if(Object(wt["\u0275isObservable"])(e))return Ne;throw q(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),Be=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw q(t,e);return e.toLowerCase()},t}(),Ve=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw q(t,e);return e.split(/\b/g).map(function(t){return gt(t)}).join("")},t}(),Ue=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw q(t,e);return e.toUpperCase()},t}(),ze=/#/g,He=function(){function t(t){this._localization=t}return t.prototype.transform=function(e,n,r){if(null==e)return"";if("object"!=typeof n||null===n)throw q(t,n);return n[k(e,Object.keys(n),this._localization,r)].replace(ze,e.toString())},t}(),Ge=function(){function t(){}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw q(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""},t}(),We=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}(),Ye=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r){if(vt(e))return null;var i=ct(e,r=r||this._locale,Mt.Decimal,n),o=i.str,s=i.error;if(s)throw q(t,s);return o},t}(),Xe=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r){if(vt(e))return null;var i=ct(e,r=r||this._locale,Mt.Percent,n),o=i.str,s=i.error;if(s)throw q(t,s);return o},t}(),qe=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,i,o){if(void 0===r&&(r="symbol"),vt(e))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var s=n||"USD";"code"!==r&&(s=E(s,"symbol"===r?"wide":"narrow"));var a=ct(e,o,Mt.Currency,i,s),u=a.str,c=a.error;if(c)throw q(t,c);return u},t}(),Ke=function(){function t(){}return t.prototype.transform=function(e,n,r){if(null==e)return e;if(!this.supports(e))throw q(t,e);return e.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}(),Ze=[Fe,Ue,Be,We,Ke,Ye,Xe,Ve,qe,pe,He,Ge],$e=function(){},Qe=function(){},Je=new wt.InjectionToken("DocumentToken"),tn="browser",en="server",nn="browserWorkerApp",rn="browserWorkerUi",on=new wt.Version("5.0.0")},Upor:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return Object(r.c)(e,t),e}(Error)},V7AE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xIGM").a.Symbol,i="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber"},VIKU:function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(e,n("v0OU").Buffer)},X3fp:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var s=i[o];if("entries"!==s&&"size"!==s&&r.prototype[s]===r.prototype.entries)return s}return"@@iterator"}(n("xIGM").a)},Xgfo:function(t,e,n){"use strict";e.decode=e.parse=n("rSoR"),e.encode=e.stringify=n("mTPF")},YuZA:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="YuZA"},ZwkM:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},bywS:function(t,e,n){"use strict";function r(t){return t}var i=n("wP3s");e.a=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(i.a)(r,null,t)}},cDNt:function(t,e,n){"use strict";function r(){return zn}function i(t){zn||(zn=t)}function o(){return Kn||(Kn=document.querySelector("base"))?Kn.getAttribute("href"):null}function s(t){return Yn||(Yn=document.createElement("a")),Yn.setAttribute("href",t),"/"===Yn.pathname.charAt(0)?Yn.pathname:"/"+Yn.pathname}function a(){return!!window.history.pushState}function u(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Nn["\u0275global"].ng=Nn["\u0275global"].ng||{})[t]=e)}function c(t){return Object(Nn.getDebugNode)(t)}function l(t){return u(ir,c),u(or,Object(Fn.a)({},rr,h(t||[]))),function(){return c}}function h(t){return t.reduce(function(t,e){return t[e.name]=e.token,t},{})}function f(t){return pr.replace(fr,t)}function d(t){return dr.replace(fr,t)}function p(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?p(t,i,n):(i=i.replace(fr,t),n.push(i))}return n}function g(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}function v(t,e){if(t.charCodeAt(0)===yr)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}function y(t){return(t=String(t)).match(Ir)||t.match(Dr)?t:(Object(Nn.isDevMode)()&&r().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function m(t){return(t=String(t)).split(",").map(function(t){return y(t.trim())}).join(", ")}function b(){if(Lr)return Lr;var t=(Nr=r()).createElement("template");if("content"in t)return t;var e=Nr.createHtmlDocument();if(null==(Lr=Nr.querySelector(e,"body"))){var n=Nr.createElement("html",e);Lr=Nr.createElement("body",e),Nr.appendChild(n,Lr),Nr.appendChild(e,n)}return Lr}function _(t){for(var e={},n=0,r=t.split(",");n<r.length;n++)e[r[n]]=!0;return e}function w(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];for(var s in o)o.hasOwnProperty(s)&&(n[s]=!0)}return n}function C(t,e){if(e&&Nr.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+Nr.getOuterHTML(t));return e}function x(t){return t.replace(/&/g,"&amp;").replace(Xr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(qr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function S(t){Nr.attributeMap(t).forEach(function(e,n){"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||Nr.removeAttribute(t,n)});for(var e=0,n=Nr.childNodesAsList(t);e<n.length;e++){var r=n[e];Nr.isElementNode(r)&&S(r)}}function O(t,e){try{var n=b(),r=e?String(e):"",i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,Nr.setInnerHTML(n,r=o),t.documentMode&&S(n),o=Nr.getInnerHTML(n)}while(r!==o);for(var s=new Yr,a=s.sanitizeChildren(Nr.getTemplateContent(n)||n),u=Nr.getTemplateContent(n)||n,c=0,l=Nr.childNodesAsList(u);c<l.length;c++)Nr.removeChild(u,l[c]);return Object(Nn.isDevMode)()&&s.sanitizedSomething&&Nr.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),a}catch(t){throw Lr=null,t}}function T(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}function E(t){if(!(t=String(t).trim()))return"";var e=t.match(Zr);return e&&y(e[1])===e[1]||t.match(Kr)&&T(t)?t:(Object(Nn.isDevMode)()&&r().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}function k(){return new Nn.ErrorHandler}function P(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return ci.Get;case"POST":return ci.Post;case"PUT":return ci.Put;case"DELETE":return ci.Delete;case"OPTIONS":return ci.Options;case"HEAD":return ci.Head;case"PATCH":return ci.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}function A(t){return"responseURL"in t?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}function j(t){for(var e=new Uint16Array(t.length),n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e.buffer}function R(t){void 0===t&&(t="");var e=new Map;return t.length>0&&t.split("&").forEach(function(t){var n=t.indexOf("="),r=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],i=r[0],o=r[1],s=e.get(i)||[];s.push(o),e.set(i,s)}),e}function M(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function I(t){var e=new bi;return Object.keys(t).forEach(function(n){var r=t[n];r&&Array.isArray(r)?r.forEach(function(t){return e.append(n,t.toString())}):e.append(n,r.toString())}),e}function D(t,e){return t.createConnection(e).response}function L(t,e,n,r){return t.merge(new Ti(e?{method:e.method||n,url:e.url||r,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType}:{method:n,url:r}))}function N(){return new Si}function F(t,e){return new Ii(t,e)}function B(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Ni(t,e))}}function V(t,e){return B(t,e)(this)}function U(t){var e=t.subscriber;e.closed||(e.next(t.value),e.complete())}function z(t){var e=t.subscriber;e.closed||e.error(t.err)}function H(t,e){return Object(so.a)(t,e,1)}function G(t,e){return H(t,e)(this)}function W(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),Object(so.a)(t,e,n)(this)}function Y(t){var e=t[co.a];if(!e&&"string"==typeof t)return new ho(t);if(!e&&void 0!==t.length)return new fo(t);if(!e)throw new TypeError("object is not iterable");return t[co.a]()}function X(t){var e=+t.length;return isNaN(e)?0:0!==e&&q(e)?(e=K(e)*Math.floor(Math.abs(e)))<=0?0:e>po?po:e:e}function q(t){return"number"==typeof t&&Xi.a.isFinite(t)}function K(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}function Z(t){return function(e){var n=new Co(t),r=e.lift(n);return n.caught=r}}function $(t){return Z(t)(this)}function Q(){return Object(So.a)(1)}function J(){return Q()(this)}function tt(t,e,n){return function(r){return r.lift(new To(t,e,n,r))}}function et(t,e,n){return tt(t,e,n)(this)}function nt(t,e){return function(n){return n.lift(new ko(t,e,n))}}function rt(t,e){return nt(t,e)(this)}function it(t,e,n){return function(r){return r.lift(new Ao(t,e,n,r))}}function ot(t,e,n){return it(t,e,n)(this)}function st(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(So.a)(t)(this)}function at(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ro(t,e,n))}}function ut(t){return function(e){return 0===t?new Hi.a:e.lift(new Do(t))}}function ct(t){return void 0===t&&(t=null),function(e){return e.lift(new No(t))}}function lt(t,e){return arguments.length>=2?function(n){return Object(Bo.a)(at(t,e),ut(1),ct(e))(n)}:function(e){return Object(Bo.a)(at(function(e,n,r){return t(e,n,r+1)}),ut(1))(e)}}function ht(t,e){return arguments.length>=2?lt(t,e)(this):lt(t)(this)}function ft(t,e){return function(n){return n.lift(new Vo(t,e))}}function dt(t,e){return ft(t,e)(this)}function pt(t){return new os(t)}function gt(t){var e=Error("NavigationCancelingError: "+t);return e[ss]=!0,e}function vt(t){return t&&t[ss]}function yt(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function mt(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];bt(r,_t(e,r))}}function bt(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==is)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&mt(t.children,e)}function _t(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function wt(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Ct(t[n],e[n]))return!1;return!0}function Ct(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0}function xt(t){return Array.prototype.concat.apply([],t)}function St(t){return t.length>0?t[t.length-1]:null}function Ot(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Tt(t,e){if(0===Object.keys(t).length)return oo({});var n=[],r=[],i={};Ot(t,function(t,o){var s=V.call(e(o,t),function(t){return i[o]=t});o===is?n.push(s):r.push(s)});var o=J.call(oo.apply(void 0,n.concat(r))),s=ot.call(o);return V.call(s,function(){return i})}function Et(t){var e=st.call(t);return rt.call(e,function(t){return!0===t})}function kt(t){return Object(Nn["\u0275isObservable"])(t)?t:Object(Nn["\u0275isPromise"])(t)?Ki(Promise.resolve(t)):oo(t)}function Pt(){return new us(new cs([],{}),{},null)}function At(t,e,n){return n?jt(t.queryParams,e.queryParams)&&Rt(t.root,e.root):Mt(t.queryParams,e.queryParams)&&It(t.root,e.root)}function jt(t,e){return Ct(t,e)}function Rt(t,e){if(!Nt(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!Rt(t.children[n],e.children[n]))return!1}return!0}function Mt(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}function It(t,e){return Dt(t,e,e.segments)}function Dt(t,e,n){if(t.segments.length>n.length)return!!Nt(i=t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Nt(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!It(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Nt(t.segments,i)&&!!t.children[is]&&Dt(t.children[is],e,o)}function Lt(t,e){return Nt(t,e)&&t.every(function(t,n){return Ct(t.parameters,e[n].parameters)})}function Nt(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Ft(t,e){var n=[];return Ot(t.children,function(t,r){r===is&&(n=n.concat(e(t,r)))}),Ot(t.children,function(t,r){r!==is&&(n=n.concat(e(t,r)))}),n}function Bt(t){return t.segments.map(function(t){return Ht(t)}).join("/")}function Vt(t,e){if(!t.hasChildren())return Bt(t);if(e){var n=t.children[is]?Vt(t.children[is],!1):"",r=[];return Ot(t.children,function(t,e){e!==is&&r.push(e+":"+Vt(t,!1))}),r.length>0?n+"("+r.join("//")+")":n}var i=Ft(t,function(e,n){return n===is?[Vt(t.children[is],!1)]:[n+":"+Vt(e,!1)]});return Bt(t)+"/("+i.join("//")+")"}function Ut(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function zt(t){return decodeURIComponent(t)}function Ht(t){return""+Ut(t.path)+Gt(t.parameters)}function Gt(t){return Object.keys(t).map(function(e){return";"+Ut(e)+"="+Ut(t[e])}).join("")}function Wt(t){var e=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return Ut(e)+"="+Ut(t)}).join("&"):Ut(e)+"="+Ut(n)});return e.length?"?"+e.join("&"):""}function Yt(t){var e=t.match(ps);return e?e[0]:""}function Xt(t){var e=t.match(gs);return e?e[0]:""}function qt(t){var e=t.match(vs);return e?e[0]:""}function Kt(t){return new Vn.a(function(e){return e.error(new ms(t))})}function Zt(t){return new Vn.a(function(e){return e.error(new bs(t))})}function $t(t){return new Vn.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}function Qt(t){return new Vn.a(function(e){return e.error(gt("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}function Jt(t,e,n,r,i){return new _s(t,e,n,r,i).apply()}function te(t,e){var n=e.canLoad;return n&&0!==n.length?Et(V.call(wo(n),function(n){var r=t.get(n);return kt(r.canLoad?r.canLoad(e):r(e))})):oo(!0)}function ee(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||yt)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ne(t,e,n,r){if(n.length>0&&se(t,n,r))return{segmentGroup:re(i=new cs(e,oe(r,new cs(n,t.children)))),slicedSegments:[]};if(0===n.length&&ae(t,n,r)){var i=new cs(t.segments,ie(t,n,r,t.children));return{segmentGroup:re(i),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}function re(t){if(1===t.numberOfChildren&&t.children[is]){var e=t.children[is];return new cs(t.segments.concat(e.segments),e.children)}return t}function ie(t,e,n,r){for(var i={},o=0,s=n;o<s.length;o++){var a=s[o];ue(t,e,a)&&!r[ce(a)]&&(i[ce(a)]=new cs([],{}))}return Object(Fn.a)({},r,i)}function oe(t,e){var n={};n[is]=e;for(var r=0,i=t;r<i.length;r++){var o=i[r];""===o.path&&ce(o)!==is&&(n[ce(o)]=new cs([],{}))}return n}function se(t,e,n){return n.some(function(n){return ue(t,e,n)&&ce(n)!==is})}function ae(t,e,n){return n.some(function(n){return ue(t,e,n)})}function ue(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function ce(t){return t.outlet||is}function le(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var i=le(t,r[n]);if(i)return i}return null}function he(t,e){if(t===e.value)return[e];for(var n=0,r=e.children;n<r.length;n++){var i=he(t,r[n]);if(i.length)return i.unshift(e),i}return[]}function fe(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}function de(t,e){var n=pe(t,e),r=new ro([new ls("",{})]),i=new ro({}),o=new ro({}),s=new ro({}),a=new ro(""),u=new Ss(r,i,s,a,o,is,e,n.root);return u.snapshot=n.root,new xs(new Cs(u,[]),n)}function pe(t,e){var n=new Os([],{},{},"",{},is,e,null,t.root,-1,{});return new Ts("",new Cs(n,[]))}function ge(t){for(var e=t.pathFromRoot,n=e.length-1;n>=1;){var r=e[n],i=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(i.component)break;n--}}return e.slice(n).reduce(function(t,e){return{params:Object(Fn.a)({},t.params,e.params),data:Object(Fn.a)({},t.data,e.data),resolve:Object(Fn.a)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}function ve(t,e){e.value._routerState=t,e.children.forEach(function(e){return ve(t,e)})}function ye(t){var e=t.children.length>0?" { "+t.children.map(ye).join(", ")+" } ":"";return""+t.value+e}function me(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ct(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ct(e.params,n.params)||t.params.next(n.params),wt(e.url,n.url)||t.url.next(n.url),Ct(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function be(t,e){return Ct(t.params,e.params)&&Lt(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||be(t.parent,e.parent))}function _e(t,e,n){var r=we(t,e._root,n?n._root:void 0);return new xs(r,e)}function we(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot))return(i=n.value)._futureSnapshot=e.value,o=xe(t,e,n),new Cs(i,o);if(t.retrieve(e.value)){var r=t.retrieve(e.value).route;return Ce(e,r),r}var i=Se(e.value),o=e.children.map(function(e){return we(t,e)});return new Cs(i,o)}function Ce(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)Ce(t.children[n],e.children[n])}function xe(t,e,n){return e.children.map(function(e){for(var r=0,i=n.children;r<i.length;r++){var o=i[r];if(t.shouldReuseRoute(o.value.snapshot,e.value))return we(t,e,o)}return we(t,e)})}function Se(t){return new Ss(new ro(t.url),new ro(t.params),new ro(t.queryParams),new ro(t.fragment),new ro(t.data),t.outlet,t.component,t)}function Oe(t,e,n,r,i){if(0===n.length)return Ee(e.root,e.root,e,r,i);var o=Pe(n);if(o.toRoot())return Ee(e.root,new cs([],{}),e,r,i);var s=Ae(o,e,t),a=s.processChildren?De(s.segmentGroup,s.index,o.commands):Ie(s.segmentGroup,s.index,o.commands);return Ee(s.segmentGroup,a,e,r,i)}function Te(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ee(t,e,n,r,i){var o={};return r&&Ot(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),n.root===t?new us(e,o,i):new us(ke(n.root,t,e),o,i)}function ke(t,e,n){var r={};return Ot(t.children,function(t,i){r[i]=t===e?n:ke(t,e,n)}),new cs(t.segments,r)}function Pe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Es(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Ot(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:o}])}if(r.segmentPath)return t.concat([r.segmentPath])}return"string"!=typeof r?t.concat([r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):t.concat([r])},[]);return new Es(n,e,r)}function Ae(t,e,n){if(t.isAbsolute)return new ks(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ks(n.snapshot._urlSegment,!0,0);var r=Te(t.commands[0])?0:1;return je(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}function je(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new ks(r,!1,i-o)}function Re(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[is]:""+t}function Me(t){return"object"!=typeof t[0]?(e={},e[is]=t,e):void 0===t[0].outlets?(n={},n[is]=t,n):t[0].outlets;var e,n}function Ie(t,e,n){if(t||(t=new cs([],{})),0===t.segments.length&&t.hasChildren())return De(t,e,n);var r=Le(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new cs(t.segments.slice(0,r.pathIndex),{});return o.children[is]=new cs(t.segments.slice(r.pathIndex),t.children),De(o,0,i)}return r.match&&0===i.length?new cs(t.segments,{}):r.match&&!t.hasChildren()?Ne(t,e,n):r.match?De(t,0,i):Ne(t,e,n)}function De(t,e,n){if(0===n.length)return new cs(t.segments,{});var r=Me(n),i={};return Ot(r,function(n,r){null!==n&&(i[r]=Ie(t.children[r],e,n))}),Ot(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new cs(t.segments,i)}function Le(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var s=t.segments[i],a=Re(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Ve(a,u,s))return o;r+=2}else{if(!Ve(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ne(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Fe(n[i].outlets);return new cs(r,o)}if(0===i&&Te(n[0]))r.push(new ls(t.segments[e].path,n[0])),i++;else{var s=Re(n[i]),a=i<n.length-1?n[i+1]:null;s&&a&&Te(a)?(r.push(new ls(s,Be(a))),i+=2):(r.push(new ls(s,{})),i++)}}return new cs(r,{})}function Fe(t){var e={};return Ot(t,function(t,n){null!==t&&(e[n]=Ne(new cs([],{}),0,t))}),e}function Be(t){var e={};return Ot(t,function(t,n){return e[n]=""+t}),e}function Ve(t,e,n){return t==n.path&&Ct(e,n.parameters)}function Ue(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}function ze(t,e,n,r){return new Ms(t,e,n,r).recognize()}function He(t){t.sort(function(t,e){return t.value.outlet===is?-1:e.value.outlet===is?1:t.value.outlet.localeCompare(e.value.outlet)})}function Ge(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}function We(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Rs;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||yt)(n,t,e);if(!r)throw new Rs;var i={};Ot(r.posParams,function(t,e){i[e]=t.path});var o=r.consumed.length>0?Object(Fn.a)({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}function Ye(t){var e={};t.forEach(function(t){var n=e[t.value.outlet];if(n){var r=n.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}e[t.value.outlet]=t.value})}function Xe(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function qe(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ke(t,e,n,r){if(n.length>0&&Qe(t,n,r)){var i=new cs(e,$e(t,e,r,new cs(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&Je(t,n,r)){var o=new cs(t.segments,Ze(t,n,r,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var s=new cs(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ze(t,e,n,r){for(var i={},o=0,s=n;o<s.length;o++){var a=s[o];if(tn(t,e,a)&&!r[en(a)]){var u=new cs([],{});u._sourceSegment=t,u._segmentIndexShift=t.segments.length,i[en(a)]=u}}return Object(Fn.a)({},r,i)}function $e(t,e,n,r){var i={};i[is]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var o=0,s=n;o<s.length;o++){var a=s[o];if(""===a.path&&en(a)!==is){var u=new cs([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[en(a)]=u}}return i}function Qe(t,e,n){return n.some(function(n){return tn(t,e,n)&&en(n)!==is})}function Je(t,e,n){return n.some(function(n){return tn(t,e,n)})}function tn(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function en(t){return t.outlet||is}function nn(t){return t.data||{}}function rn(t){return t.resolve||{}}function on(t){throw t}function sn(t){return oo(null)}function an(t){me(t.value),t.children.forEach(an)}function un(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}function cn(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}function ln(t){return""===t||!!t}function hn(){return new Nn.NgProbeToken("Router",Vs)}function fn(t,e,n){return void 0===n&&(n={}),n.useHash?new Un.HashLocationStrategy(t,e):new Un.PathLocationStrategy(t,e)}function dn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function pn(t){return[{provide:Nn.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:Ls,multi:!0,useValue:t}]}function gn(t,e,n,i,o,s,a,u,c,l,h){void 0===c&&(c={});var f=new Vs(null,e,n,i,o,s,a,xt(u));if(l&&(f.urlHandlingStrategy=l),h&&(f.routeReuseStrategy=h),c.errorHandler&&(f.errorHandler=c.errorHandler),c.enableTracing){var d=r();f.events.subscribe(function(t){d.logGroup("Router Event: "+t.constructor.name),d.log(t.toString()),d.log(t),d.logGroupEnd()})}return f}function vn(t){return t.routerState.root}function yn(t){return t.appInitializer.bind(t)}function mn(t){return t.bootstrapListener.bind(t)}function bn(){return[na,{provide:Nn.APP_INITIALIZER,multi:!0,useFactory:yn,deps:[na]},{provide:ra,useFactory:mn,deps:[na]},{provide:Nn.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:ra}]}function _n(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,6,"span",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275eld"](2,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                    "])),(t()(),Nn["\u0275eld"](4,0,null,null,0,"img",[],[[8,"src",4],[8,"id",0],[8,"draggable",0]],[[null,"click"],[null,"ondragstart"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.srcImageClicked(t.context.$implicit.id)&&r),"ondragstart"===e&&(r=!1!==i.onDragStart(n)&&r),r},null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275ted"](-1,null,["\n            "]))],null,function(t,e){var n=e.component;t(e,4,0,Nn["\u0275inlineInterpolate"](1,"",e.context.$implicit.filePath,""),Nn["\u0275inlineInterpolate"](1,"",e.context.$implicit.id,""),!n.gameComplete)})}function wn(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,6,"span",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275eld"](2,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                    "])),(t()(),Nn["\u0275eld"](4,0,null,null,0,"img",[["class","dropbox"],["draggable","false"]],[[8,"src",4],[8,"id",0]],[[null,"click"],[null,"onDrop"],[null,"ondragover"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.targetImageClicked(t.context.$implicit.id)&&r),"onDrop"===e&&(r=!1!==i.onDrop(n)&&r),"ondragover"===e&&(r=!1!==i.onDragOver(n)&&r),r},null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275ted"](-1,null,["\n            "]))],null,function(t,e){t(e,4,0,Nn["\u0275inlineInterpolate"](1,"",e.context.$implicit.filePath,""),Nn["\u0275inlineInterpolate"](1,"",e.context.$implicit.id,""))})}function Cn(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,7,"span",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275eld"](2,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                    "])),(t()(),Nn["\u0275eld"](4,0,null,null,1,"button",[["class","btn-primary dropbox fa-question"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.cheat(t.context.$implicit.id)&&r),r},null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                    "])),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275ted"](-1,null,["\n            "]))],null,function(t,e){t(e,4,0,e.component.gameComplete)})}function xn(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,0,"h1",[["class","fa fa-smile-o"]],null,null,null,null,null))],null,null)}function Sn(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,0,"h1",[["class","fa fa-frown-o"]],null,null,null,null,null))],null,null)}function On(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,6,"span",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275eld"](2,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                    "])),(t()(),Nn["\u0275eld"](4,0,null,null,0,"img",[["class","dropbox"]],[[8,"src",4],[8,"draggable",0]],null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275ted"](-1,null,["\n            "]))],null,function(t,e){t(e,4,0,Nn["\u0275inlineInterpolate"](1,"",e.context.$implicit,""),!1)})}function Tn(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,10,"div",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275and"](16777216,null,null,1,null,xn)),Nn["\u0275did"](3,16384,null,0,Un.NgIf,[Nn.ViewContainerRef,Nn.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275and"](16777216,null,null,1,null,Sn)),Nn["\u0275did"](6,16384,null,0,Un.NgIf,[Nn.ViewContainerRef,Nn.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275and"](16777216,null,null,1,null,On)),Nn["\u0275did"](9,802816,null,0,Un.NgForOf,[Nn.ViewContainerRef,Nn.TemplateRef,Nn.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),Nn["\u0275ted"](-1,null,["\n\n        "]))],function(t,e){var n=e.component;t(e,3,0,n.playerHasWon),t(e,6,0,n.playerHasLost),t(e,9,0,n.solution)},null)}function En(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,8,"span",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275eld"](2,0,null,null,5,"label",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                    "])),(t()(),Nn["\u0275eld"](4,0,null,null,0,"input",[["name","iconset"],["type","radio"]],[[8,"value",0],[8,"checked",0]],[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeIconSet(t.context.$implicit)&&r),r},null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                    "])),(t()(),Nn["\u0275eld"](6,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275ted"](-1,null,["\n            "]))],null,function(t,e){var n=e.component;t(e,4,0,Nn["\u0275inlineInterpolate"](1,"",e.context.$implicit.value,""),e.context.$implicit.value==n.iconSetDirectory),t(e,6,0,Nn["\u0275inlineInterpolate"](1,"",e.context.$implicit.filePath,""))})}function kn(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,3,"td",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                        "])),(t()(),Nn["\u0275eld"](2,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                    "]))],null,function(t,e){t(e,2,0,Nn["\u0275inlineInterpolate"](1,"",e.component.src[e.context.$implicit].filePath,""))})}function Pn(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                    "])),(t()(),Nn["\u0275and"](16777216,null,null,1,null,kn)),Nn["\u0275did"](3,802816,null,0,Un.NgForOf,[Nn.ViewContainerRef,Nn.TemplateRef,Nn.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),Nn["\u0275ted"](-1,null,["\n                    "])),(t()(),Nn["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](6,null,["",""])),(t()(),Nn["\u0275ted"](-1,null,["\n                    "])),(t()(),Nn["\u0275eld"](8,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](9,null,["",""])),(t()(),Nn["\u0275ted"](-1,null,["\n                "]))],function(t,e){t(e,3,0,e.context.$implicit.srcIndexes)},function(t,e){t(e,6,0,e.context.$implicit.redCount),t(e,9,0,e.context.$implicit.whiteCount)})}function An(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,25,"div",[["class","table table-striped"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275eld"](2,0,null,null,16,"thead",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275eld"](4,0,null,null,3,"th",[["colspan","4"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                    "])),(t()(),Nn["\u0275eld"](6,0,null,null,0,"span",[["class","fa fa-bars"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275eld"](9,0,null,null,3,"th",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                    "])),(t()(),Nn["\u0275eld"](11,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275eld"](14,0,null,null,3,"th",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                    "])),(t()(),Nn["\u0275eld"](16,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275eld"](20,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275and"](16777216,null,null,1,null,Pn)),Nn["\u0275did"](23,802816,null,0,Un.NgForOf,[Nn.ViewContainerRef,Nn.TemplateRef,Nn.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275ted"](-1,null,["\n        "]))],function(t,e){t(e,23,0,e.component.prevGuesses)},function(t,e){var n=e.component;t(e,11,0,Nn["\u0275inlineInterpolate"](1,"",n.greenTick,"")),t(e,16,0,Nn["\u0275inlineInterpolate"](1,"",n.amberTick,""))})}function jn(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["Decoder"])),(t()(),Nn["\u0275ted"](-1,null,["\n"])),(t()(),Nn["\u0275eld"](3,0,null,null,61,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n    "])),(t()(),Nn["\u0275eld"](5,0,null,null,52,"div",[["class","well well-lg col-lg-4"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](7,0,null,null,4,"div",[["class"," fa fa-hand-paper-o"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275and"](16777216,null,null,1,null,_n)),Nn["\u0275did"](10,802816,null,0,Un.NgForOf,[Nn.ViewContainerRef,Nn.TemplateRef,Nn.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](13,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](15,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](17,0,null,null,9,"div",[["class","fa fa-hand-o-right"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275and"](16777216,null,null,1,null,wn)),Nn["\u0275did"](20,802816,null,0,Un.NgForOf,[Nn.ViewContainerRef,Nn.TemplateRef,Nn.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275eld"](22,0,null,null,3,"button",[["class","btn-primary dropbox"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.checkGuess(n)&&r),r},null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275eld"](24,0,null,null,0,"span",[["class","fa fa-check-square-o"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](28,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](30,0,null,null,4,"div",[["class"," fa fa-life-ring"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275and"](16777216,null,null,1,null,Cn)),Nn["\u0275did"](33,802816,null,0,Un.NgForOf,[Nn.ViewContainerRef,Nn.TemplateRef,Nn.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](36,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](38,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275and"](16777216,null,null,1,null,Tn)),Nn["\u0275did"](41,16384,null,0,Un.NgIf,[Nn.ViewContainerRef,Nn.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](43,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275and"](16777216,null,null,1,null,En)),Nn["\u0275did"](46,802816,null,0,Un.NgForOf,[Nn.ViewContainerRef,Nn.TemplateRef,Nn.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](49,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](51,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](53,0,null,null,3,"button",[["class","btn-primary"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.newGame()&&r),r},null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275eld"](55,0,null,null,0,"span",[["class","fa fa-reply"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275ted"](-1,null,["\n    "])),(t()(),Nn["\u0275ted"](-1,null,["\n    "])),(t()(),Nn["\u0275eld"](59,0,null,null,4,"div",[["class","col-lg-4"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275and"](16777216,null,null,1,null,An)),Nn["\u0275did"](62,16384,null,0,Un.NgIf,[Nn.ViewContainerRef,Nn.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),Nn["\u0275ted"](-1,null,["\n    "])),(t()(),Nn["\u0275ted"](-1,null,["\n"])),(t()(),Nn["\u0275ted"](-1,null,["\n"])),(t()(),Nn["\u0275eld"](66,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n"])),(t()(),Nn["\u0275eld"](68,0,null,null,10,"div",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["Icons made by\n    "])),(t()(),Nn["\u0275eld"](70,0,null,null,1,"a",[["href","http://www.freepik.com"],["title","Freepik"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["Freepik"])),(t()(),Nn["\u0275ted"](-1,null,[" from\n    "])),(t()(),Nn["\u0275eld"](73,0,null,null,1,"a",[["href","https://www.flaticon.com/"],["title","Flaticon"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["www.flaticon.com"])),(t()(),Nn["\u0275ted"](-1,null,[" is licensed by\n    "])),(t()(),Nn["\u0275eld"](76,0,null,null,1,"a",[["href","http://creativecommons.org/licenses/by/3.0/"],["target","_blank"],["title","Creative Commons BY 3.0"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["CC 3.0 BY"])),(t()(),Nn["\u0275ted"](-1,null,["\n"]))],function(t,e){var n=e.component;t(e,10,0,n.src),t(e,20,0,n.target),t(e,33,0,n.target),t(e,41,0,n.gameComplete),t(e,46,0,n.iconSets),t(e,62,0,n.showPrevGuesses())},function(t,e){t(e,22,0,e.component.guessComplete())})}function Rn(t){return Nn["\u0275vid"](0,[Nn["\u0275qud"](402653184,1,{canvasRef:0}),(t()(),Nn["\u0275eld"](1,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["jigsaw"])),(t()(),Nn["\u0275ted"](-1,null,["\n\n"])),(t()(),Nn["\u0275eld"](4,0,null,null,1,"button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addImages()&&r),r},null,null)),(t()(),Nn["\u0275ted"](-1,null,["add image"])),(t()(),Nn["\u0275ted"](-1,null,["\n"])),(t()(),Nn["\u0275ted"](-1,null,["\n"])),(t()(),Nn["\u0275eld"](8,0,null,null,0,"canvas",[["id","canvas"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n\n"]))],null,null)}function Mn(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["Page not found"])),(t()(),Nn["\u0275ted"](-1,null,["\n\n"]))],null,null)}function In(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,45,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n  "])),(t()(),Nn["\u0275eld"](2,0,null,null,42,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n    "])),(t()(),Nn["\u0275eld"](4,0,null,null,39,"div",[["class","col-md-2"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n\n      "])),(t()(),Nn["\u0275eld"](6,0,null,null,36,"div",[["class","panel-group"],["id","accordion"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n\n        "])),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](9,0,null,null,32,"div",[["class","panel panel-primary"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n\n          "])),(t()(),Nn["\u0275eld"](11,0,null,null,7,"div",[["class","panel-heading"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275eld"](13,0,null,null,4,"h4",[["class","panel-title"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n              "])),(t()(),Nn["\u0275eld"](15,0,null,null,1,"a",[["data-parent","#accordion"],["data-toggle","collapse"],["href","#PanelBodyTwo"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.click("PanelBodyTwo")&&r),r},null,null)),(t()(),Nn["\u0275ted"](-1,null,["Games"])),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275ted"](-1,null,["\n          "])),(t()(),Nn["\u0275ted"](-1,null,["\n\n          "])),(t()(),Nn["\u0275eld"](20,0,null,null,20,"div",[["class","panel-collapse"],["id","PanelBodyTwo"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275eld"](22,0,null,null,17,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n              "])),(t()(),Nn["\u0275eld"](24,0,null,null,14,"ul",[],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275eld"](26,0,null,null,6,"li",[],null,null,null,null,null)),(t()(),Nn["\u0275eld"](27,0,null,null,5,"a",[["routerLink","/games/decoder"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Nn["\u0275nov"](t,28).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Nn["\u0275did"](28,671744,[[2,4]],0,zs,[Vs,Ss,Un.LocationStrategy],{routerLink:[0,"routerLink"]},null),Nn["\u0275did"](29,1720320,null,2,Hs,[Vs,Nn.ElementRef,Nn.Renderer2,Nn.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),Nn["\u0275qud"](603979776,1,{links:1}),Nn["\u0275qud"](603979776,2,{linksWithHrefs:1}),(t()(),Nn["\u0275ted"](-1,null,["Decoder"])),(t()(),Nn["\u0275ted"](-1,null,["\n                "])),(t()(),Nn["\u0275eld"](34,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),Nn["\u0275eld"](35,0,null,null,2,"a",[["routerLink","/games/jigsaw"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Nn["\u0275nov"](t,36).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Nn["\u0275did"](36,671744,null,0,zs,[Vs,Ss,Un.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),Nn["\u0275ted"](-1,null,["Jigsaw"])),(t()(),Nn["\u0275ted"](-1,null,["\n              "])),(t()(),Nn["\u0275ted"](-1,null,["\n            "])),(t()(),Nn["\u0275ted"](-1,null,["\n          "])),(t()(),Nn["\u0275ted"](-1,null,["\n\n        "])),(t()(),Nn["\u0275ted"](-1,null,["\n\n      "])),(t()(),Nn["\u0275ted"](-1,null,["\n\n    "])),(t()(),Nn["\u0275ted"](-1,null,["\n  "])),(t()(),Nn["\u0275ted"](-1,null,["\n"])),(t()(),Nn["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,28,0,"/games/decoder"),t(e,29,0,"active"),t(e,36,0,"/games/jigsaw")},function(t,e){t(e,27,0,Nn["\u0275nov"](e,28).target,Nn["\u0275nov"](e,28).href),t(e,35,0,Nn["\u0275nov"](e,36).target,Nn["\u0275nov"](e,36).href)})}function Dn(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n    "])),(t()(),Nn["\u0275eld"](2,0,null,null,4,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](4,0,null,null,1,"app-nav-accordian",[],null,null,null,In,fa)),Nn["\u0275did"](5,114688,null,0,Ui,[],null,null),(t()(),Nn["\u0275ted"](-1,null,["\n    "])),(t()(),Nn["\u0275ted"](-1,null,["\n    "])),(t()(),Nn["\u0275eld"](8,0,null,null,4,"div",[["class","col-md-9"]],null,null,null,null,null)),(t()(),Nn["\u0275ted"](-1,null,["\n        "])),(t()(),Nn["\u0275eld"](10,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Nn["\u0275did"](11,212992,null,0,Ys,[Ws,Nn.ViewContainerRef,Nn.ComponentFactoryResolver,[8,null],Nn.ChangeDetectorRef],null,null),(t()(),Nn["\u0275ted"](-1,null,["\n    "])),(t()(),Nn["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,5,0),t(e,11,0)},null)}Object.defineProperty(e,"__esModule",{value:!0});var Ln,Nn=n("LMZF"),Fn=n("6Xbx"),Bn=function(){},Vn=n("AP4T"),Un=n("Un6q"),zn=null,Hn={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Gn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};Nn["\u0275global"].Node&&(Ln=Nn["\u0275global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var Yn,Xn,qn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fn.c)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){i(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){(r=t)[e].apply(r,n);var r},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return Hn},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return Ln.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Wn.hasOwnProperty(e)&&(e=Wn[e]))}return Gn[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e=o();return null==e?null:s(e)},e.prototype.resetBaseElement=function(){Kn=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(Un["\u0275parseCookieValue"])(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(Fn.c)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),Kn=null,Zn=Un.DOCUMENT,$n=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(Fn.c)(e,t),e.prototype._init=function(){this.location=r().getLocation(),this._history=r().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return r().getBaseHref(this._doc)},e.prototype.onPopState=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){a()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){a()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:Nn.Inject,args:[Zn]}]}]},e}(Un.PlatformLocation),Qn=function(){function t(t){this._doc=t,this._dom=r()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t?this._dom.querySelector(this._doc,"meta["+t+"]")||null:null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}(),Jn=new Nn.InjectionToken("TRANSITION_ID"),tr=[{provide:Nn.APP_INITIALIZER,useFactory:function(t,e,n){return function(){n.get(Nn.ApplicationInitStatus).donePromise.then(function(){var n=r();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[Jn,Zn,Nn.Injector],multi:!0}],er=function(){function t(){}return t.init=function(){Object(Nn.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){Nn["\u0275global"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Nn["\u0275global"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},Nn["\u0275global"].getAllAngularRootElements=function(){return t.getAllRootElements()},Nn["\u0275global"].frameworkStabilizers||(Nn["\u0275global"].frameworkStabilizers=[]),Nn["\u0275global"].frameworkStabilizers.push(function(t){var e=Nn["\u0275global"].getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?r().isShadowRoot(e)?this.findTestabilityInTree(t,r().getHost(e),!0):this.findTestabilityInTree(t,r().parentElement(e),!0):null},t}(),nr=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return r().getTitle(this._doc)},t.prototype.setTitle=function(t){r().setTitle(this._doc,t)},t}(),rr={ApplicationRef:Nn.ApplicationRef,NgZone:Nn.NgZone},ir="probe",or="coreTokens",sr=new Nn.InjectionToken("EventManagerPlugins"),ar=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),ur=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var i=r().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target "+i+" for event "+e);return this.addEventListener(i,e,n)},t}(),cr=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),lr=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(Fn.c)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return r().remove(t)})},e}(cr),hr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fr=/%COMP%/g,dr="_nghost-%COMP%",pr="_ngcontent-%COMP%",gr=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new vr(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Nn.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new mr(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case Nn.ViewEncapsulation.Native:return new br(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=p(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),vr=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(hr[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=hr[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=hr[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&Nn.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,r&Nn.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&Nn.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){v(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return v(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,g(n)):this.eventManager.addEventListener(t,e,g(n))},t}(),yr="@".charCodeAt(0),mr=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=p(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=f(r.id),i.hostAttr=d(r.id),i}return Object(Fn.c)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(vr),br=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=p(i.id,i.styles,[]),a=0;a<s.length;a++){var u=document.createElement("style");u.textContent=s[a],o.shadowRoot.appendChild(u)}return o}return Object(Fn.c)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(vr),_r="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return t},wr=_r("addEventListener"),Cr=_r("removeEventListener"),xr={};"undefined"!=typeof Zone&&Zone[_r("BLACK_LISTED_EVENTS")]&&(Xn={});var Sr=function(t){return!!Xn&&Xn.hasOwnProperty(t)},Or=function(t){var e=xr[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(s=n[0]).zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length;o++){var s=i[o];s.zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r)}}}},Tr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.ngZone=n,r}return Object(Fn.c)(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[wr]||Nn.NgZone.isInAngularZone()&&!Sr(e))t.addEventListener(e,i,!1);else{var o=xr[e];o||(o=xr[e]=_r("ANGULAR"+e+"FALSE"));var s=t[o],a=s&&s.length>0;s||(s=t[o]=[]);var u=Sr(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:u,handler:i});else{for(var c=!1,l=0;l<s.length;l++)if(s[l].handler===i){c=!0;break}c||s.push({zone:u,handler:i})}a||t[wr](e,Or,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[Cr];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=xr[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var s=0;s<o.length;s++)if(o[s].handler===n){o.splice(s,1);break}0===o.length&&r.apply(t,[e,Or,!1])},e}(ur),Er={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},kr=new Nn.InjectionToken("HammerGestureConfig"),Pr=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),Ar=function(t){function e(e,n){var r=t.call(this,e)||this;return r._config=n,r}return Object(Fn.c)(e,t),e.prototype.supports=function(t){if(!Er.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),s=function(t){i.runGuarded(function(){n(t)})};return o.on(e,s),function(){return o.off(e,s)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(ur),jr=["alt","control","meta","shift"],Rr={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Mr=function(t){function e(e){return t.call(this,e)||this}return Object(Fn.c)(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,i){var o=e.parseEventName(n),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return r().onAndCancel(t,o.domEventName,s)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(jr.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s},e.getEventFullKey=function(t){var e="",n=r().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),jr.forEach(function(r){r!=n&&(0,Rr[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(ur),Ir=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Dr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Lr=null,Nr=null,Fr=_("area,br,col,hr,img,wbr"),Br=_("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vr=_("rp,rt"),Ur=w(Vr,Br),zr=w(Fr,w(Br,_("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),w(Vr,_("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ur),Hr=_("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gr=_("srcset"),Wr=w(Hr,Gr,_("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),Yr=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(Nr.isElementNode(e)?this.startElement(e):Nr.isTextNode(e)?this.chars(Nr.nodeValue(e)):this.sanitizedSomething=!0,Nr.firstChild(e))e=Nr.firstChild(e);else for(;e;){Nr.isElementNode(e)&&this.endElement(e);var n=C(e,Nr.nextSibling(e));if(n){e=n;break}e=C(e,Nr.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=Nr.nodeName(t).toLowerCase();zr.hasOwnProperty(n)?(this.buf.push("<"),this.buf.push(n),Nr.attributeMap(t).forEach(function(t,n){var r=n.toLowerCase();Wr.hasOwnProperty(r)?(Hr[r]&&(t=y(t)),Gr[r]&&(t=m(t)),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(x(t)),e.buf.push('"')):e.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=Nr.nodeName(t).toLowerCase();zr.hasOwnProperty(e)&&!Fr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(x(t))},t}(),Xr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qr=/([^\#-~ |!])/g,Kr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Zr=/^url\(([^)]+)\)$/,$r=function(){},Qr=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(Fn.c)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case Nn.SecurityContext.NONE:return e;case Nn.SecurityContext.HTML:return e instanceof ti?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),O(this._doc,String(e)));case Nn.SecurityContext.STYLE:return e instanceof ei?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),E(e));case Nn.SecurityContext.SCRIPT:if(e instanceof ni)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Nn.SecurityContext.URL:return e instanceof ii||e instanceof ri?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),y(String(e)));case Nn.SecurityContext.RESOURCE_URL:if(e instanceof ii)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Jr)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new ti(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new ei(t)},e.prototype.bypassSecurityTrustScript=function(t){return new ni(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new ri(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new ii(t)},e}($r),Jr=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),ti=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fn.c)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Jr),ei=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fn.c)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Jr),ni=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fn.c)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Jr),ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fn.c)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Jr),ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fn.c)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Jr),oi=[{provide:Nn.PLATFORM_ID,useValue:Un["\u0275PLATFORM_BROWSER_ID"]},{provide:Nn.PLATFORM_INITIALIZER,useValue:function(){qn.makeCurrent(),er.init()},multi:!0},{provide:Un.PlatformLocation,useClass:$n,deps:[Zn]},{provide:Zn,useFactory:function(){return document},deps:[]}],si=Object(Nn.createPlatformFactory)(Nn.platformCore,"browser",oi),ai=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:Nn.APP_ID,useValue:e.appId},{provide:Jn,useExisting:Nn.APP_ID},tr]}},t}(),ui=("undefined"!=typeof window&&window,function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}()),ci=function(){var t={Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6};return t[t.Get]="Get",t[t.Post]="Post",t[t.Put]="Put",t[t.Delete]="Delete",t[t.Options]="Options",t[t.Head]="Head",t[t.Patch]="Patch",t}(),li=function(){var t={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};return t[t.Basic]="Basic",t[t.Cors]="Cors",t[t.Default]="Default",t[t.Error]="Error",t[t.Opaque]="Opaque",t}(),hi=function(){var t={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};return t[t.NONE]="NONE",t[t.JSON]="JSON",t[t.FORM]="FORM",t[t.FORM_DATA]="FORM_DATA",t[t.TEXT]="TEXT",t[t.BLOB]="BLOB",t[t.ARRAY_BUFFER]="ARRAY_BUFFER",t}(),fi=function(){var t={Text:0,Json:1,ArrayBuffer:2,Blob:3};return t[t.Text]="Text",t[t.Json]="Json",t[t.ArrayBuffer]="ArrayBuffer",t[t.Blob]="Blob",t}(),di=function(){function t(e){var n=this;this._headers=new Map,this._normalizedNames=new Map,e&&(e instanceof t?e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):Object.keys(e).forEach(function(t){var r=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),r.forEach(function(e){return n.append(t,e)})}))}return t.fromResponseHeaderString=function(e){var n=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=t.slice(e+1).trim();n.set(r,i)}}),n},t.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,r){return t(n,e._normalizedNames.get(r),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(n,r){var i=[];n.forEach(function(t){return i.push.apply(i,t.split(","))}),e[t._normalizedNames.get(r)]=i}),e},t.prototype.getAll=function(t){return this.has(t)?this._headers.get(t.toLowerCase())||null:null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),pi=function(){function t(t){void 0===t&&(t={});var e=t.body,n=t.status,r=t.headers,i=t.statusText,o=t.type,s=t.url;this.body=null!=e?e:null,this.status=null!=n?n:null,this.headers=null!=r?r:null,this.statusText=null!=i?i:null,this.type=null!=o?o:null,this.url=null!=s?s:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),gi=function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:li.Default,headers:new di})||this}return Object(Fn.c)(e,t),e}(pi),vi=function(){},yi=function(t){return t>=200&&t<300},mi=function(){function t(){}return t.prototype.encodeKey=function(t){return M(t)},t.prototype.encodeValue=function(t){return M(t)},t}(),bi=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new mi),this.rawParams=t,this.queryEncoder=e,this.paramsMap=R(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)}else this.delete(t)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0,r.push(t[0]),e.paramsMap.set(n,r)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var r=e.paramsMap.get(n)||[],i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0;for(var i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(n,r){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(r)+"="+t.queryEncoder.encodeValue(n))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),_i=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t="legacy"),this._body instanceof bi)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:j(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),wi=function(t){function e(e){var n=t.call(this)||this;return n._body=e.body,n.status=e.status,n.ok=n.status>=200&&n.status<=299,n.statusText=e.statusText,n.headers=e.headers,n.type=e.type,n.url=e.url,n}return Object(Fn.c)(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(_i),Ci=/^\)\]\}',?\n/,xi=function(){function t(t,e,n){var r=this;this.request=t,this.response=new Vn.a(function(i){var o=e.build();o.open(ci[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(o.withCredentials=t.withCredentials);var s=function(){var e=1223===o.status?204:o.status,r=null;204!==e&&"string"==typeof(r=void 0===o.response?o.responseText:o.response)&&(r=r.replace(Ci,"")),0===e&&(e=r?200:0);var s=di.fromResponseHeaderString(o.getAllResponseHeaders()),a=A(o)||t.url,u=new pi({body:r,status:e,headers:s,statusText:o.statusText||"OK",url:a});null!=n&&(u=n.merge(u));var c=new wi(u);if(c.ok=yi(e),c.ok)return i.next(c),void i.complete();i.error(c)},a=function(t){var e=new pi({body:t,type:li.Error,status:o.status,statusText:o.statusText});null!=n&&(e=n.merge(e)),i.error(new wi(e))};if(r.setDetectedContentType(t,o),null==t.headers&&(t.headers=new di),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return o.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=o.responseType)switch(t.responseType){case fi.ArrayBuffer:o.responseType="arraybuffer";break;case fi.Json:o.responseType="json";break;case fi.Text:o.responseType="text";break;case fi.Blob:o.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return o.addEventListener("load",s),o.addEventListener("error",a),o.send(r.request.getBody()),function(){o.removeEventListener("load",s),o.removeEventListener("error",a),o.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case hi.NONE:break;case hi.JSON:e.setRequestHeader("content-type","application/json");break;case hi.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case hi.TEXT:e.setRequestHeader("content-type","text/plain");break;case hi.BLOB:var n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}},t}(),Si=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=r().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),Oi=function(){function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new xi(t,this._browserXHR,this._baseResponseOptions)},t}(),Ti=function(){function t(t){void 0===t&&(t={});var e=t.method,n=t.headers,r=t.body,i=t.url,o=t.search,s=t.params,a=t.withCredentials,u=t.responseType;this.method=null!=e?P(e):null,this.headers=null!=n?n:null,this.body=null!=r?r:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(s||o),this.withCredentials=null!=a?a:null,this.responseType=null!=u?u:null}return Object.defineProperty(t.prototype,"search",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new di(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof bi?t.clone():"string"==typeof t?new bi(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var n=new bi;return Object.keys(t).forEach(function(r){var i=t[r];Array.isArray(i)?i.forEach(function(t){return e._appendParam(r,t,n)}):e._appendParam(r,i,n)}),n},t.prototype._appendParam=function(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)},t}(),Ei=function(t){function e(){return t.call(this,{method:ci.Get,headers:new di})||this}return Object(Fn.c)(e,t),e}(Ti),ki=function(t){function e(e){var n=t.call(this)||this,r=e.url;n.url=e.url;var i=e.params||e.search;if(i){var o=void 0;if((o="object"!=typeof i||i instanceof bi?i.toString():I(i).toString()).length>0){var s="?";-1!=n.url.indexOf("?")&&(s="&"==n.url[n.url.length-1]?"":"&"),n.url=r+s+o}}return n._body=e.body,n.method=P(e.method),n.headers=new di(e.headers),n.contentType=n.detectContentType(),n.withCredentials=e.withCredentials,n.responseType=e.responseType,n}return Object(Fn.c)(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return hi.JSON;case"application/x-www-form-urlencoded":return hi.FORM;case"multipart/form-data":return hi.FORM_DATA;case"text/plain":case"text/html":return hi.TEXT;case"application/octet-stream":return this._body instanceof Mi?hi.ARRAY_BUFFER:hi.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?hi.NONE:this._body instanceof bi?hi.FORM:this._body instanceof ji?hi.FORM_DATA:this._body instanceof Ri?hi.BLOB:this._body instanceof Mi?hi.ARRAY_BUFFER:this._body&&"object"==typeof this._body?hi.JSON:hi.TEXT},e.prototype.getBody=function(){switch(this.contentType){case hi.JSON:case hi.FORM:return this.text();case hi.FORM_DATA:return this._body;case hi.TEXT:return this.text();case hi.BLOB:return this.blob();case hi.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(_i),Pi=function(){},Ai="object"==typeof window?window:Pi,ji=Ai.FormData||Pi,Ri=Ai.Blob||Pi,Mi=Ai.ArrayBuffer||Pi,Ii=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if("string"==typeof t)n=D(this._backend,new ki(L(this._defaultOptions,e,ci.Get,t)));else{if(!(t instanceof ki))throw new Error("First argument must be a url string or Request instance.");n=D(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new ki(L(this._defaultOptions,e,ci.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new ki(L(this._defaultOptions.merge(new Ti({body:e})),n,ci.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new ki(L(this._defaultOptions.merge(new Ti({body:e})),n,ci.Put,t)))},t.prototype.delete=function(t,e){return this.request(new ki(L(this._defaultOptions,e,ci.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new ki(L(this._defaultOptions.merge(new Ti({body:e})),n,ci.Patch,t)))},t.prototype.head=function(t,e){return this.request(new ki(L(this._defaultOptions,e,ci.Head,t)))},t.prototype.options=function(t,e){return this.request(new ki(L(this._defaultOptions,e,ci.Options,t)))},t}(),Di=function(){},Li=n("E9/g"),Ni=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Fi(t,this.project,this.thisArg))},t}(),Fi=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return Object(Fn.c)(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Li.a);Vn.a.prototype.map=V;var Bi=function(){function t(t){this.http=t,this.shapeUpXLTR=[35,2,3,-2,-18,30,30,-18,-2,3,2,35],this.shapeUpYLTR=[15,-10,-5,-5,-15,0,0,15,5,5,10,-15],this.shapeDownXRTL=[-35,-2,-3,2,18,-30,-30,18,2,-3,-2,-35],this.shapeDownYRTL=[-15,10,5,5,15,0,0,-15,-5,-5,-10,15],this.shapeDownXLTR=[35,2,3,-2,-18,30,30,-18,-2,3,2,35],this.shapeDownYLTR=[-15,10,5,5,15,0,0,-15,-5,-5,-10,15],this.shapeUpXRTL=[-35,-2,-3,2,18,-30,-30,18,2,-3,-2,-35],this.shapeUpYRTL=[15,-10,-5,-5,-15,0,0,15,5,5,10,-15],this.shapeLeftXUpwards=[15,-10,-5,-5,-15,0,0,15,5,5,10,-15],this.shapeLeftYUpwards=[-35,-2,-3,2,18,-30,-30,18,2,-3,-2,-35],this.shapeLeftXDownwards=[-15,10,5,5,15,0,0,-15,-5,-5,-10,15],this.shapeLeftYDownwards=[35,2,3,-2,-18,30,30,-18,-2,3,2,35],this.shapeRightXUpwards=[-15,10,5,5,15,0,0,-15,-5,-5,-10,15],this.shapeRightYUpwards=[-35,-2,-3,2,18,-30,-30,18,2,-3,-2,-35],this.shapeRightXDownwards=[15,-10,-5,-5,-15,0,0,15,5,5,10,-15],this.shapeRightYDownwards=[35,2,3,-2,-18,30,30,-18,-2,3,2,35]}return t.prototype.getJigsawPuzzleSettingsFromFile=function(t){return this.http.get(t).map(function(t){return t.json()})},t}(),Vi=(n("Cb9T"),function(){function t(t){this.jigsawService=t,this.pieces=[],this.iconSetDirectory="jigsaw",this.jigsawPuzzle=new Bn,this.isDropped=!0,this.mouseRelativeToImgX=0,this.mouseRelativeToImgY=0,this.errorMargin=40,this.props={canvasFill:"#ffffff",canvasImage:"",id:null,opacity:null,fill:null,fontSize:null,lineHeight:null,charSpacing:null,fontWeight:null,fontStyle:null,textAlign:null,fontFamily:null,TextDecoration:""},this.size={width:700,height:800}}return t.prototype.addImages=function(){for(var t=this,e=this,n=0;n<this.pieces.length;n++)!function(n){var r=200*e.pieces[n].GridPosition[1],i=200*e.pieces[n].GridPosition[0],o=new fabric.Path(e.pieces[n].pattern);o.hasControls=!1,o.hasBorders=!1,fabric.Image.fromURL("assets/images/pingu.png",function(e){var n=new fabric.StaticCanvas;n.add(e);var s=new fabric.Pattern({offsetX:r,offsetY:i,source:function(){return n.setDimensions({width:e.getWidth()+0,height:e.getHeight()+0}),n.getElement()}});o.fill=s,t.canvas.add(o)})}(n)},t.prototype.resetSource=function(){var t=this,e="assets/images/"+this.iconSetDirectory;this.jigsawService.getJigsawPuzzleSettingsFromFile(e+"/puzzle.json").subscribe(function(n){t.jigsawPuzzle=n,t.setPieces(e)})},t.prototype.setPieces=function(t){this.pieces=[];for(var e=0;e<this.jigsawPuzzle.puzzleHeight;++e)for(var n=0;n<this.jigsawPuzzle.puzzleWidth;++n){var r=n*(this.jigsawPuzzle.pieceWidth+0)+0,i=e*(this.jigsawPuzzle.pieceHeight+0)+0,o="img"+("000"+n).slice(-3)+"_"+("000"+e).slice(-3),s={id:o,filePath:t+"/"+o+".png",topleft:this.getImageOffsetForPiece(e,n),GridPosition:[e,n],pattern:this.getPath(e,n,r,i)};this.pieces.push(s)}},t.prototype.getImageOffsetForPiece=function(t,e){return[220*e,220*t]},t.prototype.getPath=function(t,e,n,r){var i="M "+n+" "+r;return i+=this.getSidePath("top",n,r,this.getSideShape("top",t,e)),i+=this.getSidePath("right",n,r,this.getSideShape("right",t,e)),i+=this.getSidePath("bottom",n,r,this.getSideShape("bottom",t,e)),(i+=this.getSidePath("left",n,r,this.getSideShape("left",t,e)))+" z"},t.prototype.getSidePath=function(t,e,n,r){if("straight"===r)return this.GetStraightSidePath(t,e,n);var i,o=e+this.jigsawPuzzle.pieceWidth,s=n+this.jigsawPuzzle.pieceWidth;switch(t){case"top":i="up"===r?this.getPathCoords(this.jigsawService.shapeUpXLTR,this.jigsawService.shapeUpYLTR,e,n):this.getPathCoords(this.jigsawService.shapeDownXLTR,this.jigsawService.shapeDownYLTR,e,n);break;case"bottom":i="up"===r?this.getPathCoords(this.jigsawService.shapeUpXRTL,this.jigsawService.shapeUpYRTL,o,s):this.getPathCoords(this.jigsawService.shapeDownXRTL,this.jigsawService.shapeDownYRTL,o,s);break;case"right":i="right"===r?this.getPathCoords(this.jigsawService.shapeLeftXDownwards,this.jigsawService.shapeLeftYDownwards,o,n):this.getPathCoords(this.jigsawService.shapeRightXDownwards,this.jigsawService.shapeRightYDownwards,o,n);break;case"left":i="left"===r?this.getPathCoords(this.jigsawService.shapeLeftXUpwards,this.jigsawService.shapeLeftYUpwards,e,s):this.getPathCoords(this.jigsawService.shapeRightXUpwards,this.jigsawService.shapeRightYUpwards,e,s)}return this.coordsToString(i)},t.prototype.coordsToString=function(t){for(var e="",n=0;n<t.length;n++)n%6==0&&(e+=" C "),e+=t[n].toString(),n<t.length-1&&(e+=",");return e},t.prototype.GetStraightSidePath=function(t,e,n){var r=e+this.jigsawPuzzle.pieceWidth,i=n+this.jigsawPuzzle.pieceWidth;return"top"===t?" L "+r+" "+n:"bottom"===t?" L "+e+" "+i:"right"===t?" L "+r+" "+i:"left"===t?" L "+e+" "+n:(console.log("invalid side: "+t),"")},t.prototype.getSideShape=function(t,e,n){switch(t){case"top":return 0===e?"straight":this.jigsawPuzzle.horizontals[(e-1)*this.jigsawPuzzle.puzzleHeight+n];case"left":return 0===n?"straight":this.jigsawPuzzle.verticals[(n-1)*this.jigsawPuzzle.puzzleWidth+e];case"right":return n===this.jigsawPuzzle.puzzleWidth-1?"straight":this.jigsawPuzzle.verticals[n*this.jigsawPuzzle.puzzleWidth+e];case"bottom":return e===this.jigsawPuzzle.puzzleHeight-1?"straight":this.jigsawPuzzle.horizontals[e*this.jigsawPuzzle.puzzleHeight+n];default:console.log("invalid side: "+t)}},t.prototype.getPathCoords=function(t,e,n,r){var i=new Array;i.push(n),i.push(r);for(var o=0;o<12;o++)i.push(n+=t[o]),i.push(r+=e[o]),o>0&&o<11&&(o+1)%2==0&&(i.push(n),i.push(r));return i},t.prototype.ngOnInit=function(){this.resetSource(),this.setUpCanvas()},t.prototype.setUpCanvas=function(){this.canvas=new fabric.Canvas("canvas",{hoverCursor:"pointer",selection:!0,selectionBorderColor:"red",backgroundColor:"rgb(200,100,200)",selectionLineWidth:0}),this.canvas.setWidth(this.size.width),this.canvas.setHeight(this.size.height)},t}()),Ui=function(){function t(){}return t.prototype.ngOnInit=function(){},t.prototype.click=function(t){var e=document.getElementById(t);e.classList.contains("collapse")?e.classList.remove("collapse"):e.classList.add("collapse")},t}(),zi=function(){function t(){this.target=[],this.src=[],this.greenTick="assets/images/greentick.png",this.amberTick="assets/images/ambertick.png",this.prevGuesses=[],this.solutionLength=4,this.playerHasWon=!1,this.playerHasLost=!1,this.maxGuesses=10,this.sourceLength=8,this.iconSetDirectory="emoticons",this.populateIconConfig(),this.newGame()}return t.prototype.populateIconConfig=function(){this.iconSets=[{value:"emoticons",filePath:"assets/images/emoticons/src0.png"},{value:"xmas",filePath:"assets/images/xmas/src0.png"},{value:"animals",filePath:"assets/images/animals/src0.png"},{value:"flags",filePath:"assets/images/flags/src0.png"},{value:"food",filePath:"assets/images/food/src0.png"}]},t.prototype.resetSource=function(){var t="assets/images/"+this.iconSetDirectory+"/src";this.src=[];for(var e=0;e<this.sourceLength;++e){var n={id:"src"+e.toString(),filePath:t+e.toString()+".png"};this.src.push(n)}},t.prototype.cheat=function(t){for(var e=this.getTargetIndex(t),n=0;n<this.sourceLength;++n)if(this.src[n].filePath===this.solution[e]){this.target[e].filePath=this.src[n].filePath,this.guess.srcIndexes[e]=n;break}},t.prototype.resetTarget=function(){this.target=[];for(var t=0;t<this.solutionLength;++t){var e={id:"target"+t.toString(),filePath:this.getBlankImage()};this.target.push(e)}},t.prototype.getBlankImage=function(){return"assets/images/whitespot.png"},t.prototype.resetGuess=function(){this.guess={srcIndexes:[],redCount:"",whiteCount:""};for(var t=0;t<this.solutionLength;++t)this.guess.srcIndexes[t]=null},t.prototype.onDragOver=function(t){t.stopPropagation(),t.preventDefault(),this.thetarget=t.srcElement.id},t.prototype.onDrop=function(t){t.preventDefault(),t.stopPropagation();var e=t.srcElement.id,n=Number(this.thetarget.substring(6));this.updateGuess(e,n)},t.prototype.updateGuess=function(t,e){var n=this.getSrcIndex(t);this.duplicateDetected(n)||(this.target[e].filePath=this.src[n].filePath,this.guess.srcIndexes[e]=n)},t.prototype.guessComplete=function(){return!!this.guess.srcIndexes.some(function(t){return null===t})},t.prototype.srcImageClicked=function(t){if(!this.gameComplete){var e=this.guess.srcIndexes.indexOf(null);e>-1&&this.updateGuess(t,e)}},t.prototype.targetImageClicked=function(t){if(!this.gameComplete){var e=this.getTargetIndex(t);this.guess.srcIndexes[e]=null,this.target[e].filePath=this.getBlankImage()}},t.prototype.showPrevGuesses=function(){return null!=this.prevGuesses&&void 0!=this.prevGuesses&&this.prevGuesses.length>0},t.prototype.GenerateSolution=function(){var t=this;for(this.solution=[],e=0;e<this.solutionLength;++e)this.solution.push("");for(var e=0;e<this.solutionLength;++e)for(var n=!0,r=function(){var r=Math.floor(8*Math.random());i.solution.every(function(e){return e!==t.src[r].filePath})&&(i.solution[e]=i.src[r].filePath,n=!1)},i=this;n;)r()},t.prototype.duplicateDetected=function(t){return this.guess.srcIndexes.indexOf(t)>=0},t.prototype.getSrcIndex=function(t){return Number(t.substring(3))},t.prototype.getTargetIndex=function(t){return Number(t.substring(6))},t.prototype.checkGuess=function(t){for(var e=0,n=0,r=this,i=0;i<this.solutionLength;++i)!function(t){var i=r.src[r.guess.srcIndexes[t]].filePath;i===r.solution[t]?e++:r.solution.some(function(t){return t===i})&&n++}(i);return this.guess.redCount=e.toString(),this.guess.whiteCount=n.toString(),this.updatePreviousGuesses(),e>=this.solutionLength?(this.playerHasWon=!0,void this.freezeGame()):this.prevGuesses.length>=this.maxGuesses?(this.playerHasLost=!0,void this.freezeGame()):(this.resetTarget(),void this.resetGuess())},t.prototype.changeIconSet=function(t){t.value!==this.iconSetDirectory&&(this.iconSetDirectory=t.value,this.newGame())},t.prototype.updatePreviousGuesses=function(){for(var t={srcIndexes:[null,null,null,null],redCount:this.guess.redCount,whiteCount:this.guess.whiteCount},e=0;e<this.solutionLength;++e)t.srcIndexes[e]=this.guess.srcIndexes[e];this.prevGuesses.unshift(t)},t.prototype.newGame=function(){this.prevGuesses=[],this.resetSource(),this.resetTarget(),this.resetGuess(),this.GenerateSolution(),this.gameComplete=!1,this.playerHasWon=!1,this.playerHasLost=!1},t.prototype.freezeGame=function(){this.gameComplete=!0},Object(Fn.b)([Object(Nn.HostListener)("dragenter",["$event"]),Object(Nn.HostListener)("dragover",["$event"]),Object(Fn.d)("design:type",Function),Object(Fn.d)("design:paramtypes",[DragEvent]),Object(Fn.d)("design:returntype",void 0)],t.prototype,"onDragOver",null),t}(),Hi=n("Ecq+"),Gi=n("1j/l"),Wi=n("qgI0"),Yi=n("lI6h"),Xi=n("xIGM"),qi=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return Object(Fn.c)(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,r=this.scheduler;if(null==r)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){Xi.a.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return r.schedule(U,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(r.schedule(U,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(r.schedule(z,0,{err:e,subscriber:t}))}).then(null,function(t){Xi.a.setTimeout(function(){throw t})})},e}(Vn.a),Ki=qi.create,Zi=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),$i=function(){},Qi=function(){},Ji=function(){},to=function(){},eo=n("TO51"),no=n("Upor"),ro=function(t){function e(e){t.call(this),this._value=e}return Object(Fn.c)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new no.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(eo.a),io=n("Oryw"),oo=io.a.of,so=n("wP3s"),ao=n("kQVV"),uo=n("mHG6"),co=n("X3fp"),lo=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=Y(e)}return Object(Fn.c)(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.iterator,r=t.subscriber;if(t.hasError)r.error(t.error);else{var i=n.next();i.done?r.complete():(r.next(i.value),t.index=e+1,r.closed?"function"==typeof n.return&&n.return():this.schedule(t))}},e.prototype._subscribe=function(t){var n=this,r=n.iterator,i=n.scheduler;if(i)return i.schedule(e.dispatch,0,{index:0,iterator:r,subscriber:t});for(;;){var o=r.next();if(o.done){t.complete();break}if(t.next(o.value),t.closed){"function"==typeof r.return&&r.return();break}}},e}(Vn.a),ho=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[co.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),fo=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=X(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[co.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),po=Math.pow(2,53)-1,go=n("8Ut3"),vo=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Object(Fn.c)(e,t),e.create=function(t,n){var r=t.length;return 0===r?new Hi.a:1===r?new go.a(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.subscriber;r.closed||(n>=t.length?r.complete():(r.next(e[n]),t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this,r=n.arrayLike,i=n.scheduler,o=r.length;if(i)return i.schedule(e.dispatch,0,{arrayLike:r,index:0,length:o,subscriber:t});for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);t.complete()},e}(Vn.a),yo=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Vn.a.of(this.value);case"E":return Vn.a.throw(this.error);case"C":return Vn.a.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),mo=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return Object(Fn.c)(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new bo(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(yo.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(yo.createError(t))},e.prototype._complete=function(){this.scheduleMessage(yo.createComplete())},e}(Li.a),bo=function(t,e){this.notification=t,this.destination=e},_o=n("mz3w"),wo=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return Object(Fn.c)(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[_o.a])return t instanceof Vn.a&&!n?t:new e(t,n);if(Object(Gi.a)(t))return new io.a(t,n);if(Object(uo.a)(t))return new qi(t,n);if("function"==typeof t[co.a]||"string"==typeof t)return new lo(t,n);if(Object(ao.a)(t))return new vo(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[_o.a]().subscribe(t):e[_o.a]().subscribe(new mo(t,n,0))},e}(Vn.a).create,Co=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new xo(t,this.selector,this.caught))},t}(),xo=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return Object(Fn.c)(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(Object(Wi.a)(this,n))}},e}(Yi.a),So=n("bywS"),Oo=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return Object(Fn.c)(e,t),e}(Error),To=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new Eo(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),Eo=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return Object(Fn.c)(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new Oo):(t.next(this.defaultValue),t.complete())},e}(Li.a),ko=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Po(t,this.predicate,this.thisArg,this.source))},t}(),Po=function(t){function e(e,n,r,i){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return Object(Fn.c)(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Li.a),Ao=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new jo(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),jo=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return Object(Fn.c)(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new Oo)},e}(Li.a),Ro=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Mo(t,this.accumulator,this.seed,this.hasSeed))},t}(),Mo=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}return Object(Fn.c)(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(Li.a),Io=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return Object(Fn.c)(e,t),e}(Error),Do=function(){function t(t){if(this.total=t,this.total<0)throw new Io}return t.prototype.call=function(t,e){return e.subscribe(new Lo(t,this.total))},t}(),Lo=function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}return Object(Fn.c)(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(Li.a),No=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new Fo(t,this.defaultValue))},t}(),Fo=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return Object(Fn.c)(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Li.a),Bo=n("ExCY"),Vo=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Uo(t,this.predicate,this.thisArg))},t}(),Uo=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0}return Object(Fn.c)(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(Li.a),zo=function(t,e){this.id=t,this.url=e},Ho=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fn.c)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(zo),Go=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(Fn.c)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(zo),Wo=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(Fn.c)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(zo),Yo=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(Fn.c)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(zo),Xo=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(Fn.c)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(zo),qo=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(Fn.c)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(zo),Ko=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n)||this;return s.urlAfterRedirects=r,s.state=i,s.shouldActivate=o,s}return Object(Fn.c)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(zo),Zo=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(Fn.c)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(zo),$o=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(Fn.c)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(zo),Qo=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Jo=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),ts=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),es=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),ns=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),rs=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),is="primary",os=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}(),ss="ngNavigationCancelingError",as=function(t,e){this.routes=t,this.module=e},us=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=pt(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return ds.serialize(this)},t}(),cs=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Ot(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Bt(this)},t}(),ls=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=pt(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Ht(this)},t}(),hs=function(){},fs=function(){function t(){}return t.prototype.parse=function(t){var e=new ys(t);return new us(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){return"/"+Vt(t.root,!0)+Wt(t.queryParams)+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),ds=new fs,ps=/^[^\/()?;=&#]+/,gs=/^[^=?&#]+/,vs=/^[^?&#]+/,ys=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cs([],{}):new cs([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[is]=new cs(t,e)),n},t.prototype.parseSegment=function(){var t=Yt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new ls(zt(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Yt(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Yt(this.remaining);r&&this.capture(n=r)}t[zt(e)]=zt(n)}},t.prototype.parseQueryParam=function(t){var e=Xt(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=qt(this.remaining);r&&this.capture(n=r)}var i=zt(e),o=zt(n);if(t.hasOwnProperty(i)){var s=t[i];Array.isArray(s)||(t[i]=s=[s]),s.push(o)}else t[i]=o}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Yt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=is);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[is]:new cs([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),ms=function(t){this.segmentGroup=t||null},bs=function(t){this.urlTree=t},_s=function(){function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Nn.NgModuleRef)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,is),n=V.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return $.call(n,function(e){if(e instanceof bs)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof ms)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,is),r=V.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return $.call(r,function(t){if(t instanceof ms)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r=t.segments.length>0?new cs([],(i={},i[is]=t,i)):t;return new us(r,e,n);var i},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?V.call(this.expandChildren(t,e,n),function(t){return new cs([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return Tt(n.children,function(n,i){return r.expandSegmentGroup(t,e,i,n)})},t.prototype.expandSegment=function(t,e,n,r,i,o){var s=this,a=oo.apply(void 0,n),u=V.call(a,function(a){var u=s.expandSegmentAgainstRoute(t,e,n,a,r,i,o);return $.call(u,function(t){if(t instanceof ms)return oo(null);throw t})}),c=J.call(u),l=et.call(c,function(t){return!!t});return $.call(l,function(t,n){if(t instanceof Oo){if(s.noLeftoversInUrl(e,r,i))return oo(new cs([],{}));throw new ms(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,s){return ce(r)!==o?Kt(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Kt(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Zt(o):W.call(this.lineralizeSegments(n,o),function(n){var o=new cs(n,{});return i.expandSegment(t,o,e,n,r,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var s=this,a=ee(e,r,i),u=a.consumedSegments,c=a.lastChild,l=a.positionalParamSegments;if(!a.matched)return Kt(e);var h=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?Zt(h):W.call(this.lineralizeSegments(r,h),function(r){return s.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?V.call(this.configLoader.load(t.injector,n),function(t){return n._loadedConfig=t,new cs(r,{})}):oo(new cs(r,{}));var o=ee(e,n,r),s=o.consumedSegments,a=o.lastChild;if(!o.matched)return Kt(e);var u=r.slice(a),c=this.getChildConfig(t,n);return W.call(c,function(t){var n=t.module,r=t.routes,o=ne(e,s,u,r),a=o.segmentGroup,c=o.slicedSegments;if(0===c.length&&a.hasChildren()){var l=i.expandChildren(n,r,a);return V.call(l,function(t){return new cs(s,t)})}if(0===r.length&&0===c.length)return oo(new cs(s,{}));var h=i.expandSegment(n,a,r,c,is,!0);return V.call(h,function(t){return new cs(s.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?oo(new as(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?oo(e._loadedConfig):W.call(te(t.injector,e),function(r){return r?V.call(n.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):Qt(e)}):oo(new as([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return oo(n);if(r.numberOfChildren>1||!r.children[is])return $t(t.redirectTo);r=r.children[is]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new us(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Ot(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),s={};return Ot(e.children,function(e,o){s[o]=i.createSegmentGroup(t,e,n,r)}),new cs(o,s)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];if(o.path===t.path)return e.splice(n),o;n++}return t},t}(),ws=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=le(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=le(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=he(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return he(t,this._root).map(function(t){return t.value})},t}(),Cs=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),xs=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,ve(r,e),r}return Object(Fn.c)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(ws),Ss=function(){function t(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=V.call(this.params,function(t){return pt(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=V.call(this.queryParams,function(t){return pt(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),Os=function(){function t(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=pt(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=pt(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),Ts=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,ve(r,n),r}return Object(Fn.c)(e,t),e.prototype.toString=function(){return ye(this._root)},e}(ws),Es=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Te(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==St(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),ks=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n},Ps=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),As=function(t,e){this.component=t,this.route=e},js=function(){function t(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(!this.isDeactivating()&&!this.isActivating())return oo(!0);var e=this.runCanDeactivateChecks();return W.call(e,function(e){return e?t.runCanActivateChecks():oo(!1)})},t.prototype.resolveData=function(){var t=this;if(!this.isActivating())return oo(null);var e=wo(this.canActivateChecks),n=G.call(e,function(e){return t.runResolve(e.route)});return ht.call(n,function(t,e){return t})},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,r){var i=this,o=fe(e);t.children.forEach(function(t){i.setupRouteGuards(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),Ot(o,function(t,e){return i.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,r){var i=t.value,o=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){var a=this.shouldRunGuardsAndResolvers(o,i,i.routeConfig.runGuardsAndResolvers);a?this.canActivateChecks.push(new Ps(r)):(i.data=o.data,i._resolvedData=o._resolvedData),i.component?this.setupChildRouteGuards(t,e,s?s.children:null,r):this.setupChildRouteGuards(t,e,n,r),a&&this.canDeactivateChecks.push(new As(s.outlet.component,o))}else o&&this.deactivateRouteAndItsChildren(e,s),this.canActivateChecks.push(new Ps(r)),i.component?this.setupChildRouteGuards(t,null,s?s.children:null,r):this.setupChildRouteGuards(t,null,n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!be(t,e)||!Ct(t.queryParams,e.queryParams);case"paramsChange":default:return!be(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=fe(t),i=t.value;Ot(r,function(t,r){i.component?e?n.deactivateRouteAndItsChildren(t,e.children.getContext(r)):n.deactivateRouteAndItsChildren(t,null):n.deactivateRouteAndItsChildren(t,e)}),this.canDeactivateChecks.push(i.component&&e&&e.outlet&&e.outlet.isActivated?new As(e.outlet.component,i):new As(null,i))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=wo(this.canDeactivateChecks),n=W.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return rt.call(n,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=wo(this.canActivateChecks),n=G.call(e,function(e){return Et(wo([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return rt.call(n,function(t){return!0===t})},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new ns(t)),oo(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new ts(t)),oo(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?Et(V.call(wo(n),function(n){var r,i=e.getToken(n,t);return r=kt(i.canActivate?i.canActivate(t,e.future):i(t,e.future)),et.call(r)})):oo(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return Et(V.call(wo(r),function(t){return Et(V.call(wo(t.guards),function(r){var i,o=e.getToken(r,t.node);return i=kt(o.canActivateChild?o.canActivateChild(n,e.future):o(n,e.future)),et.call(i)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!r||0===r.length)return oo(!0);var i=W.call(wo(r),function(r){var i,o=n.getToken(r,e);return i=kt(o.canDeactivate?o.canDeactivate(t,e,n.curr,n.future):o(t,e,n.curr,n.future)),et.call(i)});return rt.call(i,function(t){return!0===t})},t.prototype.runResolve=function(t){return V.call(this.resolveNode(t._resolve,t),function(e){return t._resolvedData=e,t.data=Object(Fn.a)({},t.data,ge(t).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return oo({});if(1===r.length){var i=r[0];return V.call(this.getResolver(t[i],e),function(t){return e={},e[i]=t,e;var e})}var o={},s=W.call(wo(r),function(r){return V.call(n.getResolver(t[r],e),function(t){return o[r]=t,t})});return V.call(ot.call(s),function(){return o})},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return kt(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=Ue(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),Rs=function(){},Ms=function(){function t(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}return t.prototype.recognize=function(){try{var t=Ke(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,is),n=new Os([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},is,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Cs(n,e),i=new Ts(this.url,r);return this.inheritParamsAndData(i._root),oo(i)}catch(t){return new Vn.a(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=ge(n);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n=this,r=Ft(e,function(e,r){return n.processSegmentGroup(t,e,r)});return Ye(r),He(r),r},t.prototype.processSegment=function(t,e,n,r){for(var i=0,o=t;i<o.length;i++){var s=o[i];try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(t){if(!(t instanceof Rs))throw t}}if(this.noLeftoversInUrl(e,n,r))return[];throw new Rs},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new Rs;if((t.outlet||is)!==r)throw new Rs;if("**"===t.path){var i=n.length>0?St(n).parameters:{},o=new Os(n,i,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,nn(t),r,t.component,t,Xe(e),qe(e)+n.length,rn(t));return[new Cs(o,[])]}var s=We(e,t,n),a=s.consumedSegments,u=s.parameters,c=n.slice(s.lastChild),l=Ge(t),h=Ke(e,a,c,l),f=h.segmentGroup,d=h.slicedSegments,p=new Os(a,u,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,nn(t),r,t.component,t,Xe(e),qe(e)+a.length,rn(t));if(0===d.length&&f.hasChildren()){var g=this.processChildren(l,f);return[new Cs(p,g)]}if(0===l.length&&0===d.length)return[new Cs(p,[])];var v=this.processSegment(l,f,d,is);return[new Cs(p,v)]},t}(),Is=function(){},Ds=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Ls=new Nn.InjectionToken("ROUTES"),Ns=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren);return V.call(r,function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new as(xt(i.injector.get(Ls)),i)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Ki(this.loader.load(t)):W.call(kt(t()),function(t){return t instanceof Nn.NgModuleFactory?oo(t):Ki(e.compiler.compileModuleAsync(t))})},t}(),Fs=function(){},Bs=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}(),Vs=function(){function t(t,e,n,r,i,o,s,a){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.navigations=new ro(null),this.navigationId=0,this.events=new eo.a,this.errorHandler=on,this.navigated=!1,this.hooks={beforePreactivation:sn,afterPreactivation:sn},this.urlHandlingStrategy=new Bs,this.routeReuseStrategy=new Ds,this.ngModule=i.get(Nn.NgModuleRef),this.resetConfig(a),this.currentUrlTree=Pt(),this.rawUrlTree=this.currentUrlTree,this.configLoader=new Ns(o,s,function(t){return u.triggerEvent(new Qo(t))},function(t){return u.triggerEvent(new Jo(t))}),this.routerState=de(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url),r="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,r,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){mt(t),this.config=t,this.navigated=!1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.preserveQueryParams,s=e.queryParamsHandling,a=e.preserveFragment;Object(Nn.isDevMode)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i,l=null;if(s)switch(s){case"merge":l=Object(Fn.a)({},this.currentUrlTree.queryParams,r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return Oe(u,this.currentUrlTree,t,l,c)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof us?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),cn(t),"object"==typeof e.queryParams&&null!==e.queryParams&&(e.queryParams=this.removeEmptyProps(e.queryParams)),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof us)return At(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return At(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;G.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):oo(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var i=null,o=null,s=new Promise(function(t,e){i=t,o=e}),a=++this.navigationId;return this.navigations.next({id:a,source:e,rawUrl:t,extras:n,resolve:i,reject:o,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,s=t.reject,a=this.urlHandlingStrategy.extract(r),u=!this.navigated||a.toString()!==this.currentUrlTree.toString();u&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.events.next(new Ho(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,r,!!i.skipLocationChange,!!i.replaceUrl,n,null)}).then(o,s)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new Ho(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,r,!1,!1,n,de(a,e.rootComponentType).snapshot)}).then(o,s)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,n,r,i,o){var s=this;return i!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.events.next(new Wo(i,this.serializeUrl(t),"Navigation ID "+i+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(a,u){var c;if(o)c=oo({appliedUrl:t,snapshot:o});else{var l=Jt(s.ngModule.injector,s.configLoader,s.urlSerializer,t,s.config);c=W.call(l,function(e){return V.call(ze(s.rootComponentType,s.config,e,s.serializeUrl(e)),function(n){return s.events.next(new Xo(i,s.serializeUrl(t),s.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var h,f,d=W.call(c,function(t){return V.call(s.hooks.beforePreactivation(t.snapshot),function(){return t})}),p=V.call(d,function(t){var e=t.appliedUrl,n=t.snapshot;return(h=new js(n,s.routerState.snapshot,s.ngModule.injector,function(t){return s.triggerEvent(t)})).initialize(s.rootContexts),{appliedUrl:e,snapshot:n}}),g=W.call(p,function(e){var n=e.appliedUrl,r=e.snapshot;return s.navigationId!==i?oo(!1):(s.triggerEvent(new qo(i,s.serializeUrl(t),n,r)),V.call(h.checkGuards(),function(e){return s.triggerEvent(new Ko(i,s.serializeUrl(t),n,r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))}),v=W.call(g,function(e){return s.navigationId!==i?oo(!1):e.shouldActivate&&h.isActivating()?(s.triggerEvent(new Zo(i,s.serializeUrl(t),e.appliedUrl,e.snapshot)),V.call(h.resolveData(),function(){return s.triggerEvent(new $o(i,s.serializeUrl(t),e.appliedUrl,e.snapshot)),e})):oo(e)}),y=W.call(v,function(t){return V.call(s.hooks.afterPreactivation(t.snapshot),function(){return t})}),m=V.call(y,function(t){var e=t.appliedUrl,n=t.shouldActivate;return n?{appliedUrl:e,state:_e(s.routeReuseStrategy,t.snapshot,s.routerState),shouldActivate:n}:{appliedUrl:e,state:null,shouldActivate:n}}),b=s.routerState,_=s.currentUrlTree;m.forEach(function(t){var o=t.state;if(t.shouldActivate&&i===s.navigationId){if(s.currentUrlTree=t.appliedUrl,s.rawUrlTree=s.urlHandlingStrategy.merge(s.currentUrlTree,e),s.routerState=o,!n){var a=s.urlSerializer.serialize(s.rawUrlTree);s.location.isCurrentPathEqualTo(a)||r?s.location.replaceState(a):s.location.go(a)}new Us(s.routeReuseStrategy,o,b,function(t){return s.triggerEvent(t)}).activate(s.rootContexts),f=!0}else f=!1}).then(function(){f?(s.navigated=!0,s.events.next(new Go(i,s.serializeUrl(t),s.serializeUrl(s.currentUrlTree))),a(!0)):(s.resetUrlToCurrentUrlTree(),s.events.next(new Wo(i,s.serializeUrl(t),"")),a(!1))},function(n){if(vt(n))s.resetUrlToCurrentUrlTree(),s.navigated=!0,s.events.next(new Wo(i,s.serializeUrl(t),n.message)),a(!1);else{s.events.next(new Yo(i,s.serializeUrl(t),n));try{a(s.errorHandler(n))}catch(t){u(t)}}s.routerState=b,s.currentUrlTree=_,s.rawUrlTree=s.urlHandlingStrategy.merge(s.currentUrlTree,e),s.location.replaceState(s.serializeUrl(s.rawUrlTree))})})},t.prototype.resetUrlToCurrentUrlTree=function(){var t=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(t)},t}(),Us=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),me(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=fe(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),Ot(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=fe(t),o=t.value.component?r.children:e;Ot(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=fe(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new rs(t.value.snapshot))}),t.children.length&&this.forwardEvent(new es(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(me(r),r===i)r.component?(o=n.getOrCreateContext(r.outlet),this.activateChildRoutes(t,e,o.children)):this.activateChildRoutes(t,e,n);else if(r.component){var o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),an(s.route)}else{var a=un(r.snapshot),u=a?a.module.componentFactoryResolver:null;o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)},t}(),zs=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Go&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(Nn.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:ln(this.skipLocationChange),replaceUrl:ln(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ln(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ln(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}(),Hs=function(){function t(t,e,n,r){var i=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof Go&&i.update()})}return t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}(),Gs=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ws,this.attachRef=null}}(),Ws=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Gs,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Ys=function(){function t(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Nn.EventEmitter,this.deactivateEvents=new Nn.EventEmitter,this.name=r||is,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Xs(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),Xs=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Ss?this.route:t===Ws?this.childContexts:this.parent.get(t,e)},t}(),qs=function(){},Ks=function(){function t(){}return t.prototype.preload=function(t,e){return $.call(e(),function(){return oo(null)})},t}(),Zs=function(){function t(){}return t.prototype.preload=function(t,e){return oo(null)},t}(),$s=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ns(e,n,function(e){return t.triggerEvent(new Qo(e))},function(e){return t.triggerEvent(new Jo(e))})}return t.prototype.setUpPreloading=function(){var t=this,e=dt.call(this.router.events,function(t){return t instanceof Go});this.subscription=G.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(Nn.NgModuleRef);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;n.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(t,o)):o.children&&n.push(this.processRoutes(t,o.children))}return st.call(wo(n))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var r=n.loader.load(t.injector,e);return W.call(r,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}(),Qs=new Nn.InjectionToken("ROUTER_CONFIGURATION"),Js=new Nn.InjectionToken("ROUTER_FORROOT_GUARD"),ta=[Un.Location,{provide:hs,useClass:fs},{provide:Vs,useFactory:gn,deps:[Nn.ApplicationRef,hs,Ws,Un.Location,Nn.Injector,Nn.NgModuleFactoryLoader,Nn.Compiler,Ls,Qs,[Fs,new Nn.Optional],[Is,new Nn.Optional]]},Ws,{provide:Ss,useFactory:vn,deps:[Vs]},{provide:Nn.NgModuleFactoryLoader,useClass:Nn.SystemJsNgModuleLoader},$s,Zs,Ks,{provide:Qs,useValue:{enableTracing:!1}}],ea=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[ta,pn(e),{provide:Js,useFactory:dn,deps:[[Vs,new Nn.Optional,new Nn.SkipSelf]]},{provide:Qs,useValue:n||{}},{provide:Un.LocationStrategy,useFactory:fn,deps:[Un.PlatformLocation,[new Nn.Inject(Un.APP_BASE_HREF),new Nn.Optional],Qs]},{provide:qs,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Zs},{provide:Nn.NgProbeToken,multi:!0,useFactory:hn},bn()]}},t.forChild=function(e){return{ngModule:t,providers:[pn(e)]}},t}(),na=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new eo.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(Un.LOCATION_INITIALIZED,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Vs),i=t.injector.get(Qs);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?oo(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Qs),n=this.injector.get($s),r=this.injector.get(Vs),i=this.injector.get(Nn.ApplicationRef);t===i.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}(),ra=new Nn.InjectionToken("Router Initializer"),ia=function(){this.title="app"},oa=(n("1wxl"),function(){}),sa=Nn["\u0275crt"]({encapsulation:0,styles:[[".dropbox[_ngcontent-%COMP%]{width:40px;height:40px}.dropbox[_ngcontent-%COMP%], .well[_ngcontent-%COMP%]{padding:5px;border:1px solid #aaa}label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{visibility:hidden;position:absolute}label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] + img[_ngcontent-%COMP%]{cursor:pointer;border:2px solid transparent}label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked + img[_ngcontent-%COMP%]{border:2px solid red}"]],data:{}}),aa=Nn["\u0275ccf"]("app-decoder",zi,function(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,1,"app-decoder",[],null,[[null,"dragenter"],[null,"dragover"],[null,"dragend"]],function(t,e,n){var r=!0;return"dragenter"===e&&(r=!1!==Nn["\u0275nov"](t,1).onDragOver(n)&&r),"dragover"===e&&(r=!1!==Nn["\u0275nov"](t,1).onDragOver(n)&&r),"dragend"===e&&(r=!1!==Nn["\u0275nov"](t,1).onDrop(n)&&r),r},jn,sa)),Nn["\u0275did"](1,49152,null,0,zi,[],null,null)],null,null)},{},{},[]),ua=Nn["\u0275crt"]({encapsulation:0,styles:[[".jigsaw-canvas[_ngcontent-%COMP%]{padding:0;border:1px solid #aaa}.ig[_ngcontent-%COMP%]{padding:0}"]],data:{}}),ca=Nn["\u0275ccf"]("app-jigsaw",Vi,function(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,1,"app-jigsaw",[],null,null,null,Rn,ua)),Nn["\u0275did"](1,114688,null,0,Vi,[Bi],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),la=Nn["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),ha=Nn["\u0275ccf"]("app-pagenotfound",to,function(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,1,"app-pagenotfound",[],null,null,null,Mn,la)),Nn["\u0275did"](1,49152,null,0,to,[],null,null)],null,null)},{},{},[]),fa=Nn["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),da=Nn["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),pa=Nn["\u0275ccf"]("app-root",ia,function(t){return Nn["\u0275vid"](0,[(t()(),Nn["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,Dn,da)),Nn["\u0275did"](1,49152,null,0,ia,[],null,null)],null,null)},{},{},[]),ga=n("QBTG"),va=Nn["\u0275cmf"](oa,[ia],function(t){return Nn["\u0275mod"]([Nn["\u0275mpd"](512,Nn.ComponentFactoryResolver,Nn["\u0275CodegenComponentFactoryResolver"],[[8,[aa,ca,ha,pa]],[3,Nn.ComponentFactoryResolver],Nn.NgModuleRef]),Nn["\u0275mpd"](5120,Nn.LOCALE_ID,Nn["\u0275m"],[[3,Nn.LOCALE_ID]]),Nn["\u0275mpd"](4608,Un.NgLocalization,Un.NgLocaleLocalization,[Nn.LOCALE_ID,[2,Un["\u0275a"]]]),Nn["\u0275mpd"](5120,Nn.APP_ID,Nn["\u0275f"],[]),Nn["\u0275mpd"](5120,Nn.IterableDiffers,Nn["\u0275k"],[]),Nn["\u0275mpd"](5120,Nn.KeyValueDiffers,Nn["\u0275l"],[]),Nn["\u0275mpd"](4608,$r,Qr,[Un.DOCUMENT]),Nn["\u0275mpd"](6144,Nn.Sanitizer,null,[$r]),Nn["\u0275mpd"](4608,kr,Pr,[]),Nn["\u0275mpd"](5120,sr,function(t,e,n,r,i){return[new Tr(t,e),new Mr(n),new Ar(r,i)]},[Un.DOCUMENT,Nn.NgZone,Un.DOCUMENT,Un.DOCUMENT,kr]),Nn["\u0275mpd"](4608,ar,ar,[sr,Nn.NgZone]),Nn["\u0275mpd"](135680,lr,lr,[Un.DOCUMENT]),Nn["\u0275mpd"](4608,gr,gr,[ar,lr]),Nn["\u0275mpd"](6144,Nn.RendererFactory2,null,[gr]),Nn["\u0275mpd"](6144,cr,null,[lr]),Nn["\u0275mpd"](4608,Nn.Testability,Nn.Testability,[Nn.NgZone]),Nn["\u0275mpd"](4608,Qn,Qn,[Un.DOCUMENT]),Nn["\u0275mpd"](4608,nr,nr,[Un.DOCUMENT]),Nn["\u0275mpd"](4608,ui,ui,[]),Nn["\u0275mpd"](4608,pi,gi,[]),Nn["\u0275mpd"](5120,vi,N,[]),Nn["\u0275mpd"](4608,Oi,Oi,[ui,pi,vi]),Nn["\u0275mpd"](4608,Ti,Ei,[]),Nn["\u0275mpd"](5120,Ii,F,[Oi,Ti]),Nn["\u0275mpd"](4608,Zi,Zi,[]),Nn["\u0275mpd"](4608,Bi,Bi,[Ii]),Nn["\u0275mpd"](5120,Ss,vn,[Vs]),Nn["\u0275mpd"](4608,Zs,Zs,[]),Nn["\u0275mpd"](6144,qs,null,[Zs]),Nn["\u0275mpd"](135680,$s,$s,[Vs,Nn.NgModuleFactoryLoader,Nn.Compiler,Nn.Injector,qs]),Nn["\u0275mpd"](4608,Ks,Ks,[]),Nn["\u0275mpd"](5120,ra,mn,[na]),Nn["\u0275mpd"](5120,Nn.APP_BOOTSTRAP_LISTENER,function(t){return[t]},[ra]),Nn["\u0275mpd"](512,Un.CommonModule,Un.CommonModule,[]),Nn["\u0275mpd"](1024,Nn.ErrorHandler,k,[]),Nn["\u0275mpd"](1024,Nn.NgProbeToken,function(){return[hn()]},[]),Nn["\u0275mpd"](512,na,na,[Nn.Injector]),Nn["\u0275mpd"](1024,Nn.APP_INITIALIZER,function(t,e){return[l(t),yn(e)]},[[2,Nn.NgProbeToken],na]),Nn["\u0275mpd"](512,Nn.ApplicationInitStatus,Nn.ApplicationInitStatus,[[2,Nn.APP_INITIALIZER]]),Nn["\u0275mpd"](131584,Nn.ApplicationRef,Nn.ApplicationRef,[Nn.NgZone,Nn["\u0275Console"],Nn.Injector,Nn.ErrorHandler,Nn.ComponentFactoryResolver,Nn.ApplicationInitStatus]),Nn["\u0275mpd"](512,Nn.ApplicationModule,Nn.ApplicationModule,[Nn.ApplicationRef]),Nn["\u0275mpd"](512,ai,ai,[[3,ai]]),Nn["\u0275mpd"](512,Di,Di,[]),Nn["\u0275mpd"](512,$i,$i,[]),Nn["\u0275mpd"](512,Qi,Qi,[]),Nn["\u0275mpd"](512,Ji,Ji,[]),Nn["\u0275mpd"](512,ga.Angular2FontawesomeModule,ga.Angular2FontawesomeModule,[]),Nn["\u0275mpd"](1024,Js,dn,[[3,Vs]]),Nn["\u0275mpd"](512,hs,fs,[]),Nn["\u0275mpd"](512,Ws,Ws,[]),Nn["\u0275mpd"](256,Qs,{enableTracing:!1},[]),Nn["\u0275mpd"](1024,Un.LocationStrategy,fn,[Un.PlatformLocation,[2,Un.APP_BASE_HREF],Qs]),Nn["\u0275mpd"](512,Un.Location,Un.Location,[Un.LocationStrategy]),Nn["\u0275mpd"](512,Nn.Compiler,Nn.Compiler,[]),Nn["\u0275mpd"](512,Nn.NgModuleFactoryLoader,Nn.SystemJsNgModuleLoader,[Nn.Compiler,[2,Nn.SystemJsNgModuleLoaderConfig]]),Nn["\u0275mpd"](1024,Ls,function(){return[[{path:"games/decoder",component:zi},{path:"games/jigsaw",component:Vi},{path:"**",component:to}]]},[]),Nn["\u0275mpd"](1024,Vs,gn,[Nn.ApplicationRef,hs,Ws,Un.Location,Nn.Injector,Nn.NgModuleFactoryLoader,Nn.Compiler,Ls,Qs,[2,Fs],[2,Is]]),Nn["\u0275mpd"](512,ea,ea,[[2,Js],[2,Vs]]),Nn["\u0275mpd"](512,oa,oa,[])])});Object(Nn.enableProdMode)(),si().bootstrapModuleFactory(va).catch(function(t){return console.log(t)})},dJzE:function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);c.call(this,t),l.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||s(o,this)}function o(t){t.end()}var s=n("1Rb4"),a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=r;var u=n("VIKU");u.inherits=n("lDCR");var c=n("INGy"),l=n("6QZ3");u.inherits(r,c);for(var h=a(l.prototype),f=0;f<h.length;f++){var d=h[f];r.prototype[d]||(r.prototype[d]=l.prototype[d])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),r.prototype._destroy=function(t,e){this.push(null),this.end(),s(e,t)}},fRUx:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},grVA:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},iAGO:function(t,e,n){"use strict";function r(t,e){t.emit("error",e)}var i=n("1Rb4");t.exports={destroy:function(t,e){var n=this;this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i(r,this,t):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(i(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},jgl2:function(t,e,n){(function(t){var r=n("9jcD"),i=n("wR2Q"),o=n("wS+y"),s=n("7UKz"),a=e;a.request=function(e,n){e="string"==typeof e?s.parse(e):i(e);var o=-1===t.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||o,u=e.hostname||e.host,c=e.port,l=e.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),e.url=(u?a+"//"+u:"")+(c?":"+c:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var h=new r(e);return n&&h.on("response",n),h},a.get=function(t,e){var n=a.request(t,e);return n.end(),n},a.Agent=function(){},a.Agent.defaultMaxSockets=4,a.STATUS_CODES=o,a.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(e,n("fRUx"))},jxpy:function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function o(t,e,n){for(var r=[],o=e;o<n;o+=3)r.push(i((t[o]<<16)+(t[o+1]<<8)+t[o+2]));return r.join("")}e.byteLength=function(t){return 3*t.length/4-r(t)},e.toByteArray=function(t){var e,n,i,o,s,c=t.length;o=r(t),s=new u(3*c/4-o),n=o>0?c-4:c;var l=0;for(e=0;e<n;e+=4)i=a[t.charCodeAt(e)]<<18|a[t.charCodeAt(e+1)]<<12|a[t.charCodeAt(e+2)]<<6|a[t.charCodeAt(e+3)],s[l++]=i>>16&255,s[l++]=i>>8&255,s[l++]=255&i;return 2===o?(i=a[t.charCodeAt(e)]<<2|a[t.charCodeAt(e+1)]>>4,s[l++]=255&i):1===o&&(i=a[t.charCodeAt(e)]<<10|a[t.charCodeAt(e+1)]<<4|a[t.charCodeAt(e+2)]>>2,s[l++]=i>>8&255,s[l++]=255&i),s},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i="",a=[],u=0,c=n-r;u<c;u+=16383)a.push(o(t,u,u+16383>c?c:u+16383));return 1===r?(i+=s[(e=t[n-1])>>2],i+=s[e<<4&63],i+="=="):2===r&&(i+=s[(e=(t[n-2]<<8)+t[n-1])>>10],i+=s[e>>4&63],i+=s[e<<2&63],i+="="),a.push(i),a.join("")};for(var s=[],a=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,h=c.length;l<h;++l)s[l]=c[l],a[c.charCodeAt(l)]=l;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},kQVV:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length}},lDCR:function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},lI6h:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(){t.apply(this,arguments)}return Object(r.c)(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("E9/g").a)},mHG6:function(t,e,n){"use strict";e.a=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},mTPF:function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(s(t),function(s){var a=encodeURIComponent(i(s))+n;return o(t[s])?r(t[s],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[s]))}).join(e):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},mz3w:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e,r=n("xIGM").a.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}()},qLnt:function(t,e,n){"use strict";function r(){try{return s.apply(this,arguments)}catch(t){return l.e=t,l}}function i(t){return s=t,r}function o(t){return t.reduce(function(t,e){return t.concat(e instanceof f?e.errors:e)},[])}var s,a=n("1j/l"),u=n("NGRF"),c=n("B1iP"),l={e:{}},h=n("6Xbx"),f=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return Object(h.c)(e,t),e}(Error);n.d(e,"a",function(){return d});var d=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,r=n._parent,s=n._parents,h=n._unsubscribe,d=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,g=s?s.length:0;r;)r.remove(this),r=++p<g&&s[p]||null;if(Object(c.a)(h)&&(y=i(h).call(this))===l&&(e=!0,t=t||(l.e instanceof f?o(l.e.errors):[l.e])),Object(a.a)(d))for(p=-1,g=d.length;++p<g;){var v=d[p];if(Object(u.a)(v)){var y=i(v.unsubscribe).call(v);if(y===l){e=!0,t=t||[];var m=l.e;m instanceof f?t=t.concat(o(m.errors)):t.push(m)}}}if(e)throw new f(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this,n=e._parent,r=e._parents;n&&n!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}()},qgI0:function(t,e,n){"use strict";var r=n("xIGM"),i=n("kQVV"),o=n("mHG6"),s=n("NGRF"),a=n("AP4T"),u=n("X3fp"),c=n("6Xbx"),l=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return Object(c.c)(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("E9/g").a),h=n("mz3w");e.a=function(t,e,n,c){var f=new l(t,n,c);if(f.closed)return null;if(e instanceof a.a)return e._isScalar?(f.next(e.value),f.complete(),null):(f.syncErrorThrowable=!0,e.subscribe(f));if(Object(i.a)(e)){for(var d=0,p=e.length;d<p&&!f.closed;d++)f.next(e[d]);f.closed||f.complete()}else{if(Object(o.a)(e))return e.then(function(t){f.closed||(f.next(t),f.complete())},function(t){return f.error(t)}).then(null,function(t){r.a.setTimeout(function(){throw t})}),f;if(e&&"function"==typeof e[u.a])for(var g=e[u.a]();;){var v=g.next();if(v.done){f.complete();break}if(f.next(v.value),f.closed)break}else if(e&&"function"==typeof e[h.a]){var y=e[h.a]();if("function"==typeof y.subscribe)return y.subscribe(new l(t,n,c));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var m="You provided "+(Object(s.a)(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(m))}}return null}},rOzH:function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),i=(c=n.slice()).length,u=0;u<i;u++)c[u].apply(this,a);return!0},n.prototype.on=n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},rSoR:function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,f,d,p,g=t[l].replace(a,"%20"),v=g.indexOf(n);v>=0?(h=g.substr(0,v),f=g.substr(v+1)):(h=g,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},soyD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("LMZF");e.FaDirective=function(){function t(t){this.el=t.nativeElement,this.el.classList.add("fa")}return t.prototype.ngOnChanges=function(e){for(var n in e){var r=e[n].previousValue,i=e[n].currentValue;switch(n){case"name":"string"==typeof r&&this.el.classList.remove("fa-"+r),this.el.classList.add("fa-"+i);break;case"alt":break;case"size":t.sizeValidator.test(i)&&(1===r?this.el.classList.remove("fa-lg"):"string"==typeof r&&this.el.classList.remove("fa-"+r+"x"),this.el.classList.add(1===i?"fa-lg":"fa-"+i+"x"));break;case"stack":t.sizeValidator.test(i)&&("string"==typeof r&&this.el.classList.remove("fa-stack-"+r+"x"),this.el.classList.add("fa-stack-"+i+"x"));break;case"flip":t.flipValidator.test(i)&&("string"==typeof r&&this.el.classList.remove("fa-flip-"+r),this.el.classList.add("fa-flip-"+i));break;case"pull":t.pullValidator.test(i)&&("string"==typeof r&&this.el.classList.remove("fa-pull-"+r),this.el.classList.add("fa-pull-"+i));break;case"rotate":t.rotateValidator.test(i)&&("string"==typeof r&&this.el.classList.remove("fa-rotate-"+r),this.el.classList.add("fa-rotate-"+i));break;case"border":i?this.el.classList.add("fa-border"):"string"==typeof r&&this.el.classList.remove("fa-border");break;case"spin":i?this.el.classList.add("fa-spin"):"string"==typeof r&&this.el.classList.remove("fa-spin");break;case"fw":i?this.el.classList.add("fa-fw"):"string"==typeof r&&this.el.classList.remove("fa-fw");break;case"inverse":i?this.el.classList.add("fa-inverse"):"string"==typeof r&&this.el.classList.remove("fa-inverse")}}},t.sizeValidator=/[1-5]/,t.flipValidator=/['horizontal'|'vertical']/,t.pullValidator=/['right'|'left']/,t.rotateValidator=/[90|180|270]/,t.decorators=[{type:r.Directive,args:[{selector:"[fa]",inputs:["name","alt","size","stack","flip","pull","rotate","border","spin","fw","inverse"]}]}],t}()},v0OU:function(t,e,n){"use strict";(function(t){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=o.prototype:(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,e,n)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,n,r):"string"==typeof e?l(t,e,n):d(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,n,r){return a(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function c(t,e){if(a(e),t=i(t,e<0?0:0|p(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(e,n),s=(t=i(t,r)).write(e,n);return s!==r&&(t=t.slice(0,s)),t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(t,e,n,r){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e).__proto__=o.prototype:t=h(t,e),t}function d(t,e){if(o.isBuffer(e)){var n=0|p(e.length);return 0===(t=i(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||q(e.length)?i(t,0):h(t,e);if("Buffer"===e.type&&$(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function g(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(r)return H(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return j(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<a;c++)if(o(t,c)===o(e,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===u)return l*s}else-1!==l&&(c-=c-l),l=-1}else for(n+u>a&&(n=a-u),c=n;c>=0;c--){for(var h=!0,f=0;f<u;f++)if(o(t,c+f)!==o(e,f)){h=!1;break}if(h)return c}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function w(t,e,n,r){return X(H(e,t.length-n),t,n,r)}function C(t,e,n,r){return X(G(e),t,n,r)}function x(t,e,n,r){return C(t,e,n,r)}function S(t,e,n,r){return X(Y(e),t,n,r)}function O(t,e,n,r){return X(W(e,t.length-n),t,n,r)}function T(t,e,n){return K.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var u,c,l,h;switch(a){case 1:o<128&&(s=o);break;case 2:128==(192&(u=t[i+1]))&&(h=(31&o)<<6|63&u)>127&&(s=h);break;case 3:c=t[i+2],128==(192&(u=t[i+1]))&&128==(192&c)&&(h=(15&o)<<12|(63&u)<<6|63&c)>2047&&(h<55296||h>57343)&&(s=h);break;case 4:c=t[i+2],l=t[i+3],128==(192&(u=t[i+1]))&&128==(192&c)&&128==(192&l)&&(h=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&h<1114112&&(s=h)}}null===s?(s=65533,a=1):s>65535&&(r.push((s-=65536)>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return k(r)}function k(t){var e=t.length;if(e<=Q)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Q));return n}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function j(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=z(t[o]);return i}function R(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,r,i,s){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,r,i){return i||N(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,i){return i||N(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(t,e,n,r,52,8),n+8}function V(t){if((t=U(t).replace(J,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function U(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function W(t,e){for(var n,r,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}function Y(t){return K.toByteArray(V(t))}function X(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function q(t){return t!=t}var K=n("jxpy"),Z=n("7WRt"),$=n("CDvF");e.Buffer=o,e.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return s(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return u(null,t,e,n)},o.allocUnsafe=function(t){return c(null,t)},o.allocUnsafeSlow=function(t){return c(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):v.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var s=i-r,a=n-e,u=Math.min(s,a),c=this.slice(r,i),l=t.slice(e,n),h=0;h<u;++h)if(c[h]!==l[h]){s=c[h],a=l[h];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return C(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),Z.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),Z.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),Z.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),Z.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,s=r-n;if(this===t&&n<e&&e<r)for(i=s-1;i>=0;--i)t[i+e]=this[i+n];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var s;if("number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var a=o.isBuffer(t)?t:H(new o(t,r).toString()),u=a.length;for(s=0;s<n-e;++s)this[s+e]=a[s%u]}return this};var J=/[^+\/0-9A-Za-z-_]/g}).call(e,n("fRUx"))},wHgO:function(t,e,n){t.exports=n("rOzH").EventEmitter},wP3s:function(t,e,n){"use strict";e.a=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof e&&(n=e,e=null),r.lift(new s(t,e,n))}};var r=n("6Xbx"),i=n("qgI0"),o=n("lI6h"),s=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.resultSelector,this.concurrent))},t}(),a=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return Object(r.c)(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(Object(i.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},wR2Q:function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},"wS+y":function(t,e){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},xIGM:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var r="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=r||void 0!==t&&t||i}).call(e,n("fRUx"))},yY5i:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){t.copy(e,n)}var o=n("zOKz").Buffer;t.exports=function(){function t(){r(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var e=o.allocUnsafe(t>>>0),n=this.head,r=0;n;)i(n.data,e,r),r+=n.data.length,n=n.next;return e},t}()},zOKz:function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e,n){return s(t,e,n)}var o=n("v0OU"),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=o:(r(o,e),e.Buffer=i),r(s,i),i.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,n)},i.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=s(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}}},[1]);